11be709b081ae80c2c46c76388847638
"use strict";

var _jestCucumber = require("jest-cucumber");
var _react = require("@testing-library/react");
var _Base = _interopRequireDefault(require("../../Base"));
var _react2 = _interopRequireDefault(require("react"));
require("text-encoding");
var _parkingSlice = _interopRequireDefault(require("../../redux/reducer/parkingSlice"));
var _reactRedux = require("react-redux");
var _toolkit = require("@reduxjs/toolkit");
var _reactRouterDom = require("react-router-dom");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const feature = (0, _jestCucumber.loadFeature)("src/components/features/base.feature");
let store;
let rendered;
(0, _jestCucumber.defineFeature)(feature, test => {
  test("User enters the number of spaces", ({
    given,
    when,
    then,
    and
  }) => {
    store = (0, _toolkit.configureStore)({
      reducer: {
        parking: _parkingSlice.default
      }
    });
    given("the user is on the home page", () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      expect(screen).toBeTruthy();
    });
    when("the user enters some input in the input field and submits", () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      const input = screen.getByPlaceholderText("Enter the Spaces");
      const button = screen.getByText("Submit");
      _react.fireEvent.change(input, {
        target: {
          value: 10
        }
      });
      _react.fireEvent.click(button);
      expect(window.alert).toHaveBeenCalledWith("10 Spaces selected");
    });
    then('an alert is displayed with "10 Spaces selected"', () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      const input = screen.getByPlaceholderText("Enter the Spaces");
      const button = screen.getByText("Submit");
      _react.fireEvent.change(input, {
        target: {
          value: 15
        }
      });
      _react.fireEvent.click(button);
      expect(window.alert).toHaveBeenCalledWith("10 Spaces selected");
    });
    and("the parking lot should be initialized with 10 spaces", () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      const input = screen.getByTestId("input");
      const button = screen.getByText("Submit");
      _react.fireEvent.change(input, {
        target: {
          value: 15
        }
      });
      _react.fireEvent.click(button);
      expect(store.getState().parking.numSpaces).toEqual(10);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfamVzdEN1Y3VtYmVyIiwicmVxdWlyZSIsIl9yZWFjdCIsIl9CYXNlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9yZWFjdDIiLCJfcGFya2luZ1NsaWNlIiwiX3JlYWN0UmVkdXgiLCJfdG9vbGtpdCIsIl9yZWFjdFJvdXRlckRvbSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZmVhdHVyZSIsImxvYWRGZWF0dXJlIiwic3RvcmUiLCJyZW5kZXJlZCIsImRlZmluZUZlYXR1cmUiLCJ0ZXN0IiwiZ2l2ZW4iLCJ3aGVuIiwidGhlbiIsImFuZCIsImNvbmZpZ3VyZVN0b3JlIiwicmVkdWNlciIsInBhcmtpbmciLCJwYXJraW5nU2xpY2UiLCJzY3JlZW4iLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJCcm93c2VyUm91dGVyIiwiZXhwZWN0IiwidG9CZVRydXRoeSIsImlucHV0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJidXR0b24iLCJnZXRCeVRleHQiLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsImNsaWNrIiwid2luZG93IiwiYWxlcnQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImdldEJ5VGVzdElkIiwiZ2V0U3RhdGUiLCJudW1TcGFjZXMiLCJ0b0VxdWFsIl0sInNvdXJjZXMiOlsiYmFzZS5zdGVwcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmaW5lRmVhdHVyZSwgbG9hZEZlYXR1cmUgfSBmcm9tIFwiamVzdC1jdWN1bWJlclwiO1xyXG5pbXBvcnQgeyBmaXJlRXZlbnQsIHJlbmRlciwgd2FpdEZvciB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XHJcbmltcG9ydCBCYXNlIGZyb20gXCIuLi8uLi9CYXNlXCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IFwidGV4dC1lbmNvZGluZ1wiO1xyXG5pbXBvcnQgcGFya2luZ1NsaWNlLCB7XHJcbiAgaW5pdGlhbGl6ZVBhcmtpbmdMb3QsXHJcbn0gZnJvbSBcIi4uLy4uL3JlZHV4L3JlZHVjZXIvcGFya2luZ1NsaWNlXCI7XHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuaW1wb3J0IHsgQnJvd3NlclJvdXRlciBhcyBSb3V0ZXIsIFJvdXRlcywgUm91dGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcclxuY29uc3QgZmVhdHVyZSA9IGxvYWRGZWF0dXJlKFwic3JjL2NvbXBvbmVudHMvZmVhdHVyZXMvYmFzZS5mZWF0dXJlXCIpO1xyXG5sZXQgc3RvcmU6IGFueTtcclxubGV0IHJlbmRlcmVkOiBhbnk7XHJcbmRlZmluZUZlYXR1cmUoZmVhdHVyZSwgKHRlc3QpID0+IHtcclxuICB0ZXN0KFwiVXNlciBlbnRlcnMgdGhlIG51bWJlciBvZiBzcGFjZXNcIiwgKHsgZ2l2ZW4sIHdoZW4sIHRoZW4sIGFuZCB9KSA9PiB7XHJcbiAgICBzdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKHtcclxuICAgICAgcmVkdWNlcjoge1xyXG4gICAgICAgIHBhcmtpbmc6IHBhcmtpbmdTbGljZSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgZ2l2ZW4oXCJ0aGUgdXNlciBpcyBvbiB0aGUgaG9tZSBwYWdlXCIsICgpID0+IHtcclxuICAgICAgY29uc3Qgc2NyZWVuID0gcmVuZGVyKFxyXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgICAgPFJvdXRlcj5cclxuICAgICAgICAgICAgPEJhc2UgLz5cclxuICAgICAgICAgIDwvUm91dGVyPlxyXG4gICAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICAgICk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4pLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gICAgd2hlbihcInRoZSB1c2VyIGVudGVycyBzb21lIGlucHV0IGluIHRoZSBpbnB1dCBmaWVsZCBhbmQgc3VibWl0c1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNjcmVlbiA9IHJlbmRlcihcclxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cclxuICAgICAgICAgIDxSb3V0ZXI+XHJcbiAgICAgICAgICAgIDxCYXNlIC8+XHJcbiAgICAgICAgICA8L1JvdXRlcj5cclxuICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dChcIkVudGVyIHRoZSBTcGFjZXNcIik7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoXCJTdWJtaXRcIik7XHJcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoaW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAxMCB9IH0pO1xyXG4gICAgICBmaXJlRXZlbnQuY2xpY2soYnV0dG9uKTtcclxuICAgICAgZXhwZWN0KHdpbmRvdy5hbGVydCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCIxMCBTcGFjZXMgc2VsZWN0ZWRcIik7XHJcbiAgICB9KTtcclxuICAgIHRoZW4oJ2FuIGFsZXJ0IGlzIGRpc3BsYXllZCB3aXRoIFwiMTAgU3BhY2VzIHNlbGVjdGVkXCInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNjcmVlbiA9IHJlbmRlcihcclxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cclxuICAgICAgICAgIDxSb3V0ZXI+XHJcbiAgICAgICAgICAgIDxCYXNlIC8+XHJcbiAgICAgICAgICA8L1JvdXRlcj5cclxuICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dChcIkVudGVyIHRoZSBTcGFjZXNcIik7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoXCJTdWJtaXRcIik7XHJcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoaW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAxNSB9IH0pO1xyXG4gICAgICBmaXJlRXZlbnQuY2xpY2soYnV0dG9uKTtcclxuICAgICAgZXhwZWN0KHdpbmRvdy5hbGVydCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCIxMCBTcGFjZXMgc2VsZWN0ZWRcIik7XHJcbiAgICB9KTtcclxuICAgIGFuZChcInRoZSBwYXJraW5nIGxvdCBzaG91bGQgYmUgaW5pdGlhbGl6ZWQgd2l0aCAxMCBzcGFjZXNcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzY3JlZW4gPSByZW5kZXIoXHJcbiAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgICA8Um91dGVyPlxyXG4gICAgICAgICAgICA8QmFzZSAvPlxyXG4gICAgICAgICAgPC9Sb3V0ZXI+XHJcbiAgICAgICAgPC9Qcm92aWRlcj5cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoXCJpbnB1dFwiKTtcclxuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dChcIlN1Ym1pdFwiKTtcclxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShpbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6IDE1IH0gfSk7XHJcbiAgICAgIGZpcmVFdmVudC5jbGljayhidXR0b24pO1xyXG4gICAgICBleHBlY3Qoc3RvcmUuZ2V0U3RhdGUoKS5wYXJraW5nLm51bVNwYWNlcykudG9FcXVhbCgxMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFDLHNCQUFBLENB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