c38e7546d0aac4e40058292874505443
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createValidation;
var _mapValues = _interopRequireDefault(require("lodash/mapValues"));
var _ValidationError = _interopRequireDefault(require("../ValidationError"));
var _Reference = _interopRequireDefault(require("../Reference"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
function createValidation(config) {
  function validate(_ref, cb) {
    let {
        value,
        path = '',
        label,
        options,
        originalValue,
        sync
      } = _ref,
      rest = _objectWithoutPropertiesLoose(_ref, ["value", "path", "label", "options", "originalValue", "sync"]);
    const {
      name,
      test,
      params,
      message
    } = config;
    let {
      parent,
      context
    } = options;
    function resolve(item) {
      return _Reference.default.isRef(item) ? item.getValue(value, parent, context) : item;
    }
    function createError(overrides = {}) {
      const nextParams = (0, _mapValues.default)(_extends({
        value,
        originalValue,
        label,
        path: overrides.path || path
      }, params, overrides.params), resolve);
      const error = new _ValidationError.default(_ValidationError.default.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name);
      error.params = nextParams;
      return error;
    }
    let ctx = _extends({
      path,
      parent,
      type: name,
      createError,
      resolve,
      options,
      originalValue
    }, rest);
    if (!sync) {
      try {
        Promise.resolve(test.call(ctx, value, ctx)).then(validOrError => {
          if (_ValidationError.default.isError(validOrError)) cb(validOrError);else if (!validOrError) cb(createError());else cb(null, validOrError);
        }).catch(cb);
      } catch (err) {
        cb(err);
      }
      return;
    }
    let result;
    try {
      var _ref2;
      result = test.call(ctx, value, ctx);
      if (typeof ((_ref2 = result) == null ? void 0 : _ref2.then) === 'function') {
        throw new Error(`Validation test of type: "${ctx.type}" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);
      }
    } catch (err) {
      cb(err);
      return;
    }
    if (_ValidationError.default.isError(result)) cb(result);else if (!result) cb(createError());else cb(null, result);
  }
  validate.OPTIONS = config;
  return validate;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJjcmVhdGVWYWxpZGF0aW9uIiwiX21hcFZhbHVlcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX1ZhbGlkYXRpb25FcnJvciIsIl9SZWZlcmVuY2UiLCJvYmoiLCJfX2VzTW9kdWxlIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImtleXMiLCJpbmRleE9mIiwiY29uZmlnIiwidmFsaWRhdGUiLCJfcmVmIiwiY2IiLCJwYXRoIiwibGFiZWwiLCJvcHRpb25zIiwib3JpZ2luYWxWYWx1ZSIsInN5bmMiLCJyZXN0IiwibmFtZSIsInRlc3QiLCJwYXJhbXMiLCJtZXNzYWdlIiwicGFyZW50IiwiY29udGV4dCIsInJlc29sdmUiLCJpdGVtIiwiaXNSZWYiLCJnZXRWYWx1ZSIsImNyZWF0ZUVycm9yIiwib3ZlcnJpZGVzIiwibmV4dFBhcmFtcyIsImVycm9yIiwiZm9ybWF0RXJyb3IiLCJ0eXBlIiwiY3R4IiwiUHJvbWlzZSIsInRoZW4iLCJ2YWxpZE9yRXJyb3IiLCJpc0Vycm9yIiwiY2F0Y2giLCJlcnIiLCJyZXN1bHQiLCJfcmVmMiIsIkVycm9yIiwiT1BUSU9OUyJdLCJzb3VyY2VzIjpbImNyZWF0ZVZhbGlkYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVWYWxpZGF0aW9uO1xuXG52YXIgX21hcFZhbHVlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImxvZGFzaC9tYXBWYWx1ZXNcIikpO1xuXG52YXIgX1ZhbGlkYXRpb25FcnJvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1ZhbGlkYXRpb25FcnJvclwiKSk7XG5cbnZhciBfUmVmZXJlbmNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vUmVmZXJlbmNlXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBjcmVhdGVWYWxpZGF0aW9uKGNvbmZpZykge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShfcmVmLCBjYikge1xuICAgIGxldCB7XG4gICAgICB2YWx1ZSxcbiAgICAgIHBhdGggPSAnJyxcbiAgICAgIGxhYmVsLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICBzeW5jXG4gICAgfSA9IF9yZWYsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJ2YWx1ZVwiLCBcInBhdGhcIiwgXCJsYWJlbFwiLCBcIm9wdGlvbnNcIiwgXCJvcmlnaW5hbFZhbHVlXCIsIFwic3luY1wiXSk7XG5cbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgdGVzdCxcbiAgICAgIHBhcmFtcyxcbiAgICAgIG1lc3NhZ2VcbiAgICB9ID0gY29uZmlnO1xuICAgIGxldCB7XG4gICAgICBwYXJlbnQsXG4gICAgICBjb250ZXh0XG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKGl0ZW0pIHtcbiAgICAgIHJldHVybiBfUmVmZXJlbmNlLmRlZmF1bHQuaXNSZWYoaXRlbSkgPyBpdGVtLmdldFZhbHVlKHZhbHVlLCBwYXJlbnQsIGNvbnRleHQpIDogaXRlbTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVFcnJvcihvdmVycmlkZXMgPSB7fSkge1xuICAgICAgY29uc3QgbmV4dFBhcmFtcyA9ICgwLCBfbWFwVmFsdWVzLmRlZmF1bHQpKF9leHRlbmRzKHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICBwYXRoOiBvdmVycmlkZXMucGF0aCB8fCBwYXRoXG4gICAgICB9LCBwYXJhbXMsIG92ZXJyaWRlcy5wYXJhbXMpLCByZXNvbHZlKTtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IF9WYWxpZGF0aW9uRXJyb3IuZGVmYXVsdChfVmFsaWRhdGlvbkVycm9yLmRlZmF1bHQuZm9ybWF0RXJyb3Iob3ZlcnJpZGVzLm1lc3NhZ2UgfHwgbWVzc2FnZSwgbmV4dFBhcmFtcyksIHZhbHVlLCBuZXh0UGFyYW1zLnBhdGgsIG92ZXJyaWRlcy50eXBlIHx8IG5hbWUpO1xuICAgICAgZXJyb3IucGFyYW1zID0gbmV4dFBhcmFtcztcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG5cbiAgICBsZXQgY3R4ID0gX2V4dGVuZHMoe1xuICAgICAgcGF0aCxcbiAgICAgIHBhcmVudCxcbiAgICAgIHR5cGU6IG5hbWUsXG4gICAgICBjcmVhdGVFcnJvcixcbiAgICAgIHJlc29sdmUsXG4gICAgICBvcHRpb25zLFxuICAgICAgb3JpZ2luYWxWYWx1ZVxuICAgIH0sIHJlc3QpO1xuXG4gICAgaWYgKCFzeW5jKSB7XG4gICAgICB0cnkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUodGVzdC5jYWxsKGN0eCwgdmFsdWUsIGN0eCkpLnRoZW4odmFsaWRPckVycm9yID0+IHtcbiAgICAgICAgICBpZiAoX1ZhbGlkYXRpb25FcnJvci5kZWZhdWx0LmlzRXJyb3IodmFsaWRPckVycm9yKSkgY2IodmFsaWRPckVycm9yKTtlbHNlIGlmICghdmFsaWRPckVycm9yKSBjYihjcmVhdGVFcnJvcigpKTtlbHNlIGNiKG51bGwsIHZhbGlkT3JFcnJvcik7XG4gICAgICAgIH0pLmNhdGNoKGNiKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjYihlcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgX3JlZjI7XG5cbiAgICAgIHJlc3VsdCA9IHRlc3QuY2FsbChjdHgsIHZhbHVlLCBjdHgpO1xuXG4gICAgICBpZiAodHlwZW9mICgoX3JlZjIgPSByZXN1bHQpID09IG51bGwgPyB2b2lkIDAgOiBfcmVmMi50aGVuKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbGlkYXRpb24gdGVzdCBvZiB0eXBlOiBcIiR7Y3R4LnR5cGV9XCIgcmV0dXJuZWQgYSBQcm9taXNlIGR1cmluZyBhIHN5bmNocm9ub3VzIHZhbGlkYXRlLiBgICsgYFRoaXMgdGVzdCB3aWxsIGZpbmlzaCBhZnRlciB0aGUgdmFsaWRhdGUgY2FsbCBoYXMgcmV0dXJuZWRgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNiKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9WYWxpZGF0aW9uRXJyb3IuZGVmYXVsdC5pc0Vycm9yKHJlc3VsdCkpIGNiKHJlc3VsdCk7ZWxzZSBpZiAoIXJlc3VsdCkgY2IoY3JlYXRlRXJyb3IoKSk7ZWxzZSBjYihudWxsLCByZXN1bHQpO1xuICB9XG5cbiAgdmFsaWRhdGUuT1BUSU9OUyA9IGNvbmZpZztcbiAgcmV0dXJuIHZhbGlkYXRlO1xufSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLE9BQU8sR0FBR0MsZ0JBQWdCO0FBRWxDLElBQUlDLFVBQVUsR0FBR0Msc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBRXBFLElBQUlDLGdCQUFnQixHQUFHRixzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFFNUUsSUFBSUUsVUFBVSxHQUFHSCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBRWhFLFNBQVNELHNCQUFzQkEsQ0FBQ0ksR0FBRyxFQUFFO0VBQUUsT0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNDLFVBQVUsR0FBR0QsR0FB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