{"version":3,"names":["gherkin_1","require","value_checker_1","KeywordType","exports","getStepKeywordType","keyword","language","previousKeywordType","dialect","dialects","stepKeywords","type","find","key","includes","Event","Outcome","doesHaveValue","Precondition"],"sources":["../../../src/formatter/helpers/keyword_type.ts"],"sourcesContent":["import { Dialect, dialects } from '@cucumber/gherkin'\nimport { doesHaveValue } from '../../value_checker'\n\nexport enum KeywordType {\n  Precondition = 'precondition',\n  Event = 'event',\n  Outcome = 'outcome',\n}\n\nexport interface IGetStepKeywordTypeOptions {\n  keyword: string\n  language: string\n  previousKeywordType?: KeywordType\n}\n\nexport function getStepKeywordType({\n  keyword,\n  language,\n  previousKeywordType,\n}: IGetStepKeywordTypeOptions): KeywordType {\n  const dialect: Dialect = dialects[language]\n  const stepKeywords = ['given', 'when', 'then', 'and', 'but'] as const\n  const type = stepKeywords.find((key) => dialect[key].includes(keyword))\n  switch (type) {\n    case 'when':\n      return KeywordType.Event\n    case 'then':\n      return KeywordType.Outcome\n    case 'and':\n    case 'but':\n      if (doesHaveValue(previousKeywordType)) {\n        return previousKeywordType\n      }\n    // fallthrough\n    default:\n      return KeywordType.Precondition\n  }\n}\n"],"mappings":";;;;;;AAAA,MAAAA,SAAA,GAAAC,OAAA;AACA,MAAAC,eAAA,GAAAD,OAAA;AAEA,IAAYE,WAIX;AAJD,WAAYA,WAAW;EACrBA,WAAA,iCAA6B;EAC7BA,WAAA,mBAAe;EACfA,WAAA,uBAAmB;AACrB,CAAC,EAJWA,WAAW,GAAXC,OAAA,CAAAD,WAAW,KAAXC,OAAA,CAAAD,WAAW;AAYvB,SAAgBE,kBAAkBA,CAAC;EACjCC,OAAO;EACPC,QAAQ;EACRC;AAAmB,CACQ;EAC3B,MAAMC,OAAO,GAAYT,SAAA,CAAAU,QAAQ,CAACH,QAAQ,CAAC;EAC3C,MAAMI,YAAY,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAU;EACrE,MAAMC,IAAI,GAAGD,YAAY,CAACE,IAAI,CAAEC,GAAG,IAAKL,OAAO,CAACK,GAAG,CAAC,CAACC,QAAQ,CAACT,OAAO,CAAC,CAAC;EACvE,QAAQM,IAAI;IACV,KAAK,MAAM;MACT,OAAOT,WAAW,CAACa,KAAK;IAC1B,KAAK,MAAM;MACT,OAAOb,WAAW,CAACc,OAAO;IAC5B,KAAK,KAAK;IACV,KAAK,KAAK;MACR,IAAI,IAAAf,eAAA,CAAAgB,aAAa,EAACV,mBAAmB,CAAC,EAAE;QACtC,OAAOA,mBAAmB;;IAE9B;IACA;MACE,OAAOL,WAAW,CAACgB,YAAY;EAAA;AAErC;AAtBAf,OAAA,CAAAC,kBAAA,GAAAA,kBAAA"}