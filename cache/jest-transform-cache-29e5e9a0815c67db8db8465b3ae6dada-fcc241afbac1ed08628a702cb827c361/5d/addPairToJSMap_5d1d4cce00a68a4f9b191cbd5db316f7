46b206d1d9e97a1a8dcb053c40940ede
'use strict';

var log = require('../log.js');
var stringify = require('../stringify/stringify.js');
var Node = require('./Node.js');
var Scalar = require('./Scalar.js');
var toJS = require('./toJS.js');
const MERGE_KEY = '<<';
function addPairToJSMap(ctx, map, {
  key,
  value
}) {
  if (ctx?.doc.schema.merge && isMergeKey(key)) {
    value = Node.isAlias(value) ? value.resolve(ctx.doc) : value;
    if (Node.isSeq(value)) for (const it of value.items) mergeToJSMap(ctx, map, it);else if (Array.isArray(value)) for (const it of value) mergeToJSMap(ctx, map, it);else mergeToJSMap(ctx, map, value);
  } else {
    const jsKey = toJS.toJS(key, '', ctx);
    if (map instanceof Map) {
      map.set(jsKey, toJS.toJS(value, jsKey, ctx));
    } else if (map instanceof Set) {
      map.add(jsKey);
    } else {
      const stringKey = stringifyKey(key, jsKey, ctx);
      const jsValue = toJS.toJS(value, stringKey, ctx);
      if (stringKey in map) Object.defineProperty(map, stringKey, {
        value: jsValue,
        writable: true,
        enumerable: true,
        configurable: true
      });else map[stringKey] = jsValue;
    }
  }
  return map;
}
const isMergeKey = key => key === MERGE_KEY || Node.isScalar(key) && key.value === MERGE_KEY && (!key.type || key.type === Scalar.Scalar.PLAIN);
// If the value associated with a merge key is a single mapping node, each of
// its key/value pairs is inserted into the current mapping, unless the key
// already exists in it. If the value associated with the merge key is a
// sequence, then this sequence is expected to contain mapping nodes and each
// of these nodes is merged in turn according to its order in the sequence.
// Keys in mapping nodes earlier in the sequence override keys specified in
// later mapping nodes. -- http://yaml.org/type/merge.html
function mergeToJSMap(ctx, map, value) {
  const source = ctx && Node.isAlias(value) ? value.resolve(ctx.doc) : value;
  if (!Node.isMap(source)) throw new Error('Merge sources must be maps or map aliases');
  const srcMap = source.toJSON(null, ctx, Map);
  for (const [key, value] of srcMap) {
    if (map instanceof Map) {
      if (!map.has(key)) map.set(key, value);
    } else if (map instanceof Set) {
      map.add(key);
    } else if (!Object.prototype.hasOwnProperty.call(map, key)) {
      Object.defineProperty(map, key, {
        value,
        writable: true,
        enumerable: true,
        configurable: true
      });
    }
  }
  return map;
}
function stringifyKey(key, jsKey, ctx) {
  if (jsKey === null) return '';
  if (typeof jsKey !== 'object') return String(jsKey);
  if (Node.isNode(key) && ctx && ctx.doc) {
    const strCtx = stringify.createStringifyContext(ctx.doc, {});
    strCtx.anchors = new Set();
    for (const node of ctx.anchors.keys()) strCtx.anchors.add(node.anchor);
    strCtx.inFlow = true;
    strCtx.inStringifyKey = true;
    const strKey = key.toString(strCtx);
    if (!ctx.mapKeyWarned) {
      let jsonStr = JSON.stringify(strKey);
      if (jsonStr.length > 40) jsonStr = jsonStr.substring(0, 36) + '..."';
      log.warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);
      ctx.mapKeyWarned = true;
    }
    return strKey;
  }
  return JSON.stringify(jsKey);
}
exports.addPairToJSMap = addPairToJSMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2ciLCJyZXF1aXJlIiwic3RyaW5naWZ5IiwiTm9kZSIsIlNjYWxhciIsInRvSlMiLCJNRVJHRV9LRVkiLCJhZGRQYWlyVG9KU01hcCIsImN0eCIsIm1hcCIsImtleSIsInZhbHVlIiwiZG9jIiwic2NoZW1hIiwibWVyZ2UiLCJpc01lcmdlS2V5IiwiaXNBbGlhcyIsInJlc29sdmUiLCJpc1NlcSIsIml0IiwiaXRlbXMiLCJtZXJnZVRvSlNNYXAiLCJBcnJheSIsImlzQXJyYXkiLCJqc0tleSIsIk1hcCIsInNldCIsIlNldCIsImFkZCIsInN0cmluZ0tleSIsInN0cmluZ2lmeUtleSIsImpzVmFsdWUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImlzU2NhbGFyIiwidHlwZSIsIlBMQUlOIiwic291cmNlIiwiaXNNYXAiLCJFcnJvciIsInNyY01hcCIsInRvSlNPTiIsImhhcyIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN0cmluZyIsImlzTm9kZSIsInN0ckN0eCIsImNyZWF0ZVN0cmluZ2lmeUNvbnRleHQiLCJhbmNob3JzIiwibm9kZSIsImtleXMiLCJhbmNob3IiLCJpbkZsb3ciLCJpblN0cmluZ2lmeUtleSIsInN0cktleSIsInRvU3RyaW5nIiwibWFwS2V5V2FybmVkIiwianNvblN0ciIsIkpTT04iLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJ3YXJuIiwib3B0aW9ucyIsImxvZ0xldmVsIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFkZFBhaXJUb0pTTWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGxvZyA9IHJlcXVpcmUoJy4uL2xvZy5qcycpO1xudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJy4uL3N0cmluZ2lmeS9zdHJpbmdpZnkuanMnKTtcbnZhciBOb2RlID0gcmVxdWlyZSgnLi9Ob2RlLmpzJyk7XG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi9TY2FsYXIuanMnKTtcbnZhciB0b0pTID0gcmVxdWlyZSgnLi90b0pTLmpzJyk7XG5cbmNvbnN0IE1FUkdFX0tFWSA9ICc8PCc7XG5mdW5jdGlvbiBhZGRQYWlyVG9KU01hcChjdHgsIG1hcCwgeyBrZXksIHZhbHVlIH0pIHtcbiAgICBpZiAoY3R4Py5kb2Muc2NoZW1hLm1lcmdlICYmIGlzTWVyZ2VLZXkoa2V5KSkge1xuICAgICAgICB2YWx1ZSA9IE5vZGUuaXNBbGlhcyh2YWx1ZSkgPyB2YWx1ZS5yZXNvbHZlKGN0eC5kb2MpIDogdmFsdWU7XG4gICAgICAgIGlmIChOb2RlLmlzU2VxKHZhbHVlKSlcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXQgb2YgdmFsdWUuaXRlbXMpXG4gICAgICAgICAgICAgICAgbWVyZ2VUb0pTTWFwKGN0eCwgbWFwLCBpdCk7XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICAgICAgZm9yIChjb25zdCBpdCBvZiB2YWx1ZSlcbiAgICAgICAgICAgICAgICBtZXJnZVRvSlNNYXAoY3R4LCBtYXAsIGl0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbWVyZ2VUb0pTTWFwKGN0eCwgbWFwLCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBqc0tleSA9IHRvSlMudG9KUyhrZXksICcnLCBjdHgpO1xuICAgICAgICBpZiAobWFwIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGpzS2V5LCB0b0pTLnRvSlModmFsdWUsIGpzS2V5LCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXAgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgIG1hcC5hZGQoanNLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nS2V5ID0gc3RyaW5naWZ5S2V5KGtleSwganNLZXksIGN0eCk7XG4gICAgICAgICAgICBjb25zdCBqc1ZhbHVlID0gdG9KUy50b0pTKHZhbHVlLCBzdHJpbmdLZXksIGN0eCk7XG4gICAgICAgICAgICBpZiAoc3RyaW5nS2V5IGluIG1hcClcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWFwLCBzdHJpbmdLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGpzVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtYXBbc3RyaW5nS2V5XSA9IGpzVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbn1cbmNvbnN0IGlzTWVyZ2VLZXkgPSAoa2V5KSA9PiBrZXkgPT09IE1FUkdFX0tFWSB8fFxuICAgIChOb2RlLmlzU2NhbGFyKGtleSkgJiZcbiAgICAgICAga2V5LnZhbHVlID09PSBNRVJHRV9LRVkgJiZcbiAgICAgICAgKCFrZXkudHlwZSB8fCBrZXkudHlwZSA9PT0gU2NhbGFyLlNjYWxhci5QTEFJTikpO1xuLy8gSWYgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhIG1lcmdlIGtleSBpcyBhIHNpbmdsZSBtYXBwaW5nIG5vZGUsIGVhY2ggb2Zcbi8vIGl0cyBrZXkvdmFsdWUgcGFpcnMgaXMgaW5zZXJ0ZWQgaW50byB0aGUgY3VycmVudCBtYXBwaW5nLCB1bmxlc3MgdGhlIGtleVxuLy8gYWxyZWFkeSBleGlzdHMgaW4gaXQuIElmIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIG1lcmdlIGtleSBpcyBhXG4vLyBzZXF1ZW5jZSwgdGhlbiB0aGlzIHNlcXVlbmNlIGlzIGV4cGVjdGVkIHRvIGNvbnRhaW4gbWFwcGluZyBub2RlcyBhbmQgZWFjaFxuLy8gb2YgdGhlc2Ugbm9kZXMgaXMgbWVyZ2VkIGluIHR1cm4gYWNjb3JkaW5nIHRvIGl0cyBvcmRlciBpbiB0aGUgc2VxdWVuY2UuXG4vLyBLZXlzIGluIG1hcHBpbmcgbm9kZXMgZWFybGllciBpbiB0aGUgc2VxdWVuY2Ugb3ZlcnJpZGUga2V5cyBzcGVjaWZpZWQgaW5cbi8vIGxhdGVyIG1hcHBpbmcgbm9kZXMuIC0tIGh0dHA6Ly95YW1sLm9yZy90eXBlL21lcmdlLmh0bWxcbmZ1bmN0aW9uIG1lcmdlVG9KU01hcChjdHgsIG1hcCwgdmFsdWUpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBjdHggJiYgTm9kZS5pc0FsaWFzKHZhbHVlKSA/IHZhbHVlLnJlc29sdmUoY3R4LmRvYykgOiB2YWx1ZTtcbiAgICBpZiAoIU5vZGUuaXNNYXAoc291cmNlKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXJnZSBzb3VyY2VzIG11c3QgYmUgbWFwcyBvciBtYXAgYWxpYXNlcycpO1xuICAgIGNvbnN0IHNyY01hcCA9IHNvdXJjZS50b0pTT04obnVsbCwgY3R4LCBNYXApO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHNyY01hcCkge1xuICAgICAgICBpZiAobWFwIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5oYXMoa2V5KSlcbiAgICAgICAgICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcCBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgbWFwLmFkZChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFwLCBrZXkpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWFwLCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUtleShrZXksIGpzS2V5LCBjdHgpIHtcbiAgICBpZiAoanNLZXkgPT09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIGpzS2V5ICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIFN0cmluZyhqc0tleSk7XG4gICAgaWYgKE5vZGUuaXNOb2RlKGtleSkgJiYgY3R4ICYmIGN0eC5kb2MpIHtcbiAgICAgICAgY29uc3Qgc3RyQ3R4ID0gc3RyaW5naWZ5LmNyZWF0ZVN0cmluZ2lmeUNvbnRleHQoY3R4LmRvYywge30pO1xuICAgICAgICBzdHJDdHguYW5jaG9ycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGN0eC5hbmNob3JzLmtleXMoKSlcbiAgICAgICAgICAgIHN0ckN0eC5hbmNob3JzLmFkZChub2RlLmFuY2hvcik7XG4gICAgICAgIHN0ckN0eC5pbkZsb3cgPSB0cnVlO1xuICAgICAgICBzdHJDdHguaW5TdHJpbmdpZnlLZXkgPSB0cnVlO1xuICAgICAgICBjb25zdCBzdHJLZXkgPSBrZXkudG9TdHJpbmcoc3RyQ3R4KTtcbiAgICAgICAgaWYgKCFjdHgubWFwS2V5V2FybmVkKSB7XG4gICAgICAgICAgICBsZXQganNvblN0ciA9IEpTT04uc3RyaW5naWZ5KHN0cktleSk7XG4gICAgICAgICAgICBpZiAoanNvblN0ci5sZW5ndGggPiA0MClcbiAgICAgICAgICAgICAgICBqc29uU3RyID0ganNvblN0ci5zdWJzdHJpbmcoMCwgMzYpICsgJy4uLlwiJztcbiAgICAgICAgICAgIGxvZy53YXJuKGN0eC5kb2Mub3B0aW9ucy5sb2dMZXZlbCwgYEtleXMgd2l0aCBjb2xsZWN0aW9uIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkIGR1ZSB0byBKUyBPYmplY3QgcmVzdHJpY3Rpb25zOiAke2pzb25TdHJ9LiBTZXQgbWFwQXNNYXA6IHRydWUgdG8gdXNlIG9iamVjdCBrZXlzLmApO1xuICAgICAgICAgICAgY3R4Lm1hcEtleVdhcm5lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cktleTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzS2V5KTtcbn1cblxuZXhwb3J0cy5hZGRQYWlyVG9KU01hcCA9IGFkZFBhaXJUb0pTTWFwO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLEdBQUcsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUM5QixJQUFJQyxTQUFTLEdBQUdELE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUNwRCxJQUFJRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDL0IsSUFBSUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ25DLElBQUlJLElBQUksR0FBR0osT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUUvQixNQUFNSyxTQUFTLEdBQUcsSUFBSTtBQUN0QixTQUFTQyxjQUFjQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUFFQyxHQUFHO0VBQUVDO0FBQU0sQ0FBQyxFQUFFO0VBQzlDLElBQUlILEdBQUcsRUFBRUksR0FBRyxDQUFDQyxNQUFNLENBQUNDLEtBQUssSUFBSUMsVUFBVSxDQUFDTCxHQUFHLENBQUMsRUFBRTtJQUMxQ0MsS0FBSyxHQUFHUixJQUFJLENBQUNhLE9BQU8sQ0FBQ0wsS0FBSyxDQUFDLEdBQUdBLEtBQUssQ0FBQ00sT0FBTyxDQUFDVCxHQUFHLENBQUNJLEdBQUcsQ0FBQyxHQUFHRCxLQUFLO0lBQzVELElBQUlSLElBQUksQ0FBQ2UsS0FBSyxDQUFDUCxLQUFLLENBQUMsRUFDakIsS0FBSyxNQUFNUSxFQUFFLElBQUlSLEtBQUss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