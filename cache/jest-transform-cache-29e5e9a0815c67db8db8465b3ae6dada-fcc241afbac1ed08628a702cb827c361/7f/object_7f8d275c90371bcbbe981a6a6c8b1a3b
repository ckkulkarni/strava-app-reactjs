1580be6cb6c3149cda13fc71a95f9538
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.create = create;
exports.default = void 0;
var _has = _interopRequireDefault(require("lodash/has"));
var _snakeCase = _interopRequireDefault(require("lodash/snakeCase"));
var _camelCase = _interopRequireDefault(require("lodash/camelCase"));
var _mapKeys = _interopRequireDefault(require("lodash/mapKeys"));
var _mapValues = _interopRequireDefault(require("lodash/mapValues"));
var _propertyExpr = require("property-expr");
var _locale = require("./locale");
var _sortFields = _interopRequireDefault(require("./util/sortFields"));
var _sortByKeyOrder = _interopRequireDefault(require("./util/sortByKeyOrder"));
var _runTests = _interopRequireDefault(require("./util/runTests"));
var _ValidationError = _interopRequireDefault(require("./ValidationError"));
var _schema = _interopRequireDefault(require("./schema"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
let isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';
function unknown(ctx, value) {
  let known = Object.keys(ctx.fields);
  return Object.keys(value).filter(key => known.indexOf(key) === -1);
}
const defaultSort = (0, _sortByKeyOrder.default)([]);
class ObjectSchema extends _schema.default {
  constructor(spec) {
    super({
      type: 'object'
    });
    this.fields = Object.create(null);
    this._sortErrors = defaultSort;
    this._nodes = [];
    this._excludedEdges = [];
    this.withMutation(() => {
      this.transform(function coerce(value) {
        if (typeof value === 'string') {
          try {
            value = JSON.parse(value);
          } catch (err) {
            value = null;
          }
        }
        if (this.isType(value)) return value;
        return null;
      });
      if (spec) {
        this.shape(spec);
      }
    });
  }
  _typeCheck(value) {
    return isObject(value) || typeof value === 'function';
  }
  _cast(_value, options = {}) {
    var _options$stripUnknown;
    let value = super._cast(_value, options); //should ignore nulls here

    if (value === undefined) return this.getDefault();
    if (!this._typeCheck(value)) return value;
    let fields = this.fields;
    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;
    let props = this._nodes.concat(Object.keys(value).filter(v => this._nodes.indexOf(v) === -1));
    let intermediateValue = {}; // is filled during the transform below

    let innerOptions = _extends({}, options, {
      parent: intermediateValue,
      __validating: options.__validating || false
    });
    let isChanged = false;
    for (const prop of props) {
      let field = fields[prop];
      let exists = (0, _has.default)(value, prop);
      if (field) {
        let fieldValue;
        let inputValue = value[prop]; // safe to mutate since this is fired in sequence

        innerOptions.path = (options.path ? `${options.path}.` : '') + prop; // innerOptions.value = value[prop];

        field = field.resolve({
          value: inputValue,
          context: options.context,
          parent: intermediateValue
        });
        let fieldSpec = 'spec' in field ? field.spec : undefined;
        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;
        if (fieldSpec == null ? void 0 : fieldSpec.strip) {
          isChanged = isChanged || prop in value;
          continue;
        }
        fieldValue = !options.__validating || !strict ?
        // TODO: use _cast, this is double resolving
        field.cast(value[prop], innerOptions) : value[prop];
        if (fieldValue !== undefined) {
          intermediateValue[prop] = fieldValue;
        }
      } else if (exists && !strip) {
        intermediateValue[prop] = value[prop];
      }
      if (intermediateValue[prop] !== value[prop]) {
        isChanged = true;
      }
    }
    return isChanged ? intermediateValue : value;
  }
  _validate(_value, opts = {}, callback) {
    let errors = [];
    let {
      sync,
      from = [],
      originalValue = _value,
      abortEarly = this.spec.abortEarly,
      recursive = this.spec.recursive
    } = opts;
    from = [{
      schema: this,
      value: originalValue
    }, ...from]; // this flag is needed for handling `strict` correctly in the context of
    // validation vs just casting. e.g strict() on a field is only used when validating

    opts.__validating = true;
    opts.originalValue = originalValue;
    opts.from = from;
    super._validate(_value, opts, (err, value) => {
      if (err) {
        if (!_ValidationError.default.isError(err) || abortEarly) {
          return void callback(err, value);
        }
        errors.push(err);
      }
      if (!recursive || !isObject(value)) {
        callback(errors[0] || null, value);
        return;
      }
      originalValue = originalValue || value;
      let tests = this._nodes.map(key => (_, cb) => {
        let path = key.indexOf('.') === -1 ? (opts.path ? `${opts.path}.` : '') + key : `${opts.path || ''}["${key}"]`;
        let field = this.fields[key];
        if (field && 'validate' in field) {
          field.validate(value[key], _extends({}, opts, {
            // @ts-ignore
            path,
            from,
            // inner fields are always strict:
            // 1. this isn't strict so the casting will also have cast inner values
            // 2. this is strict in which case the nested values weren't cast either
            strict: true,
            parent: value,
            originalValue: originalValue[key]
          }), cb);
          return;
        }
        cb(null);
      });
      (0, _runTests.default)({
        sync,
        tests,
        value,
        errors,
        endEarly: abortEarly,
        sort: this._sortErrors,
        path: opts.path
      }, callback);
    });
  }
  clone(spec) {
    const next = super.clone(spec);
    next.fields = _extends({}, this.fields);
    next._nodes = this._nodes;
    next._excludedEdges = this._excludedEdges;
    next._sortErrors = this._sortErrors;
    return next;
  }
  concat(schema) {
    let next = super.concat(schema);
    let nextFields = next.fields;
    for (let [field, schemaOrRef] of Object.entries(this.fields)) {
      const target = nextFields[field];
      if (target === undefined) {
        nextFields[field] = schemaOrRef;
      } else if (target instanceof _schema.default && schemaOrRef instanceof _schema.default) {
        nextFields[field] = schemaOrRef.concat(target);
      }
    }
    return next.withMutation(() => next.shape(nextFields, this._excludedEdges));
  }
  getDefaultFromShape() {
    let dft = {};
    this._nodes.forEach(key => {
      const field = this.fields[key];
      dft[key] = 'default' in field ? field.getDefault() : undefined;
    });
    return dft;
  }
  _getDefault() {
    if ('default' in this.spec) {
      return super._getDefault();
    } // if there is no default set invent one

    if (!this._nodes.length) {
      return undefined;
    }
    return this.getDefaultFromShape();
  }
  shape(additions, excludes = []) {
    let next = this.clone();
    let fields = Object.assign(next.fields, additions);
    next.fields = fields;
    next._sortErrors = (0, _sortByKeyOrder.default)(Object.keys(fields));
    if (excludes.length) {
      // this is a convenience for when users only supply a single pair
      if (!Array.isArray(excludes[0])) excludes = [excludes];
      next._excludedEdges = [...next._excludedEdges, ...excludes];
    }
    next._nodes = (0, _sortFields.default)(fields, next._excludedEdges);
    return next;
  }
  pick(keys) {
    const picked = {};
    for (const key of keys) {
      if (this.fields[key]) picked[key] = this.fields[key];
    }
    return this.clone().withMutation(next => {
      next.fields = {};
      return next.shape(picked);
    });
  }
  omit(keys) {
    const next = this.clone();
    const fields = next.fields;
    next.fields = {};
    for (const key of keys) {
      delete fields[key];
    }
    return next.withMutation(() => next.shape(fields));
  }
  from(from, to, alias) {
    let fromGetter = (0, _propertyExpr.getter)(from, true);
    return this.transform(obj => {
      if (obj == null) return obj;
      let newObj = obj;
      if ((0, _has.default)(obj, from)) {
        newObj = _extends({}, obj);
        if (!alias) delete newObj[from];
        newObj[to] = fromGetter(obj);
      }
      return newObj;
    });
  }
  noUnknown(noAllow = true, message = _locale.object.noUnknown) {
    if (typeof noAllow === 'string') {
      message = noAllow;
      noAllow = true;
    }
    let next = this.test({
      name: 'noUnknown',
      exclusive: true,
      message: message,
      test(value) {
        if (value == null) return true;
        const unknownKeys = unknown(this.schema, value);
        return !noAllow || unknownKeys.length === 0 || this.createError({
          params: {
            unknown: unknownKeys.join(', ')
          }
        });
      }
    });
    next.spec.noUnknown = noAllow;
    return next;
  }
  unknown(allow = true, message = _locale.object.noUnknown) {
    return this.noUnknown(!allow, message);
  }
  transformKeys(fn) {
    return this.transform(obj => obj && (0, _mapKeys.default)(obj, (_, key) => fn(key)));
  }
  camelCase() {
    return this.transformKeys(_camelCase.default);
  }
  snakeCase() {
    return this.transformKeys(_snakeCase.default);
  }
  constantCase() {
    return this.transformKeys(key => (0, _snakeCase.default)(key).toUpperCase());
  }
  describe() {
    let base = super.describe();
    base.fields = (0, _mapValues.default)(this.fields, value => value.describe());
    return base;
  }
}
exports.default = ObjectSchema;
function create(spec) {
  return new ObjectSchema(spec);
}
create.prototype = ObjectSchema.prototype;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNyZWF0ZSIsImRlZmF1bHQiLCJfaGFzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfc25ha2VDYXNlIiwiX2NhbWVsQ2FzZSIsIl9tYXBLZXlzIiwiX21hcFZhbHVlcyIsIl9wcm9wZXJ0eUV4cHIiLCJfbG9jYWxlIiwiX3NvcnRGaWVsZHMiLCJfc29ydEJ5S2V5T3JkZXIiLCJfcnVuVGVzdHMiLCJfVmFsaWRhdGlvbkVycm9yIiwiX3NjaGVtYSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsImlzT2JqZWN0IiwidG9TdHJpbmciLCJ1bmtub3duIiwiY3R4Iiwia25vd24iLCJrZXlzIiwiZmllbGRzIiwiZmlsdGVyIiwiaW5kZXhPZiIsImRlZmF1bHRTb3J0IiwiT2JqZWN0U2NoZW1hIiwiY29uc3RydWN0b3IiLCJzcGVjIiwidHlwZSIsIl9zb3J0RXJyb3JzIiwiX25vZGVzIiwiX2V4Y2x1ZGVkRWRnZXMiLCJ3aXRoTXV0YXRpb24iLCJ0cmFuc2Zvcm0iLCJjb2VyY2UiLCJKU09OIiwicGFyc2UiLCJlcnIiLCJpc1R5cGUiLCJzaGFwZSIsIl90eXBlQ2hlY2siLCJfY2FzdCIsIl92YWx1ZSIsIm9wdGlvbnMiLCJfb3B0aW9ucyRzdHJpcFVua25vd24iLCJ1bmRlZmluZWQiLCJnZXREZWZhdWx0Iiwic3RyaXAiLCJzdHJpcFVua25vd24iLCJub1Vua25vd24iLCJwcm9wcyIsImNvbmNhdCIsInYiLCJpbnRlcm1lZGlhdGVWYWx1ZSIsImlubmVyT3B0aW9ucyIsInBhcmVudCIsIl9fdmFsaWRhdGluZyIsImlzQ2hhbmdlZCIsInByb3AiLCJmaWVsZCIsImV4aXN0cyIsImZpZWxkVmFsdWUiLCJpbnB1dFZhbHVlIiwicGF0aCIsInJlc29sdmUiLCJjb250ZXh0IiwiZmllbGRTcGVjIiwic3RyaWN0IiwiY2FzdCIsIl92YWxpZGF0ZSIsIm9wdHMiLCJjYWxsYmFjayIsImVycm9ycyIsInN5bmMiLCJmcm9tIiwib3JpZ2luYWxWYWx1ZSIsImFib3J0RWFybHkiLCJyZWN1cnNpdmUiLCJzY2hlbWEiLCJpc0Vycm9yIiwicHVzaCIsInRlc3RzIiwibWFwIiwiXyIsImNiIiwidmFsaWRhdGUiLCJlbmRFYXJseSIsInNvcnQiLCJjbG9uZSIsIm5leHQiLCJuZXh0RmllbGRzIiwic2NoZW1hT3JSZWYiLCJlbnRyaWVzIiwiZ2V0RGVmYXVsdEZyb21TaGFwZSIsImRmdCIsImZvckVhY2giLCJfZ2V0RGVmYXVsdCIsImFkZGl0aW9ucyIsImV4Y2x1ZGVzIiwiQXJyYXkiLCJpc0FycmF5IiwicGljayIsInBpY2tlZCIsIm9taXQiLCJ0byIsImFsaWFzIiwiZnJvbUdldHRlciIsImdldHRlciIsIm5ld09iaiIsIm5vQWxsb3ciLCJtZXNzYWdlIiwib2JqZWN0IiwidGVzdCIsIm5hbWUiLCJleGNsdXNpdmUiLCJ1bmtub3duS2V5cyIsImNyZWF0ZUVycm9yIiwicGFyYW1zIiwiam9pbiIsImFsbG93IiwidHJhbnNmb3JtS2V5cyIsImZuIiwiY2FtZWxDYXNlIiwic25ha2VDYXNlIiwiY29uc3RhbnRDYXNlIiwidG9VcHBlckNhc2UiLCJkZXNjcmliZSIsImJhc2UiXSwic291cmNlcyI6WyJvYmplY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNyZWF0ZSA9IGNyZWF0ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9oYXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvaGFzXCIpKTtcblxudmFyIF9zbmFrZUNhc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvc25ha2VDYXNlXCIpKTtcblxudmFyIF9jYW1lbENhc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvY2FtZWxDYXNlXCIpKTtcblxudmFyIF9tYXBLZXlzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwibG9kYXNoL21hcEtleXNcIikpO1xuXG52YXIgX21hcFZhbHVlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImxvZGFzaC9tYXBWYWx1ZXNcIikpO1xuXG52YXIgX3Byb3BlcnR5RXhwciA9IHJlcXVpcmUoXCJwcm9wZXJ0eS1leHByXCIpO1xuXG52YXIgX2xvY2FsZSA9IHJlcXVpcmUoXCIuL2xvY2FsZVwiKTtcblxudmFyIF9zb3J0RmllbGRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlsL3NvcnRGaWVsZHNcIikpO1xuXG52YXIgX3NvcnRCeUtleU9yZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlsL3NvcnRCeUtleU9yZGVyXCIpKTtcblxudmFyIF9ydW5UZXN0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbC9ydW5UZXN0c1wiKSk7XG5cbnZhciBfVmFsaWRhdGlvbkVycm9yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9WYWxpZGF0aW9uRXJyb3JcIikpO1xuXG52YXIgX3NjaGVtYSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2NoZW1hXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxubGV0IGlzT2JqZWN0ID0gb2JqID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcblxuZnVuY3Rpb24gdW5rbm93bihjdHgsIHZhbHVlKSB7XG4gIGxldCBrbm93biA9IE9iamVjdC5rZXlzKGN0eC5maWVsZHMpO1xuICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcihrZXkgPT4ga25vd24uaW5kZXhPZihrZXkpID09PSAtMSk7XG59XG5cbmNvbnN0IGRlZmF1bHRTb3J0ID0gKDAsIF9zb3J0QnlLZXlPcmRlci5kZWZhdWx0KShbXSk7XG5cbmNsYXNzIE9iamVjdFNjaGVtYSBleHRlbmRzIF9zY2hlbWEuZGVmYXVsdCB7XG4gIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiAnb2JqZWN0J1xuICAgIH0pO1xuICAgIHRoaXMuZmllbGRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9zb3J0RXJyb3JzID0gZGVmYXVsdFNvcnQ7XG4gICAgdGhpcy5fbm9kZXMgPSBbXTtcbiAgICB0aGlzLl9leGNsdWRlZEVkZ2VzID0gW107XG4gICAgdGhpcy53aXRoTXV0YXRpb24oKCkgPT4ge1xuICAgICAgdGhpcy50cmFuc2Zvcm0oZnVuY3Rpb24gY29lcmNlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNUeXBlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc3BlYykge1xuICAgICAgICB0aGlzLnNoYXBlKHNwZWMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3R5cGVDaGVjayh2YWx1ZSkge1xuICAgIHJldHVybiBpc09iamVjdCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgX2Nhc3QoX3ZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX29wdGlvbnMkc3RyaXBVbmtub3duO1xuXG4gICAgbGV0IHZhbHVlID0gc3VwZXIuX2Nhc3QoX3ZhbHVlLCBvcHRpb25zKTsgLy9zaG91bGQgaWdub3JlIG51bGxzIGhlcmVcblxuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmdldERlZmF1bHQoKTtcbiAgICBpZiAoIXRoaXMuX3R5cGVDaGVjayh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICBsZXQgZmllbGRzID0gdGhpcy5maWVsZHM7XG4gICAgbGV0IHN0cmlwID0gKF9vcHRpb25zJHN0cmlwVW5rbm93biA9IG9wdGlvbnMuc3RyaXBVbmtub3duKSAhPSBudWxsID8gX29wdGlvbnMkc3RyaXBVbmtub3duIDogdGhpcy5zcGVjLm5vVW5rbm93bjtcblxuICAgIGxldCBwcm9wcyA9IHRoaXMuX25vZGVzLmNvbmNhdChPYmplY3Qua2V5cyh2YWx1ZSkuZmlsdGVyKHYgPT4gdGhpcy5fbm9kZXMuaW5kZXhPZih2KSA9PT0gLTEpKTtcblxuICAgIGxldCBpbnRlcm1lZGlhdGVWYWx1ZSA9IHt9OyAvLyBpcyBmaWxsZWQgZHVyaW5nIHRoZSB0cmFuc2Zvcm0gYmVsb3dcblxuICAgIGxldCBpbm5lck9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgcGFyZW50OiBpbnRlcm1lZGlhdGVWYWx1ZSxcbiAgICAgIF9fdmFsaWRhdGluZzogb3B0aW9ucy5fX3ZhbGlkYXRpbmcgfHwgZmFsc2VcbiAgICB9KTtcblxuICAgIGxldCBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wcykge1xuICAgICAgbGV0IGZpZWxkID0gZmllbGRzW3Byb3BdO1xuICAgICAgbGV0IGV4aXN0cyA9ICgwLCBfaGFzLmRlZmF1bHQpKHZhbHVlLCBwcm9wKTtcblxuICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgIGxldCBmaWVsZFZhbHVlO1xuICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IHZhbHVlW3Byb3BdOyAvLyBzYWZlIHRvIG11dGF0ZSBzaW5jZSB0aGlzIGlzIGZpcmVkIGluIHNlcXVlbmNlXG5cbiAgICAgICAgaW5uZXJPcHRpb25zLnBhdGggPSAob3B0aW9ucy5wYXRoID8gYCR7b3B0aW9ucy5wYXRofS5gIDogJycpICsgcHJvcDsgLy8gaW5uZXJPcHRpb25zLnZhbHVlID0gdmFsdWVbcHJvcF07XG5cbiAgICAgICAgZmllbGQgPSBmaWVsZC5yZXNvbHZlKHtcbiAgICAgICAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgICAgICBjb250ZXh0OiBvcHRpb25zLmNvbnRleHQsXG4gICAgICAgICAgcGFyZW50OiBpbnRlcm1lZGlhdGVWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGZpZWxkU3BlYyA9ICdzcGVjJyBpbiBmaWVsZCA/IGZpZWxkLnNwZWMgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBzdHJpY3QgPSBmaWVsZFNwZWMgPT0gbnVsbCA/IHZvaWQgMCA6IGZpZWxkU3BlYy5zdHJpY3Q7XG5cbiAgICAgICAgaWYgKGZpZWxkU3BlYyA9PSBudWxsID8gdm9pZCAwIDogZmllbGRTcGVjLnN0cmlwKSB7XG4gICAgICAgICAgaXNDaGFuZ2VkID0gaXNDaGFuZ2VkIHx8IHByb3AgaW4gdmFsdWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBmaWVsZFZhbHVlID0gIW9wdGlvbnMuX192YWxpZGF0aW5nIHx8ICFzdHJpY3QgPyAvLyBUT0RPOiB1c2UgX2Nhc3QsIHRoaXMgaXMgZG91YmxlIHJlc29sdmluZ1xuICAgICAgICBmaWVsZC5jYXN0KHZhbHVlW3Byb3BdLCBpbm5lck9wdGlvbnMpIDogdmFsdWVbcHJvcF07XG5cbiAgICAgICAgaWYgKGZpZWxkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGludGVybWVkaWF0ZVZhbHVlW3Byb3BdID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChleGlzdHMgJiYgIXN0cmlwKSB7XG4gICAgICAgIGludGVybWVkaWF0ZVZhbHVlW3Byb3BdID0gdmFsdWVbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnRlcm1lZGlhdGVWYWx1ZVtwcm9wXSAhPT0gdmFsdWVbcHJvcF0pIHtcbiAgICAgICAgaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXNDaGFuZ2VkID8gaW50ZXJtZWRpYXRlVmFsdWUgOiB2YWx1ZTtcbiAgfVxuXG4gIF92YWxpZGF0ZShfdmFsdWUsIG9wdHMgPSB7fSwgY2FsbGJhY2spIHtcbiAgICBsZXQgZXJyb3JzID0gW107XG4gICAgbGV0IHtcbiAgICAgIHN5bmMsXG4gICAgICBmcm9tID0gW10sXG4gICAgICBvcmlnaW5hbFZhbHVlID0gX3ZhbHVlLFxuICAgICAgYWJvcnRFYXJseSA9IHRoaXMuc3BlYy5hYm9ydEVhcmx5LFxuICAgICAgcmVjdXJzaXZlID0gdGhpcy5zcGVjLnJlY3Vyc2l2ZVxuICAgIH0gPSBvcHRzO1xuICAgIGZyb20gPSBbe1xuICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgdmFsdWU6IG9yaWdpbmFsVmFsdWVcbiAgICB9LCAuLi5mcm9tXTsgLy8gdGhpcyBmbGFnIGlzIG5lZWRlZCBmb3IgaGFuZGxpbmcgYHN0cmljdGAgY29ycmVjdGx5IGluIHRoZSBjb250ZXh0IG9mXG4gICAgLy8gdmFsaWRhdGlvbiB2cyBqdXN0IGNhc3RpbmcuIGUuZyBzdHJpY3QoKSBvbiBhIGZpZWxkIGlzIG9ubHkgdXNlZCB3aGVuIHZhbGlkYXRpbmdcblxuICAgIG9wdHMuX192YWxpZGF0aW5nID0gdHJ1ZTtcbiAgICBvcHRzLm9yaWdpbmFsVmFsdWUgPSBvcmlnaW5hbFZhbHVlO1xuICAgIG9wdHMuZnJvbSA9IGZyb207XG5cbiAgICBzdXBlci5fdmFsaWRhdGUoX3ZhbHVlLCBvcHRzLCAoZXJyLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoIV9WYWxpZGF0aW9uRXJyb3IuZGVmYXVsdC5pc0Vycm9yKGVycikgfHwgYWJvcnRFYXJseSkge1xuICAgICAgICAgIHJldHVybiB2b2lkIGNhbGxiYWNrKGVyciwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyZWN1cnNpdmUgfHwgIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBjYWxsYmFjayhlcnJvcnNbMF0gfHwgbnVsbCwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9yaWdpbmFsVmFsdWUgPSBvcmlnaW5hbFZhbHVlIHx8IHZhbHVlO1xuXG4gICAgICBsZXQgdGVzdHMgPSB0aGlzLl9ub2Rlcy5tYXAoa2V5ID0+IChfLCBjYikgPT4ge1xuICAgICAgICBsZXQgcGF0aCA9IGtleS5pbmRleE9mKCcuJykgPT09IC0xID8gKG9wdHMucGF0aCA/IGAke29wdHMucGF0aH0uYCA6ICcnKSArIGtleSA6IGAke29wdHMucGF0aCB8fCAnJ31bXCIke2tleX1cIl1gO1xuICAgICAgICBsZXQgZmllbGQgPSB0aGlzLmZpZWxkc1trZXldO1xuXG4gICAgICAgIGlmIChmaWVsZCAmJiAndmFsaWRhdGUnIGluIGZpZWxkKSB7XG4gICAgICAgICAgZmllbGQudmFsaWRhdGUodmFsdWVba2V5XSwgX2V4dGVuZHMoe30sIG9wdHMsIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgLy8gaW5uZXIgZmllbGRzIGFyZSBhbHdheXMgc3RyaWN0OlxuICAgICAgICAgICAgLy8gMS4gdGhpcyBpc24ndCBzdHJpY3Qgc28gdGhlIGNhc3Rpbmcgd2lsbCBhbHNvIGhhdmUgY2FzdCBpbm5lciB2YWx1ZXNcbiAgICAgICAgICAgIC8vIDIuIHRoaXMgaXMgc3RyaWN0IGluIHdoaWNoIGNhc2UgdGhlIG5lc3RlZCB2YWx1ZXMgd2VyZW4ndCBjYXN0IGVpdGhlclxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgcGFyZW50OiB2YWx1ZSxcbiAgICAgICAgICAgIG9yaWdpbmFsVmFsdWU6IG9yaWdpbmFsVmFsdWVba2V5XVxuICAgICAgICAgIH0pLCBjYik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2IobnVsbCk7XG4gICAgICB9KTtcblxuICAgICAgKDAsIF9ydW5UZXN0cy5kZWZhdWx0KSh7XG4gICAgICAgIHN5bmMsXG4gICAgICAgIHRlc3RzLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBlbmRFYXJseTogYWJvcnRFYXJseSxcbiAgICAgICAgc29ydDogdGhpcy5fc29ydEVycm9ycyxcbiAgICAgICAgcGF0aDogb3B0cy5wYXRoXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9uZShzcGVjKSB7XG4gICAgY29uc3QgbmV4dCA9IHN1cGVyLmNsb25lKHNwZWMpO1xuICAgIG5leHQuZmllbGRzID0gX2V4dGVuZHMoe30sIHRoaXMuZmllbGRzKTtcbiAgICBuZXh0Ll9ub2RlcyA9IHRoaXMuX25vZGVzO1xuICAgIG5leHQuX2V4Y2x1ZGVkRWRnZXMgPSB0aGlzLl9leGNsdWRlZEVkZ2VzO1xuICAgIG5leHQuX3NvcnRFcnJvcnMgPSB0aGlzLl9zb3J0RXJyb3JzO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgY29uY2F0KHNjaGVtYSkge1xuICAgIGxldCBuZXh0ID0gc3VwZXIuY29uY2F0KHNjaGVtYSk7XG4gICAgbGV0IG5leHRGaWVsZHMgPSBuZXh0LmZpZWxkcztcblxuICAgIGZvciAobGV0IFtmaWVsZCwgc2NoZW1hT3JSZWZdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuZmllbGRzKSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV4dEZpZWxkc1tmaWVsZF07XG5cbiAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXh0RmllbGRzW2ZpZWxkXSA9IHNjaGVtYU9yUmVmO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBfc2NoZW1hLmRlZmF1bHQgJiYgc2NoZW1hT3JSZWYgaW5zdGFuY2VvZiBfc2NoZW1hLmRlZmF1bHQpIHtcbiAgICAgICAgbmV4dEZpZWxkc1tmaWVsZF0gPSBzY2hlbWFPclJlZi5jb25jYXQodGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dC53aXRoTXV0YXRpb24oKCkgPT4gbmV4dC5zaGFwZShuZXh0RmllbGRzLCB0aGlzLl9leGNsdWRlZEVkZ2VzKSk7XG4gIH1cblxuICBnZXREZWZhdWx0RnJvbVNoYXBlKCkge1xuICAgIGxldCBkZnQgPSB7fTtcblxuICAgIHRoaXMuX25vZGVzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5maWVsZHNba2V5XTtcbiAgICAgIGRmdFtrZXldID0gJ2RlZmF1bHQnIGluIGZpZWxkID8gZmllbGQuZ2V0RGVmYXVsdCgpIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRmdDtcbiAgfVxuXG4gIF9nZXREZWZhdWx0KCkge1xuICAgIGlmICgnZGVmYXVsdCcgaW4gdGhpcy5zcGVjKSB7XG4gICAgICByZXR1cm4gc3VwZXIuX2dldERlZmF1bHQoKTtcbiAgICB9IC8vIGlmIHRoZXJlIGlzIG5vIGRlZmF1bHQgc2V0IGludmVudCBvbmVcblxuXG4gICAgaWYgKCF0aGlzLl9ub2Rlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdEZyb21TaGFwZSgpO1xuICB9XG5cbiAgc2hhcGUoYWRkaXRpb25zLCBleGNsdWRlcyA9IFtdKSB7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbGV0IGZpZWxkcyA9IE9iamVjdC5hc3NpZ24obmV4dC5maWVsZHMsIGFkZGl0aW9ucyk7XG4gICAgbmV4dC5maWVsZHMgPSBmaWVsZHM7XG4gICAgbmV4dC5fc29ydEVycm9ycyA9ICgwLCBfc29ydEJ5S2V5T3JkZXIuZGVmYXVsdCkoT2JqZWN0LmtleXMoZmllbGRzKSk7XG5cbiAgICBpZiAoZXhjbHVkZXMubGVuZ3RoKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgY29udmVuaWVuY2UgZm9yIHdoZW4gdXNlcnMgb25seSBzdXBwbHkgYSBzaW5nbGUgcGFpclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4Y2x1ZGVzWzBdKSkgZXhjbHVkZXMgPSBbZXhjbHVkZXNdO1xuICAgICAgbmV4dC5fZXhjbHVkZWRFZGdlcyA9IFsuLi5uZXh0Ll9leGNsdWRlZEVkZ2VzLCAuLi5leGNsdWRlc107XG4gICAgfVxuXG4gICAgbmV4dC5fbm9kZXMgPSAoMCwgX3NvcnRGaWVsZHMuZGVmYXVsdCkoZmllbGRzLCBuZXh0Ll9leGNsdWRlZEVkZ2VzKTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIHBpY2soa2V5cykge1xuICAgIGNvbnN0IHBpY2tlZCA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgaWYgKHRoaXMuZmllbGRzW2tleV0pIHBpY2tlZFtrZXldID0gdGhpcy5maWVsZHNba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLndpdGhNdXRhdGlvbihuZXh0ID0+IHtcbiAgICAgIG5leHQuZmllbGRzID0ge307XG4gICAgICByZXR1cm4gbmV4dC5zaGFwZShwaWNrZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgb21pdChrZXlzKSB7XG4gICAgY29uc3QgbmV4dCA9IHRoaXMuY2xvbmUoKTtcbiAgICBjb25zdCBmaWVsZHMgPSBuZXh0LmZpZWxkcztcbiAgICBuZXh0LmZpZWxkcyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgZGVsZXRlIGZpZWxkc1trZXldO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0LndpdGhNdXRhdGlvbigoKSA9PiBuZXh0LnNoYXBlKGZpZWxkcykpO1xuICB9XG5cbiAgZnJvbShmcm9tLCB0bywgYWxpYXMpIHtcbiAgICBsZXQgZnJvbUdldHRlciA9ICgwLCBfcHJvcGVydHlFeHByLmdldHRlcikoZnJvbSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKG9iaiA9PiB7XG4gICAgICBpZiAob2JqID09IG51bGwpIHJldHVybiBvYmo7XG4gICAgICBsZXQgbmV3T2JqID0gb2JqO1xuXG4gICAgICBpZiAoKDAsIF9oYXMuZGVmYXVsdCkob2JqLCBmcm9tKSkge1xuICAgICAgICBuZXdPYmogPSBfZXh0ZW5kcyh7fSwgb2JqKTtcbiAgICAgICAgaWYgKCFhbGlhcykgZGVsZXRlIG5ld09ialtmcm9tXTtcbiAgICAgICAgbmV3T2JqW3RvXSA9IGZyb21HZXR0ZXIob2JqKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld09iajtcbiAgICB9KTtcbiAgfVxuXG4gIG5vVW5rbm93bihub0FsbG93ID0gdHJ1ZSwgbWVzc2FnZSA9IF9sb2NhbGUub2JqZWN0Lm5vVW5rbm93bikge1xuICAgIGlmICh0eXBlb2Ygbm9BbGxvdyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1lc3NhZ2UgPSBub0FsbG93O1xuICAgICAgbm9BbGxvdyA9IHRydWU7XG4gICAgfVxuXG4gICAgbGV0IG5leHQgPSB0aGlzLnRlc3Qoe1xuICAgICAgbmFtZTogJ25vVW5rbm93bicsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB1bmtub3duKHRoaXMuc2NoZW1hLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiAhbm9BbGxvdyB8fCB1bmtub3duS2V5cy5sZW5ndGggPT09IDAgfHwgdGhpcy5jcmVhdGVFcnJvcih7XG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICB1bmtub3duOiB1bmtub3duS2V5cy5qb2luKCcsICcpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIG5leHQuc3BlYy5ub1Vua25vd24gPSBub0FsbG93O1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgdW5rbm93bihhbGxvdyA9IHRydWUsIG1lc3NhZ2UgPSBfbG9jYWxlLm9iamVjdC5ub1Vua25vd24pIHtcbiAgICByZXR1cm4gdGhpcy5ub1Vua25vd24oIWFsbG93LCBtZXNzYWdlKTtcbiAgfVxuXG4gIHRyYW5zZm9ybUtleXMoZm4pIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ob2JqID0+IG9iaiAmJiAoMCwgX21hcEtleXMuZGVmYXVsdCkob2JqLCAoXywga2V5KSA9PiBmbihrZXkpKSk7XG4gIH1cblxuICBjYW1lbENhc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtS2V5cyhfY2FtZWxDYXNlLmRlZmF1bHQpO1xuICB9XG5cbiAgc25ha2VDYXNlKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUtleXMoX3NuYWtlQ2FzZS5kZWZhdWx0KTtcbiAgfVxuXG4gIGNvbnN0YW50Q2FzZSgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1LZXlzKGtleSA9PiAoMCwgX3NuYWtlQ2FzZS5kZWZhdWx0KShrZXkpLnRvVXBwZXJDYXNlKCkpO1xuICB9XG5cbiAgZGVzY3JpYmUoKSB7XG4gICAgbGV0IGJhc2UgPSBzdXBlci5kZXNjcmliZSgpO1xuICAgIGJhc2UuZmllbGRzID0gKDAsIF9tYXBWYWx1ZXMuZGVmYXVsdCkodGhpcy5maWVsZHMsIHZhbHVlID0+IHZhbHVlLmRlc2NyaWJlKCkpO1xuICAgIHJldHVybiBiYXNlO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gT2JqZWN0U2NoZW1hO1xuXG5mdW5jdGlvbiBjcmVhdGUoc3BlYykge1xuICByZXR1cm4gbmV3IE9iamVjdFNjaGVtYShzcGVjKTtcbn1cblxuY3JlYXRlLnByb3RvdHlwZSA9IE9iamVjdFNjaGVtYS5wcm90b3R5cGU7Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUMzQ0MsS0FBSyxFQUFFO0FBQ1QsQ0FBQyxDQUFDO0FBQ0ZELE9BQU8sQ0FBQ0UsTUFBTSxHQUFHQSxNQUFNO0FBQ3ZCRixPQUFPLENBQUNHLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFFeEIsSUFBSUMsSUFBSSxHQUFHQyxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBRXhELElBQUlDLFVBQVUsR0FBR0Ysc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBRXBF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