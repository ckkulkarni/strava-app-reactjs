{"version":3,"names":["Object","defineProperty","exports","value","default","jsonStringify","_repeatString","_interopRequireDefault","require","_type","obj","__esModule","object","depth","toString","jsonStringifyProperties","Infinity","jsonStringifyDate","jsonStringifyBuffer","JSON","stringify","data","toJSON","str","isNaN","getTime","toISOString","space","start","end","length","keys","addedProperties","prop","prototype","hasOwnProperty","call"],"sources":["json_stringify.js"],"sourcesContent":["\"use strict\";Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = jsonStringify;var _repeatString = _interopRequireDefault(require(\"repeat-string\"));\nvar _type = _interopRequireDefault(require(\"./type\"));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}\n\nfunction jsonStringify(object, depth) {\n  depth = depth || 1;\n\n  switch ((0, _type.default)(object)) {\n    case 'boolean':\n    case 'regexp':\n    case 'symbol':\n      return object.toString();\n    case 'null':\n    case 'undefined':\n      return '[' + object + ']';\n    case 'array':\n    case 'object':\n      return jsonStringifyProperties(object, depth);\n    case 'number':\n      if (object === 0 && 1 / object === -Infinity) {\n        return '-0';\n      } else {\n        return object.toString();\n      }\n    case 'date':\n      return jsonStringifyDate(object);\n    case 'buffer':\n      return jsonStringifyBuffer(object, depth);\n    default:\n      if (object === '[Function]' || object === '[Circular]') {\n        return object;\n      } else {\n        return JSON.stringify(object); // string\n      }}\n\n}\n\nfunction jsonStringifyBuffer(object, depth) {\n  const { data } = object.toJSON();\n  return '[Buffer: ' + jsonStringify(data, depth) + ']';\n}\n\nfunction jsonStringifyDate(object) {\n  let str;\n  if (isNaN(object.getTime())) {\n    str = object.toString();\n  } else {\n    str = object.toISOString();\n  }\n  return '[Date: ' + str + ']';\n}\n\nfunction jsonStringifyProperties(object, depth) {\n  const space = 2 * depth;\n  const start = (0, _type.default)(object) === 'array' ? '[' : '{';\n  const end = (0, _type.default)(object) === 'array' ? ']' : '}';\n  const length =\n  typeof object.length === 'number' ?\n  object.length :\n  Object.keys(object).length;\n  let addedProperties = 0;\n  let str = start;\n\n  for (const prop in object) {\n    if (Object.prototype.hasOwnProperty.call(object, prop)) {\n      addedProperties += 1;\n      str +=\n      '\\n' +\n      (0, _repeatString.default)(' ', space) + (\n      (0, _type.default)(object) === 'array' ? '' : '\"' + prop + '\": ') +\n      jsonStringify(object[prop], depth + 1) + (\n      addedProperties === length ? '' : ',');\n    }\n  }\n\n  if (str.length !== 1) {\n    str += '\\n' + (0, _repeatString.default)(' ', space - 2);\n  }\n\n  return str + end;\n}"],"mappings":"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"}