{"version":3,"names":["resolveEnd","end","offset","reqSpace","onError","comment","hasSpace","sep","token","source","type","cb","substring","length","exports"],"sources":["resolve-end.js"],"sourcesContent":["'use strict';\n\nfunction resolveEnd(end, offset, reqSpace, onError) {\n    let comment = '';\n    if (end) {\n        let hasSpace = false;\n        let sep = '';\n        for (const token of end) {\n            const { source, type } = token;\n            switch (type) {\n                case 'space':\n                    hasSpace = true;\n                    break;\n                case 'comment': {\n                    if (reqSpace && !hasSpace)\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                    const cb = source.substring(1) || ' ';\n                    if (!comment)\n                        comment = cb;\n                    else\n                        comment += sep + cb;\n                    sep = '';\n                    break;\n                }\n                case 'newline':\n                    if (comment)\n                        sep += source;\n                    hasSpace = true;\n                    break;\n                default:\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\n            }\n            offset += source.length;\n        }\n    }\n    return { comment, offset };\n}\n\nexports.resolveEnd = resolveEnd;\n"],"mappings":"AAAA,YAAY;;AAEZ,SAASA,UAAUA,CAACC,GAAG,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,EAAE;EAChD,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIJ,GAAG,EAAE;IACL,IAAIK,QAAQ,GAAG,KAAK;IACpB,IAAIC,GAAG,GAAG,EAAE;IACZ,KAAK,MAAMC,KAAK,IAAIP,GAAG,EAAE;MACrB,MAAM;QAAEQ,MAAM;QAAEC;MAAK,CAAC,GAAGF,KAAK;MAC9B,QAAQE,IAAI;QACR,KAAK,OAAO;UACRJ,QAAQ,GAAG,IAAI;UACf;QACJ,KAAK,SAAS;UAAE;YACZ,IAAIH,QAAQ,IAAI,CAACG,QAAQ,EACrBF,OAAO,CAACI,KAAK,EAAE,cAAc,EAAE,wEAAwE,CAAC;YAC5G,MAAMG,EAAE,GAAGF,MAAM,CAACG,SAAS,CAAC,CAAC,CAAC,IAAI,GAAG;YACrC,IAAI,CAACP,OAAO,EACRA,OAAO,GAAGM,EAAE,CAAC,KAEbN,OAAO,IAAIE,GAAG,GAAGI,EAAE;YACvBJ,GAAG,GAAG,EAAE;YACR;UACJ;QACA,KAAK,SAAS;UACV,IAAIF,OAAO,EACPE,GAAG,IAAIE,MAAM;UACjBH,QAAQ,GAAG,IAAI;UACf;QACJ;UACIF,OAAO,CAACI,KAAK,EAAE,kBAAkB,EAAG,cAAaE,IAAK,cAAa,CAAC;MAAC;MAE7ER,MAAM,IAAIO,MAAM,CAACI,MAAM;IAC3B;EACJ;EACA,OAAO;IAAER,OAAO;IAAEH;EAAO,CAAC;AAC9B;AAEAY,OAAO,CAACd,UAAU,GAAGA,UAAU"}