f12f1fd501b298fe5b8964f5bb9e0f31
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.test = exports.serialize = exports.default = void 0;
var _collections = require('../collections');

/**
 * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
// SENTINEL constants are from https://github.com/facebook/immutable-js
const IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
const IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';
const IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
const IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';
const IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';
const IS_RECORD_SENTINEL = '@@__IMMUTABLE_RECORD__@@'; // immutable v4

const IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';
const IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';
const IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';
const getImmutableName = name => 'Immutable.' + name;
const printAsLeaf = name => '[' + name + ']';
const SPACE = ' ';
const LAZY = 'â€¦'; // Seq is lazy if it calls a method like filter

const printImmutableEntries = (val, config, indentation, depth, refs, printer, type) => ++depth > config.maxDepth ? printAsLeaf(getImmutableName(type)) : getImmutableName(type) + SPACE + '{' + (0, _collections.printIteratorEntries)(val.entries(), config, indentation, depth, refs, printer) + '}'; // Record has an entries method because it is a collection in immutable v3.
// Return an iterator for Immutable Record from version v3 or v4.

function getRecordEntries(val) {
  let i = 0;
  return {
    next() {
      if (i < val._keys.length) {
        const key = val._keys[i++];
        return {
          done: false,
          value: [key, val.get(key)]
        };
      }
      return {
        done: true,
        value: undefined
      };
    }
  };
}
const printImmutableRecord = (val, config, indentation, depth, refs, printer) => {
  // _name property is defined only for an Immutable Record instance
  // which was constructed with a second optional descriptive name arg
  const name = getImmutableName(val._name || 'Record');
  return ++depth > config.maxDepth ? printAsLeaf(name) : name + SPACE + '{' + (0, _collections.printIteratorEntries)(getRecordEntries(val), config, indentation, depth, refs, printer) + '}';
};
const printImmutableSeq = (val, config, indentation, depth, refs, printer) => {
  const name = getImmutableName('Seq');
  if (++depth > config.maxDepth) {
    return printAsLeaf(name);
  }
  if (val[IS_KEYED_SENTINEL]) {
    return name + SPACE + '{' + (
    // from Immutable collection of entries or from ECMAScript object
    val._iter || val._object ? (0, _collections.printIteratorEntries)(val.entries(), config, indentation, depth, refs, printer) : LAZY) + '}';
  }
  return name + SPACE + '[' + (val._iter ||
  // from Immutable collection of values
  val._array ||
  // from ECMAScript array
  val._collection ||
  // from ECMAScript collection in immutable v4
  val._iterable // from ECMAScript collection in immutable v3
  ? (0, _collections.printIteratorValues)(val.values(), config, indentation, depth, refs, printer) : LAZY) + ']';
};
const printImmutableValues = (val, config, indentation, depth, refs, printer, type) => ++depth > config.maxDepth ? printAsLeaf(getImmutableName(type)) : getImmutableName(type) + SPACE + '[' + (0, _collections.printIteratorValues)(val.values(), config, indentation, depth, refs, printer) + ']';
const serialize = (val, config, indentation, depth, refs, printer) => {
  if (val[IS_MAP_SENTINEL]) {
    return printImmutableEntries(val, config, indentation, depth, refs, printer, val[IS_ORDERED_SENTINEL] ? 'OrderedMap' : 'Map');
  }
  if (val[IS_LIST_SENTINEL]) {
    return printImmutableValues(val, config, indentation, depth, refs, printer, 'List');
  }
  if (val[IS_SET_SENTINEL]) {
    return printImmutableValues(val, config, indentation, depth, refs, printer, val[IS_ORDERED_SENTINEL] ? 'OrderedSet' : 'Set');
  }
  if (val[IS_STACK_SENTINEL]) {
    return printImmutableValues(val, config, indentation, depth, refs, printer, 'Stack');
  }
  if (val[IS_SEQ_SENTINEL]) {
    return printImmutableSeq(val, config, indentation, depth, refs, printer);
  } // For compatibility with immutable v3 and v4, let record be the default.

  return printImmutableRecord(val, config, indentation, depth, refs, printer);
}; // Explicitly comparing sentinel properties to true avoids false positive
// when mock identity-obj-proxy returns the key as the value for any key.

exports.serialize = serialize;
const test = val => val && (val[IS_ITERABLE_SENTINEL] === true || val[IS_RECORD_SENTINEL] === true);
exports.test = test;
const plugin = {
  serialize,
  test
};
var _default = plugin;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInRlc3QiLCJzZXJpYWxpemUiLCJkZWZhdWx0IiwiX2NvbGxlY3Rpb25zIiwicmVxdWlyZSIsIklTX0lURVJBQkxFX1NFTlRJTkVMIiwiSVNfTElTVF9TRU5USU5FTCIsIklTX0tFWUVEX1NFTlRJTkVMIiwiSVNfTUFQX1NFTlRJTkVMIiwiSVNfT1JERVJFRF9TRU5USU5FTCIsIklTX1JFQ09SRF9TRU5USU5FTCIsIklTX1NFUV9TRU5USU5FTCIsIklTX1NFVF9TRU5USU5FTCIsIklTX1NUQUNLX1NFTlRJTkVMIiwiZ2V0SW1tdXRhYmxlTmFtZSIsIm5hbWUiLCJwcmludEFzTGVhZiIsIlNQQUNFIiwiTEFaWSIsInByaW50SW1tdXRhYmxlRW50cmllcyIsInZhbCIsImNvbmZpZyIsImluZGVudGF0aW9uIiwiZGVwdGgiLCJyZWZzIiwicHJpbnRlciIsInR5cGUiLCJtYXhEZXB0aCIsInByaW50SXRlcmF0b3JFbnRyaWVzIiwiZW50cmllcyIsImdldFJlY29yZEVudHJpZXMiLCJpIiwibmV4dCIsIl9rZXlzIiwibGVuZ3RoIiwia2V5IiwiZG9uZSIsImdldCIsInVuZGVmaW5lZCIsInByaW50SW1tdXRhYmxlUmVjb3JkIiwiX25hbWUiLCJwcmludEltbXV0YWJsZVNlcSIsIl9pdGVyIiwiX29iamVjdCIsIl9hcnJheSIsIl9jb2xsZWN0aW9uIiwiX2l0ZXJhYmxlIiwicHJpbnRJdGVyYXRvclZhbHVlcyIsInZhbHVlcyIsInByaW50SW1tdXRhYmxlVmFsdWVzIiwicGx1Z2luIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJJbW11dGFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudGVzdCA9IGV4cG9ydHMuc2VyaWFsaXplID0gZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2NvbGxlY3Rpb25zID0gcmVxdWlyZSgnLi4vY29sbGVjdGlvbnMnKTtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuLy8gU0VOVElORUwgY29uc3RhbnRzIGFyZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9pbW11dGFibGUtanNcbmNvbnN0IElTX0lURVJBQkxFX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAJztcbmNvbnN0IElTX0xJU1RfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5jb25zdCBJU19LRVlFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG5jb25zdCBJU19NQVBfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9NQVBfX0BAJztcbmNvbnN0IElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5jb25zdCBJU19SRUNPUkRfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9SRUNPUkRfX0BAJzsgLy8gaW1tdXRhYmxlIHY0XG5cbmNvbnN0IElTX1NFUV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFUV9fQEAnO1xuY29uc3QgSVNfU0VUX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VUX19AQCc7XG5jb25zdCBJU19TVEFDS19TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NUQUNLX19AQCc7XG5cbmNvbnN0IGdldEltbXV0YWJsZU5hbWUgPSBuYW1lID0+ICdJbW11dGFibGUuJyArIG5hbWU7XG5cbmNvbnN0IHByaW50QXNMZWFmID0gbmFtZSA9PiAnWycgKyBuYW1lICsgJ10nO1xuXG5jb25zdCBTUEFDRSA9ICcgJztcbmNvbnN0IExBWlkgPSAn4oCmJzsgLy8gU2VxIGlzIGxhenkgaWYgaXQgY2FsbHMgYSBtZXRob2QgbGlrZSBmaWx0ZXJcblxuY29uc3QgcHJpbnRJbW11dGFibGVFbnRyaWVzID0gKFxuICB2YWwsXG4gIGNvbmZpZyxcbiAgaW5kZW50YXRpb24sXG4gIGRlcHRoLFxuICByZWZzLFxuICBwcmludGVyLFxuICB0eXBlXG4pID0+XG4gICsrZGVwdGggPiBjb25maWcubWF4RGVwdGhcbiAgICA/IHByaW50QXNMZWFmKGdldEltbXV0YWJsZU5hbWUodHlwZSkpXG4gICAgOiBnZXRJbW11dGFibGVOYW1lKHR5cGUpICtcbiAgICAgIFNQQUNFICtcbiAgICAgICd7JyArXG4gICAgICAoMCwgX2NvbGxlY3Rpb25zLnByaW50SXRlcmF0b3JFbnRyaWVzKShcbiAgICAgICAgdmFsLmVudHJpZXMoKSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgZGVwdGgsXG4gICAgICAgIHJlZnMsXG4gICAgICAgIHByaW50ZXJcbiAgICAgICkgK1xuICAgICAgJ30nOyAvLyBSZWNvcmQgaGFzIGFuIGVudHJpZXMgbWV0aG9kIGJlY2F1c2UgaXQgaXMgYSBjb2xsZWN0aW9uIGluIGltbXV0YWJsZSB2My5cbi8vIFJldHVybiBhbiBpdGVyYXRvciBmb3IgSW1tdXRhYmxlIFJlY29yZCBmcm9tIHZlcnNpb24gdjMgb3IgdjQuXG5cbmZ1bmN0aW9uIGdldFJlY29yZEVudHJpZXModmFsKSB7XG4gIGxldCBpID0gMDtcbiAgcmV0dXJuIHtcbiAgICBuZXh0KCkge1xuICAgICAgaWYgKGkgPCB2YWwuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHZhbC5fa2V5c1tpKytdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBba2V5LCB2YWwuZ2V0KGtleSldXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBwcmludEltbXV0YWJsZVJlY29yZCA9IChcbiAgdmFsLFxuICBjb25maWcsXG4gIGluZGVudGF0aW9uLFxuICBkZXB0aCxcbiAgcmVmcyxcbiAgcHJpbnRlclxuKSA9PiB7XG4gIC8vIF9uYW1lIHByb3BlcnR5IGlzIGRlZmluZWQgb25seSBmb3IgYW4gSW1tdXRhYmxlIFJlY29yZCBpbnN0YW5jZVxuICAvLyB3aGljaCB3YXMgY29uc3RydWN0ZWQgd2l0aCBhIHNlY29uZCBvcHRpb25hbCBkZXNjcmlwdGl2ZSBuYW1lIGFyZ1xuICBjb25zdCBuYW1lID0gZ2V0SW1tdXRhYmxlTmFtZSh2YWwuX25hbWUgfHwgJ1JlY29yZCcpO1xuICByZXR1cm4gKytkZXB0aCA+IGNvbmZpZy5tYXhEZXB0aFxuICAgID8gcHJpbnRBc0xlYWYobmFtZSlcbiAgICA6IG5hbWUgK1xuICAgICAgICBTUEFDRSArXG4gICAgICAgICd7JyArXG4gICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRJdGVyYXRvckVudHJpZXMpKFxuICAgICAgICAgIGdldFJlY29yZEVudHJpZXModmFsKSxcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgaW5kZW50YXRpb24sXG4gICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgcmVmcyxcbiAgICAgICAgICBwcmludGVyXG4gICAgICAgICkgK1xuICAgICAgICAnfSc7XG59O1xuXG5jb25zdCBwcmludEltbXV0YWJsZVNlcSA9ICh2YWwsIGNvbmZpZywgaW5kZW50YXRpb24sIGRlcHRoLCByZWZzLCBwcmludGVyKSA9PiB7XG4gIGNvbnN0IG5hbWUgPSBnZXRJbW11dGFibGVOYW1lKCdTZXEnKTtcblxuICBpZiAoKytkZXB0aCA+IGNvbmZpZy5tYXhEZXB0aCkge1xuICAgIHJldHVybiBwcmludEFzTGVhZihuYW1lKTtcbiAgfVxuXG4gIGlmICh2YWxbSVNfS0VZRURfU0VOVElORUxdKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIG5hbWUgK1xuICAgICAgU1BBQ0UgK1xuICAgICAgJ3snICsgLy8gZnJvbSBJbW11dGFibGUgY29sbGVjdGlvbiBvZiBlbnRyaWVzIG9yIGZyb20gRUNNQVNjcmlwdCBvYmplY3RcbiAgICAgICh2YWwuX2l0ZXIgfHwgdmFsLl9vYmplY3RcbiAgICAgICAgPyAoMCwgX2NvbGxlY3Rpb25zLnByaW50SXRlcmF0b3JFbnRyaWVzKShcbiAgICAgICAgICAgIHZhbC5lbnRyaWVzKCksXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgICApXG4gICAgICAgIDogTEFaWSkgK1xuICAgICAgJ30nXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgbmFtZSArXG4gICAgU1BBQ0UgK1xuICAgICdbJyArXG4gICAgKHZhbC5faXRlciB8fCAvLyBmcm9tIEltbXV0YWJsZSBjb2xsZWN0aW9uIG9mIHZhbHVlc1xuICAgIHZhbC5fYXJyYXkgfHwgLy8gZnJvbSBFQ01BU2NyaXB0IGFycmF5XG4gICAgdmFsLl9jb2xsZWN0aW9uIHx8IC8vIGZyb20gRUNNQVNjcmlwdCBjb2xsZWN0aW9uIGluIGltbXV0YWJsZSB2NFxuICAgIHZhbC5faXRlcmFibGUgLy8gZnJvbSBFQ01BU2NyaXB0IGNvbGxlY3Rpb24gaW4gaW1tdXRhYmxlIHYzXG4gICAgICA/ICgwLCBfY29sbGVjdGlvbnMucHJpbnRJdGVyYXRvclZhbHVlcykoXG4gICAgICAgICAgdmFsLnZhbHVlcygpLFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICByZWZzLFxuICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgKVxuICAgICAgOiBMQVpZKSArXG4gICAgJ10nXG4gICk7XG59O1xuXG5jb25zdCBwcmludEltbXV0YWJsZVZhbHVlcyA9IChcbiAgdmFsLFxuICBjb25maWcsXG4gIGluZGVudGF0aW9uLFxuICBkZXB0aCxcbiAgcmVmcyxcbiAgcHJpbnRlcixcbiAgdHlwZVxuKSA9PlxuICArK2RlcHRoID4gY29uZmlnLm1heERlcHRoXG4gICAgPyBwcmludEFzTGVhZihnZXRJbW11dGFibGVOYW1lKHR5cGUpKVxuICAgIDogZ2V0SW1tdXRhYmxlTmFtZSh0eXBlKSArXG4gICAgICBTUEFDRSArXG4gICAgICAnWycgK1xuICAgICAgKDAsIF9jb2xsZWN0aW9ucy5wcmludEl0ZXJhdG9yVmFsdWVzKShcbiAgICAgICAgdmFsLnZhbHVlcygpLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICBkZXB0aCxcbiAgICAgICAgcmVmcyxcbiAgICAgICAgcHJpbnRlclxuICAgICAgKSArXG4gICAgICAnXSc7XG5cbmNvbnN0IHNlcmlhbGl6ZSA9ICh2YWwsIGNvbmZpZywgaW5kZW50YXRpb24sIGRlcHRoLCByZWZzLCBwcmludGVyKSA9PiB7XG4gIGlmICh2YWxbSVNfTUFQX1NFTlRJTkVMXSkge1xuICAgIHJldHVybiBwcmludEltbXV0YWJsZUVudHJpZXMoXG4gICAgICB2YWwsXG4gICAgICBjb25maWcsXG4gICAgICBpbmRlbnRhdGlvbixcbiAgICAgIGRlcHRoLFxuICAgICAgcmVmcyxcbiAgICAgIHByaW50ZXIsXG4gICAgICB2YWxbSVNfT1JERVJFRF9TRU5USU5FTF0gPyAnT3JkZXJlZE1hcCcgOiAnTWFwJ1xuICAgICk7XG4gIH1cblxuICBpZiAodmFsW0lTX0xJU1RfU0VOVElORUxdKSB7XG4gICAgcmV0dXJuIHByaW50SW1tdXRhYmxlVmFsdWVzKFxuICAgICAgdmFsLFxuICAgICAgY29uZmlnLFxuICAgICAgaW5kZW50YXRpb24sXG4gICAgICBkZXB0aCxcbiAgICAgIHJlZnMsXG4gICAgICBwcmludGVyLFxuICAgICAgJ0xpc3QnXG4gICAgKTtcbiAgfVxuXG4gIGlmICh2YWxbSVNfU0VUX1NFTlRJTkVMXSkge1xuICAgIHJldHVybiBwcmludEltbXV0YWJsZVZhbHVlcyhcbiAgICAgIHZhbCxcbiAgICAgIGNvbmZpZyxcbiAgICAgIGluZGVudGF0aW9uLFxuICAgICAgZGVwdGgsXG4gICAgICByZWZzLFxuICAgICAgcHJpbnRlcixcbiAgICAgIHZhbFtJU19PUkRFUkVEX1NFTlRJTkVMXSA/ICdPcmRlcmVkU2V0JyA6ICdTZXQnXG4gICAgKTtcbiAgfVxuXG4gIGlmICh2YWxbSVNfU1RBQ0tfU0VOVElORUxdKSB7XG4gICAgcmV0dXJuIHByaW50SW1tdXRhYmxlVmFsdWVzKFxuICAgICAgdmFsLFxuICAgICAgY29uZmlnLFxuICAgICAgaW5kZW50YXRpb24sXG4gICAgICBkZXB0aCxcbiAgICAgIHJlZnMsXG4gICAgICBwcmludGVyLFxuICAgICAgJ1N0YWNrJ1xuICAgICk7XG4gIH1cblxuICBpZiAodmFsW0lTX1NFUV9TRU5USU5FTF0pIHtcbiAgICByZXR1cm4gcHJpbnRJbW11dGFibGVTZXEodmFsLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcywgcHJpbnRlcik7XG4gIH0gLy8gRm9yIGNvbXBhdGliaWxpdHkgd2l0aCBpbW11dGFibGUgdjMgYW5kIHY0LCBsZXQgcmVjb3JkIGJlIHRoZSBkZWZhdWx0LlxuXG4gIHJldHVybiBwcmludEltbXV0YWJsZVJlY29yZCh2YWwsIGNvbmZpZywgaW5kZW50YXRpb24sIGRlcHRoLCByZWZzLCBwcmludGVyKTtcbn07IC8vIEV4cGxpY2l0bHkgY29tcGFyaW5nIHNlbnRpbmVsIHByb3BlcnRpZXMgdG8gdHJ1ZSBhdm9pZHMgZmFsc2UgcG9zaXRpdmVcbi8vIHdoZW4gbW9jayBpZGVudGl0eS1vYmotcHJveHkgcmV0dXJucyB0aGUga2V5IGFzIHRoZSB2YWx1ZSBmb3IgYW55IGtleS5cblxuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG5cbmNvbnN0IHRlc3QgPSB2YWwgPT5cbiAgdmFsICYmXG4gICh2YWxbSVNfSVRFUkFCTEVfU0VOVElORUxdID09PSB0cnVlIHx8IHZhbFtJU19SRUNPUkRfU0VOVElORUxdID09PSB0cnVlKTtcblxuZXhwb3J0cy50ZXN0ID0gdGVzdDtcbmNvbnN0IHBsdWdpbiA9IHtcbiAgc2VyaWFsaXplLFxuICB0ZXN0XG59O1xudmFyIF9kZWZhdWx0ID0gcGx1Z2luO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVpBLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0VBQzNDQyxLQUFLLEVBQUU7QUFDVCxDQUFDLENBQUM7QUFDRkQsT0FBTyxDQUFDRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQ0csU0FBUyxHQUFHSCxPQUFPLENBQUNJLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFFM0QsSUFBSUMsWUFBWSxHQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUcsNEJBQTRCO0FBQ3pELE1BQU1DLGdCQUFnQixHQUFHLHdCQUF3QjtBQUNqRCxNQUFNQyxpQkFBaUIsR0FBRyx5QkFBeUI7QUFDbkQsTUFBTUMsZUFBZSxHQUFHLHVCQUF1QjtBQUMvQyxNQUFNQyxtQkFBbUIsR0FBRywyQkFBMkI7QUFDdkQsTUFBTUMsa0JBQWtCLEdBQUcsMEJBQTBCLENBQUMsQ0FBQzs7QUFFdkQsTUFBTUMsZUFBZSxHQUFHLHVCQUF1QjtBQUMvQyxNQUFNQyxlQUFlLEdBQUcsdUJBQXVCO0FBQy9DLE1BQU1DLGlCQUFpQixHQUFHLHlC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