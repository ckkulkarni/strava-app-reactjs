95610330e13147fef05cefd167ac3e0c
'use strict';

var anchors = require('../doc/anchors.js');
var Node = require('../nodes/Node.js');
var stringifyComment = require('./stringifyComment.js');
var stringifyString = require('./stringifyString.js');
function createStringifyContext(doc, options) {
  const opt = Object.assign({
    blockQuote: true,
    commentString: stringifyComment.stringifyComment,
    defaultKeyType: null,
    defaultStringType: 'PLAIN',
    directives: null,
    doubleQuotedAsJSON: false,
    doubleQuotedMinMultiLineLength: 40,
    falseStr: 'false',
    flowCollectionPadding: true,
    indentSeq: true,
    lineWidth: 80,
    minContentWidth: 20,
    nullStr: 'null',
    simpleKeys: false,
    singleQuote: null,
    trueStr: 'true',
    verifyAliasOrder: true
  }, doc.schema.toStringOptions, options);
  let inFlow;
  switch (opt.collectionStyle) {
    case 'block':
      inFlow = false;
      break;
    case 'flow':
      inFlow = true;
      break;
    default:
      inFlow = null;
  }
  return {
    anchors: new Set(),
    doc,
    flowCollectionPadding: opt.flowCollectionPadding ? ' ' : '',
    indent: '',
    indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',
    inFlow,
    options: opt
  };
}
function getTagObject(tags, item) {
  if (item.tag) {
    const match = tags.filter(t => t.tag === item.tag);
    if (match.length > 0) return match.find(t => t.format === item.format) ?? match[0];
  }
  let tagObj = undefined;
  let obj;
  if (Node.isScalar(item)) {
    obj = item.value;
    const match = tags.filter(t => t.identify?.(obj));
    tagObj = match.find(t => t.format === item.format) ?? match.find(t => !t.format);
  } else {
    obj = item;
    tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);
  }
  if (!tagObj) {
    const name = obj?.constructor?.name ?? typeof obj;
    throw new Error(`Tag not resolved for ${name} value`);
  }
  return tagObj;
}
// needs to be called before value stringifier to allow for circular anchor refs
function stringifyProps(node, tagObj, {
  anchors: anchors$1,
  doc
}) {
  if (!doc.directives) return '';
  const props = [];
  const anchor = (Node.isScalar(node) || Node.isCollection(node)) && node.anchor;
  if (anchor && anchors.anchorIsValid(anchor)) {
    anchors$1.add(anchor);
    props.push(`&${anchor}`);
  }
  const tag = node.tag ? node.tag : tagObj.default ? null : tagObj.tag;
  if (tag) props.push(doc.directives.tagString(tag));
  return props.join(' ');
}
function stringify(item, ctx, onComment, onChompKeep) {
  if (Node.isPair(item)) return item.toString(ctx, onComment, onChompKeep);
  if (Node.isAlias(item)) {
    if (ctx.doc.directives) return item.toString(ctx);
    if (ctx.resolvedAliases?.has(item)) {
      throw new TypeError(`Cannot stringify circular structure without alias nodes`);
    } else {
      if (ctx.resolvedAliases) ctx.resolvedAliases.add(item);else ctx.resolvedAliases = new Set([item]);
      item = item.resolve(ctx.doc);
    }
  }
  let tagObj = undefined;
  const node = Node.isNode(item) ? item : ctx.doc.createNode(item, {
    onTagObj: o => tagObj = o
  });
  if (!tagObj) tagObj = getTagObject(ctx.doc.schema.tags, node);
  const props = stringifyProps(node, tagObj, ctx);
  if (props.length > 0) ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;
  const str = typeof tagObj.stringify === 'function' ? tagObj.stringify(node, ctx, onComment, onChompKeep) : Node.isScalar(node) ? stringifyString.stringifyString(node, ctx, onComment, onChompKeep) : node.toString(ctx, onComment, onChompKeep);
  if (!props) return str;
  return Node.isScalar(node) || str[0] === '{' || str[0] === '[' ? `${props} ${str}` : `${props}\n${ctx.indent}${str}`;
}
exports.createStringifyContext = createStringifyContext;
exports.stringify = stringify;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbmNob3JzIiwicmVxdWlyZSIsIk5vZGUiLCJzdHJpbmdpZnlDb21tZW50Iiwic3RyaW5naWZ5U3RyaW5nIiwiY3JlYXRlU3RyaW5naWZ5Q29udGV4dCIsImRvYyIsIm9wdGlvbnMiLCJvcHQiLCJPYmplY3QiLCJhc3NpZ24iLCJibG9ja1F1b3RlIiwiY29tbWVudFN0cmluZyIsImRlZmF1bHRLZXlUeXBlIiwiZGVmYXVsdFN0cmluZ1R5cGUiLCJkaXJlY3RpdmVzIiwiZG91YmxlUXVvdGVkQXNKU09OIiwiZG91YmxlUXVvdGVkTWluTXVsdGlMaW5lTGVuZ3RoIiwiZmFsc2VTdHIiLCJmbG93Q29sbGVjdGlvblBhZGRpbmciLCJpbmRlbnRTZXEiLCJsaW5lV2lkdGgiLCJtaW5Db250ZW50V2lkdGgiLCJudWxsU3RyIiwic2ltcGxlS2V5cyIsInNpbmdsZVF1b3RlIiwidHJ1ZVN0ciIsInZlcmlmeUFsaWFzT3JkZXIiLCJzY2hlbWEiLCJ0b1N0cmluZ09wdGlvbnMiLCJpbkZsb3ciLCJjb2xsZWN0aW9uU3R5bGUiLCJTZXQiLCJpbmRlbnQiLCJpbmRlbnRTdGVwIiwicmVwZWF0IiwiZ2V0VGFnT2JqZWN0IiwidGFncyIsIml0ZW0iLCJ0YWciLCJtYXRjaCIsImZpbHRlciIsInQiLCJsZW5ndGgiLCJmaW5kIiwiZm9ybWF0IiwidGFnT2JqIiwidW5kZWZpbmVkIiwib2JqIiwiaXNTY2FsYXIiLCJ2YWx1ZSIsImlkZW50aWZ5Iiwibm9kZUNsYXNzIiwibmFtZSIsImNvbnN0cnVjdG9yIiwiRXJyb3IiLCJzdHJpbmdpZnlQcm9wcyIsIm5vZGUiLCJhbmNob3JzJDEiLCJwcm9wcyIsImFuY2hvciIsImlzQ29sbGVjdGlvbiIsImFuY2hvcklzVmFsaWQiLCJhZGQiLCJwdXNoIiwiZGVmYXVsdCIsInRhZ1N0cmluZyIsImpvaW4iLCJzdHJpbmdpZnkiLCJjdHgiLCJvbkNvbW1lbnQiLCJvbkNob21wS2VlcCIsImlzUGFpciIsInRvU3RyaW5nIiwiaXNBbGlhcyIsInJlc29sdmVkQWxpYXNlcyIsImhhcyIsIlR5cGVFcnJvciIsInJlc29sdmUiLCJpc05vZGUiLCJjcmVhdGVOb2RlIiwib25UYWdPYmoiLCJvIiwiaW5kZW50QXRTdGFydCIsInN0ciIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzdHJpbmdpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW5jaG9ycyA9IHJlcXVpcmUoJy4uL2RvYy9hbmNob3JzLmpzJyk7XG52YXIgTm9kZSA9IHJlcXVpcmUoJy4uL25vZGVzL05vZGUuanMnKTtcbnZhciBzdHJpbmdpZnlDb21tZW50ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnlDb21tZW50LmpzJyk7XG52YXIgc3RyaW5naWZ5U3RyaW5nID0gcmVxdWlyZSgnLi9zdHJpbmdpZnlTdHJpbmcuanMnKTtcblxuZnVuY3Rpb24gY3JlYXRlU3RyaW5naWZ5Q29udGV4dChkb2MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHQgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgYmxvY2tRdW90ZTogdHJ1ZSxcbiAgICAgICAgY29tbWVudFN0cmluZzogc3RyaW5naWZ5Q29tbWVudC5zdHJpbmdpZnlDb21tZW50LFxuICAgICAgICBkZWZhdWx0S2V5VHlwZTogbnVsbCxcbiAgICAgICAgZGVmYXVsdFN0cmluZ1R5cGU6ICdQTEFJTicsXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgICAgIGRvdWJsZVF1b3RlZEFzSlNPTjogZmFsc2UsXG4gICAgICAgIGRvdWJsZVF1b3RlZE1pbk11bHRpTGluZUxlbmd0aDogNDAsXG4gICAgICAgIGZhbHNlU3RyOiAnZmFsc2UnLFxuICAgICAgICBmbG93Q29sbGVjdGlvblBhZGRpbmc6IHRydWUsXG4gICAgICAgIGluZGVudFNlcTogdHJ1ZSxcbiAgICAgICAgbGluZVdpZHRoOiA4MCxcbiAgICAgICAgbWluQ29udGVudFdpZHRoOiAyMCxcbiAgICAgICAgbnVsbFN0cjogJ251bGwnLFxuICAgICAgICBzaW1wbGVLZXlzOiBmYWxzZSxcbiAgICAgICAgc2luZ2xlUXVvdGU6IG51bGwsXG4gICAgICAgIHRydWVTdHI6ICd0cnVlJyxcbiAgICAgICAgdmVyaWZ5QWxpYXNPcmRlcjogdHJ1ZVxuICAgIH0sIGRvYy5zY2hlbWEudG9TdHJpbmdPcHRpb25zLCBvcHRpb25zKTtcbiAgICBsZXQgaW5GbG93O1xuICAgIHN3aXRjaCAob3B0LmNvbGxlY3Rpb25TdHlsZSkge1xuICAgICAgICBjYXNlICdibG9jayc6XG4gICAgICAgICAgICBpbkZsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmbG93JzpcbiAgICAgICAgICAgIGluRmxvdyA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGluRmxvdyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFuY2hvcnM6IG5ldyBTZXQoKSxcbiAgICAgICAgZG9jLFxuICAgICAgICBmbG93Q29sbGVjdGlvblBhZGRpbmc6IG9wdC5mbG93Q29sbGVjdGlvblBhZGRpbmcgPyAnICcgOiAnJyxcbiAgICAgICAgaW5kZW50OiAnJyxcbiAgICAgICAgaW5kZW50U3RlcDogdHlwZW9mIG9wdC5pbmRlbnQgPT09ICdudW1iZXInID8gJyAnLnJlcGVhdChvcHQuaW5kZW50KSA6ICcgICcsXG4gICAgICAgIGluRmxvdyxcbiAgICAgICAgb3B0aW9uczogb3B0XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFRhZ09iamVjdCh0YWdzLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0udGFnKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGFncy5maWx0ZXIodCA9PiB0LnRhZyA9PT0gaXRlbS50YWcpO1xuICAgICAgICBpZiAobWF0Y2gubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJldHVybiBtYXRjaC5maW5kKHQgPT4gdC5mb3JtYXQgPT09IGl0ZW0uZm9ybWF0KSA/PyBtYXRjaFswXTtcbiAgICB9XG4gICAgbGV0IHRhZ09iaiA9IHVuZGVmaW5lZDtcbiAgICBsZXQgb2JqO1xuICAgIGlmIChOb2RlLmlzU2NhbGFyKGl0ZW0pKSB7XG4gICAgICAgIG9iaiA9IGl0ZW0udmFsdWU7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGFncy5maWx0ZXIodCA9PiB0LmlkZW50aWZ5Py4ob2JqKSk7XG4gICAgICAgIHRhZ09iaiA9XG4gICAgICAgICAgICBtYXRjaC5maW5kKHQgPT4gdC5mb3JtYXQgPT09IGl0ZW0uZm9ybWF0KSA/PyBtYXRjaC5maW5kKHQgPT4gIXQuZm9ybWF0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9iaiA9IGl0ZW07XG4gICAgICAgIHRhZ09iaiA9IHRhZ3MuZmluZCh0ID0+IHQubm9kZUNsYXNzICYmIG9iaiBpbnN0YW5jZW9mIHQubm9kZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKCF0YWdPYmopIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IG9iaj8uY29uc3RydWN0b3I/Lm5hbWUgPz8gdHlwZW9mIG9iajtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYWcgbm90IHJlc29sdmVkIGZvciAke25hbWV9IHZhbHVlYCk7XG4gICAgfVxuICAgIHJldHVybiB0YWdPYmo7XG59XG4vLyBuZWVkcyB0byBiZSBjYWxsZWQgYmVmb3JlIHZhbHVlIHN0cmluZ2lmaWVyIHRvIGFsbG93IGZvciBjaXJjdWxhciBhbmNob3IgcmVmc1xuZnVuY3Rpb24gc3RyaW5naWZ5UHJvcHMobm9kZSwgdGFnT2JqLCB7IGFuY2hvcnM6IGFuY2hvcnMkMSwgZG9jIH0pIHtcbiAgICBpZiAoIWRvYy5kaXJlY3RpdmVzKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgcHJvcHMgPSBbXTtcbiAgICBjb25zdCBhbmNob3IgPSAoTm9kZS5pc1NjYWxhcihub2RlKSB8fCBOb2RlLmlzQ29sbGVjdGlvbihub2RlKSkgJiYgbm9kZS5hbmNob3I7XG4gICAgaWYgKGFuY2hvciAmJiBhbmNob3JzLmFuY2hvcklzVmFsaWQoYW5jaG9yKSkge1xuICAgICAgICBhbmNob3JzJDEuYWRkKGFuY2hvcik7XG4gICAgICAgIHByb3BzLnB1c2goYCYke2FuY2hvcn1gKTtcbiAgICB9XG4gICAgY29uc3QgdGFnID0gbm9kZS50YWcgPyBub2RlLnRhZyA6IHRhZ09iai5kZWZhdWx0ID8gbnVsbCA6IHRhZ09iai50YWc7XG4gICAgaWYgKHRhZylcbiAgICAgICAgcHJvcHMucHVzaChkb2MuZGlyZWN0aXZlcy50YWdTdHJpbmcodGFnKSk7XG4gICAgcmV0dXJuIHByb3BzLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShpdGVtLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApIHtcbiAgICBpZiAoTm9kZS5pc1BhaXIoaXRlbSkpXG4gICAgICAgIHJldHVybiBpdGVtLnRvU3RyaW5nKGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcCk7XG4gICAgaWYgKE5vZGUuaXNBbGlhcyhpdGVtKSkge1xuICAgICAgICBpZiAoY3R4LmRvYy5kaXJlY3RpdmVzKVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udG9TdHJpbmcoY3R4KTtcbiAgICAgICAgaWYgKGN0eC5yZXNvbHZlZEFsaWFzZXM/LmhhcyhpdGVtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgQ2Fubm90IHN0cmluZ2lmeSBjaXJjdWxhciBzdHJ1Y3R1cmUgd2l0aG91dCBhbGlhcyBub2Rlc2ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGN0eC5yZXNvbHZlZEFsaWFzZXMpXG4gICAgICAgICAgICAgICAgY3R4LnJlc29sdmVkQWxpYXNlcy5hZGQoaXRlbSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY3R4LnJlc29sdmVkQWxpYXNlcyA9IG5ldyBTZXQoW2l0ZW1dKTtcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnJlc29sdmUoY3R4LmRvYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHRhZ09iaiA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBub2RlID0gTm9kZS5pc05vZGUoaXRlbSlcbiAgICAgICAgPyBpdGVtXG4gICAgICAgIDogY3R4LmRvYy5jcmVhdGVOb2RlKGl0ZW0sIHsgb25UYWdPYmo6IG8gPT4gKHRhZ09iaiA9IG8pIH0pO1xuICAgIGlmICghdGFnT2JqKVxuICAgICAgICB0YWdPYmogPSBnZXRUYWdPYmplY3QoY3R4LmRvYy5zY2hlbWEudGFncywgbm9kZSk7XG4gICAgY29uc3QgcHJvcHMgPSBzdHJpbmdpZnlQcm9wcyhub2RlLCB0YWdPYmosIGN0eCk7XG4gICAgaWYgKHByb3BzLmxlbmd0aCA+IDApXG4gICAgICAgIGN0eC5pbmRlbnRBdFN0YXJ0ID0gKGN0eC5pbmRlbnRBdFN0YXJ0ID8/IDApICsgcHJvcHMubGVuZ3RoICsgMTtcbiAgICBjb25zdCBzdHIgPSB0eXBlb2YgdGFnT2JqLnN0cmluZ2lmeSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHRhZ09iai5zdHJpbmdpZnkobm9kZSwgY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKVxuICAgICAgICA6IE5vZGUuaXNTY2FsYXIobm9kZSlcbiAgICAgICAgICAgID8gc3RyaW5naWZ5U3RyaW5nLnN0cmluZ2lmeVN0cmluZyhub2RlLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApXG4gICAgICAgICAgICA6IG5vZGUudG9TdHJpbmcoY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKTtcbiAgICBpZiAoIXByb3BzKVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIHJldHVybiBOb2RlLmlzU2NhbGFyKG5vZGUpIHx8IHN0clswXSA9PT0gJ3snIHx8IHN0clswXSA9PT0gJ1snXG4gICAgICAgID8gYCR7cHJvcHN9ICR7c3RyfWBcbiAgICAgICAgOiBgJHtwcm9wc31cXG4ke2N0eC5pbmRlbnR9JHtzdHJ9YDtcbn1cblxuZXhwb3J0cy5jcmVhdGVTdHJpbmdpZnlDb250ZXh0ID0gY3JlYXRlU3RyaW5naWZ5Q29udGV4dDtcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBQzFDLElBQUlDLElBQUksR0FBR0QsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0FBQ3RDLElBQUlFLGdCQUFnQixHQUFHRixPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDdkQsSUFBSUcsZUFBZSxHQUFHSCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFFckQsU0FBU0ksc0JBQXNCQSxDQUFDQyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtFQUMxQyxNQUFNQyxHQUFHLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDO0lBQ3RCQyxVQUFVLEVBQUUsSUFBSTtJQUNoQkMsYUFBYSxFQUFFVCxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCO0lBQ2hEVSxjQUFjLEVBQUUsSUFBSTtJQUNwQkMsaUJBQWlCLEVBQUUsT0FBTztJQUMxQkMsVUFBVSxFQUFFLElBQUk7SUFDaEJDLGtCQUFrQixFQUFFLEtBQUs7SUFDekJDLDhCQUE4QixFQUFFLEVBQUU7SUFDbENDLFFBQVEsRUFBRSxPQUFPO0lBQ2pCQyxxQkFBcUIsRUFBRSxJQUFJO0lBQzNCQyxTQUFTLEVBQUUsSUFBSTtJQUNmQyxTQUFTLEVBQUUsRUFBRTtJQUNiQyxlQUFlLEVBQUUsRUFBRTtJQUNuQkMsT0FBTyxFQUFFLE1BQU07SUFDZkMsVUFBVSxFQUFFLEtBQUs7SUFDakJDLFdBQVcsRUFBRSxJQUFJO0lBQ2pCQyxPQUFPLEVBQUUsTUFBTTtJQUNmQyxnQkFBZ0IsRUFBRTtFQUN0QixDQUFDLEVBQUVyQixHQUFHLENBQUNzQixNQUFNLENBQUNDLGVBQWUsRUFBRXRCLE9BQU8sQ0FBQztFQUN2QyxJQUFJdUIsTUFBTTtFQUNWLFFBQVF0QixHQUFHLENBQUN1QixlQUFlO0lBQ3ZCLEtBQUssT0FBTztNQUNSRCxNQUFNLEdBQUcsS0FBSztNQUNkO0lBQ0osS0FBSyxNQUFNO01BQ1BBLE1BQU0sR0FBRyxJQUFJO01BQ2I7SUFDSjtNQUNJQSxNQUFNLEdBQUcsSUFBSTtFQUFDO0VBRXRCLE9BQU87SUFDSDlCLE9BQU8sRUFBRSxJQUFJZ0MsR0FBRyxFQUFFO0lBQ2xCMUIsR0FBRztJQUNIYSxxQkFBcUIsRUFBRVgsR0FBRyxDQUFDVyxxQkFBcUIsR0FBRyxHQUFHLEdBQUcsRUFBRTtJQUMzRGMsTUFBTSxFQUFFLEVBQUU7SUFDVkMsVUFBVSxFQUFFLE9BQU8xQixHQUFHLENBQUN5QixNQUFNLEtBQUssUUFBUSxHQUFHLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDM0IsR0FBRyxDQUFDeUIsTUFBTSxDQUFDLEdBQUcsSUFBSTtJQUMxRUgsTUFBTTtJQUNOdkIsT0FBTyxFQUFFQztFQUNiLENBQUM7QUFDTDtBQUNBLFNBQVM0QixZQUFZQSxDQUFDQyxJQUFJLEVBQUVDLElBQUksRUFBRTtFQUM5QixJQUFJQSxJQUFJLENBQUNDLEdBQUcsRUFBRTtJQUNWLE1BQU1DLEtBQUssR0FBR0gsSUFBSSxDQUFDSSxNQUFNLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDSCxHQUFHLEtBQUtELElBQUksQ0FBQ0MsR0FBRyxDQUFDO0lBQ2xELElBQUlDLEtBQUssQ0FBQ0csTUFBTSxHQUFHLENBQUMsRUFDaEIsT0FBT0gsS0FBSyxDQUFDSSxJQUFJLENBQUNGLENBQUMsSUFBSUEsQ0FBQyxDQUFDRyxNQUFNLEtBQUtQLElBQUksQ0FBQ08sTUFBTSxDQUFDLElBQUlMLEtBQUssQ0FBQyxDQUFDLENBQUM7RUFDcEU7RUFDQSxJQUFJTSxNQUFNLEdBQUdDLFNBQVM7RUFDdEIsSUFBSUMsR0FBRztFQUNQLElBQUk5QyxJQUFJLENBQUMrQyxRQUFRLENBQUNYLElBQUksQ0FBQyxFQUFFO0lBQ3JCVSxHQUFHLEdBQUdWLElBQUksQ0FBQ1ksS0FBSztJQUNoQixNQUFNVixLQUFLLEdBQUdILElBQUksQ0FBQ0ksTUFBTSxDQUFDQyxDQUFDLElBQUlBLENBQUMsQ0FBQ1MsUUFBUSxHQUFHSCxHQUFHLENBQUMsQ0FBQztJQUNqREYsTUFBTSxHQUNGTixLQUFLLENBQUNJLElBQUksQ0FBQ0YsQ0FBQyxJQUFJQSxDQUFDLENBQUNHLE1BQU0sS0FBS1AsSUFBSSxDQUFDTyxNQUFNLENBQUMsSUFBSUwsS0FBSyxDQUFDSSxJQUFJLENBQUNGLENBQUMsSUFBSSxDQUFDQSxDQUFDLENBQUNHLE1BQU0sQ0FBQztFQUMvRSxDQUFDLE1BQ0k7SUFDREcsR0FBRyxHQUFHVixJQUFJO0lBQ1ZRLE1BQU0sR0FBR1QsSUFBSSxDQUFDTyxJQUFJLENBQUNGLENBQUMsSUFBSUEsQ0FBQyxDQUFDVSxTQUFTLElBQUlKLEdBQUcsWUFBWU4sQ0FBQyxDQUFDVSxTQUFTLENBQUM7RUFDdEU7RUFDQSxJQUFJLENBQUNOLE1BQU0sRUFBRTtJQUNULE1BQU1PLElBQUksR0FBR0wsR0FBRyxFQUFFTSxXQUFXLEVBQUVELElBQUksSUFBSSxPQUFPTCxHQUFHO0lBQ2pELE1BQU0sSUFBSU8sS0FBSyxDQUFFLHdCQUF1QkYsSUFBSyxRQUFPLENBQUM7RUFDekQ7RUFDQSxPQUFPUCxNQUFNO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTVSxjQUFjQSxDQUFDQyxJQUFJLEVBQUVYLE1BQU0sRUFBRTtFQUFFOUMsT0FBTyxFQUFFMEQsU0FBUztFQUFFcEQ7QUFBSSxDQUFDLEVBQUU7RUFDL0QsSUFBSSxDQUFDQSxHQUFHLENBQUNTLFVBQVUsRUFDZixPQUFPLEVBQUU7RUFDYixNQUFNNEMsS0FBSyxHQUFHLEVBQUU7RUFDaEIsTUFBTUMsTUFBTSxHQUFHLENBQUMxRCxJQUFJLENBQUMrQyxRQUFRLENBQUNRLElBQUksQ0FBQyxJQUFJdkQsSUFBSSxDQUFDMkQsWUFBWSxDQUFDSixJQUFJLENBQUMsS0FBS0EsSUFBSSxDQUFDRyxNQUFNO0VBQzlFLElBQUlBLE1BQU0sSUFBSTVELE9BQU8sQ0FBQzhELGFBQWEsQ0FBQ0YsTUFBTSxDQUFDLEVBQUU7SUFDekNGLFNBQVMsQ0FBQ0ssR0FBRyxDQUFDSCxNQUFNLENBQUM7SUFDckJELEtBQUssQ0FBQ0ssSUFBSSxDQUFFLElBQUdKLE1BQU8sRUFBQyxDQUFDO0VBQzVCO0VBQ0EsTUFBTXJCLEdBQUcsR0FBR2tCLElBQUksQ0FBQ2xCLEdBQUcsR0FBR2tCLElBQUksQ0FBQ2xCLEdBQUcsR0FBR08sTUFBTSxDQUFDbUIsT0FBTyxHQUFHLElBQUksR0FBR25CLE1BQU0sQ0FBQ1AsR0FBRztFQUNwRSxJQUFJQSxHQUFHLEVBQ0hvQixLQUFLLENBQUNLLElBQUksQ0FBQzFELEdBQUcsQ0FBQ1MsVUFBVSxDQUFDbUQsU0FBUyxDQUFDM0IsR0FBRyxDQUFDLENBQUM7RUFDN0MsT0FBT29CLEtBQUssQ0FBQ1EsSUFBSSxDQUFDLEdBQUcsQ0FBQztBQUMxQjtBQUNBLFNBQVNDLFNBQVNBLENBQUM5QixJQUFJLEVBQUUrQixHQUFHLEVBQUVDLFNBQVMsRUFBRUMsV0FBVyxFQUFFO0VBQ2xELElBQUlyRSxJQUFJLENBQUNzRSxNQUFNLENBQUNsQyxJQUFJLENBQUMsRUFDakIsT0FBT0EsSUFBSSxDQUFDbUMsUUFBUSxDQUFDSixHQUFHLEVBQUVDLFNBQVMsRUFBRUMsV0FBVyxDQUFDO0VBQ3JELElBQUlyRSxJQUFJLENBQUN3RSxPQUFPLENBQUNwQyxJQUFJLENBQUMsRUFBRTtJQUNwQixJQUFJK0IsR0FBRyxDQUFDL0QsR0FBRyxDQUFDUyxVQUFVLEVBQ2xCLE9BQU91QixJQUFJLENBQUNtQyxRQUFRLENBQUNKLEdBQUcsQ0FBQztJQUM3QixJQUFJQSxHQUFHLENBQUNNLGVBQWUsRUFBRUMsR0FBRyxDQUFDdEMsSUFBSSxDQUFDLEVBQUU7TUFDaEMsTUFBTSxJQUFJdUMsU0FBUyxDQUFFLHlEQUF3RCxDQUFDO0lBQ2xGLENBQUMsTUFDSTtNQUNELElBQUlSLEdBQUcsQ0FBQ00sZUFBZSxFQUNuQk4sR0FBRyxDQUFDTSxlQUFlLENBQUNaLEdBQUcsQ0FBQ3pCLElBQUksQ0FBQyxDQUFDLEtBRTlCK0IsR0FBRyxDQUFDTSxlQUFlLEdBQUcsSUFBSTNDLEdBQUcsQ0FBQyxDQUFDTSxJQUFJLENBQUMsQ0FBQztNQUN6Q0EsSUFBSSxHQUFHQSxJQUFJLENBQUN3QyxPQUFPLENBQUNULEdBQUcsQ0FBQy9ELEdBQUcsQ0FBQztJQUNoQztFQUNKO0VBQ0EsSUFBSXdDLE1BQU0sR0FBR0MsU0FBUztFQUN0QixNQUFNVSxJQUFJLEdBQUd2RCxJQUFJLENBQUM2RSxNQUFNLENBQUN6QyxJQUFJLENBQUMsR0FDeEJBLElBQUksR0FDSitCLEdBQUcsQ0FBQy9ELEdBQUcsQ0FBQzBFLFVBQVUsQ0FBQzFDLElBQUksRUFBRTtJQUFFMkMsUUFBUSxFQUFFQyxDQUFDLElBQUtwQyxNQUFNLEdBQUdvQztFQUFHLENBQUMsQ0FBQztFQUMvRCxJQUFJLENBQUNwQyxNQUFNLEVBQ1BBLE1BQU0sR0FBR1YsWUFBWSxDQUFDaUMsR0FBRyxDQUFDL0QsR0FBRyxDQUFDc0IsTUFBTSxDQUFDUyxJQUFJLEVBQUVvQixJQUFJLENBQUM7RUFDcEQsTUFBTUUsS0FBSyxHQUFHSCxjQUFjLENBQUNDLElBQUksRUFBRVgsTUFBTSxFQUFFdUIsR0FBRyxDQUFDO0VBQy9DLElBQUlWLEtBQUssQ0FBQ2hCLE1BQU0sR0FBRyxDQUFDLEVBQ2hCMEIsR0FBRyxDQUFDYyxhQUFhLEdBQUcsQ0FBQ2QsR0FBRyxDQUFDYyxhQUFhLElBQUksQ0FBQyxJQUFJeEIsS0FBSyxDQUFDaEIsTUFBTSxHQUFHLENBQUM7RUFDbkUsTUFBTXlDLEdBQUcsR0FBRyxPQUFPdEMsTUFBTSxDQUFDc0IsU0FBUyxLQUFLLFVBQVUsR0FDNUN0QixNQUFNLENBQUNzQixTQUFTLENBQUNYLElBQUksRUFBRVksR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsQ0FBQyxHQUNuRHJFLElBQUksQ0FBQytDLFFBQVEsQ0FBQ1EsSUFBSSxDQUFDLEdBQ2ZyRCxlQUFlLENBQUNBLGVBQWUsQ0FBQ3FELElBQUksRUFBRVksR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsQ0FBQyxHQUNsRWQsSUFBSSxDQUFDZ0IsUUFBUSxDQUFDSixHQUFHLEVBQUVDLFNBQVMsRUFBRUMsV0FBVyxDQUFDO0VBQ3BELElBQUksQ0FBQ1osS0FBSyxFQUNOLE9BQU95QixHQUFHO0VBQ2QsT0FBT2xGLElBQUksQ0FBQytDLFFBQVEsQ0FBQ1EsSUFBSSxDQUFDLElBQUkyQixHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJQSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUN2RCxHQUFFekIsS0FBTSxJQUFHeUIsR0FBSSxFQUFDLEdBQ2hCLEdBQUV6QixLQUFNLEtBQUlVLEdBQUcsQ0FBQ3BDLE1BQU8sR0FBRW1ELEdBQUksRUFBQztBQUN6QztBQUVBQyxPQUFPLENBQUNoRixzQkFBc0IsR0FBR0Esc0JBQXNCO0FBQ3ZEZ0YsT0FBTyxDQUFDakIsU0FBUyxHQUFHQSxTQUFTIn0=