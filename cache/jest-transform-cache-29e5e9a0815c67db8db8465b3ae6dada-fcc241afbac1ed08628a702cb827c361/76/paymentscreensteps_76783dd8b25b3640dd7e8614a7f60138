9cefd5c4f3c389ecdffcb9026c2201ee
"use strict";

var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _reactRouterDom = require("react-router-dom");
var _PaymentScreen = _interopRequireDefault(require("../../PaymentScreen"));
var _toolkit = require("@reduxjs/toolkit");
var _parkingSlice = _interopRequireDefault(require("./../../redux/reducer/parkingSlice"));
var _reactRedux = require("react-redux");
require("@testing-library/jest-dom/extend-expect");
var _jestCucumber = require("jest-cucumber");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const feature = (0, _jestCucumber.loadFeature)("src/components/features/paymentscreen.feature");
(0, _jestCucumber.defineFeature)(feature, test => {
  test("User pays for occupied parking spot", ({
    given,
    when,
    then,
    and
  }) => {
    given("I am on the Payment Screen", () => {
      const state = {
        spaceDetails: {
          registration: "ABC",
          parkingTime: "10:00"
        },
        space: "1"
      };
      const store = (0, _toolkit.configureStore)({
        reducer: {
          parkingSpaces: _parkingSlice.default
        }
      });
      const {
        getByTestId
      } = (0, _react2.render)( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.MemoryRouter, {
        initialEntries: [{
          pathname: "/payment",
          state
        }]
      }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Routes, null, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Route, {
        path: "/payment",
        element: /*#__PURE__*/_react.default.createElement(_PaymentScreen.default, null)
      })))));
      const regElement = getByTestId("reg");
      expect(regElement).toHaveTextContent("Vehicle Registration: ABC");
      const parkingHoursElement = getByTestId("parkingHours");
      expect(parkingHoursElement).toHaveTextContent("Hours Parked: 9");
      const paymentElement = getByTestId("payment");
      expect(paymentElement).toHaveTextContent("Parking Charge: $80");
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdDIiLCJfcmVhY3RSb3V0ZXJEb20iLCJfUGF5bWVudFNjcmVlbiIsIl90b29sa2l0IiwiX3BhcmtpbmdTbGljZSIsIl9yZWFjdFJlZHV4IiwiX2plc3RDdWN1bWJlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZmVhdHVyZSIsImxvYWRGZWF0dXJlIiwiZGVmaW5lRmVhdHVyZSIsInRlc3QiLCJnaXZlbiIsIndoZW4iLCJ0aGVuIiwiYW5kIiwic3RhdGUiLCJzcGFjZURldGFpbHMiLCJyZWdpc3RyYXRpb24iLCJwYXJraW5nVGltZSIsInNwYWNlIiwic3RvcmUiLCJjb25maWd1cmVTdG9yZSIsInJlZHVjZXIiLCJwYXJraW5nU3BhY2VzIiwicGFya2luZ1NsaWNlIiwiZ2V0QnlUZXN0SWQiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJNZW1vcnlSb3V0ZXIiLCJpbml0aWFsRW50cmllcyIsInBhdGhuYW1lIiwiUm91dGVzIiwiUm91dGUiLCJwYXRoIiwiZWxlbWVudCIsInJlZ0VsZW1lbnQiLCJleHBlY3QiLCJ0b0hhdmVUZXh0Q29udGVudCIsInBhcmtpbmdIb3Vyc0VsZW1lbnQiLCJwYXltZW50RWxlbWVudCJdLCJzb3VyY2VzIjpbInBheW1lbnRzY3JlZW4uc3RlcHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHNjcmVlbiB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XHJcbmltcG9ydCB7IE1lbW9yeVJvdXRlciwgUm91dGUsIFJvdXRlcyB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XHJcbmltcG9ydCBQYXltZW50U2NyZWVuIGZyb20gXCIuLi8uLi9QYXltZW50U2NyZWVuXCI7XHJcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuaW1wb3J0IHBhcmtpbmdTbGljZSBmcm9tIFwiLi8uLi8uLi9yZWR1eC9yZWR1Y2VyL3BhcmtpbmdTbGljZVwiO1xyXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgXCJAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tL2V4dGVuZC1leHBlY3RcIjtcclxuaW1wb3J0IHsgbG9hZEZlYXR1cmUsIGRlZmluZUZlYXR1cmUgfSBmcm9tIFwiamVzdC1jdWN1bWJlclwiO1xyXG5cclxuY29uc3QgZmVhdHVyZSA9IGxvYWRGZWF0dXJlKFwic3JjL2NvbXBvbmVudHMvZmVhdHVyZXMvcGF5bWVudHNjcmVlbi5mZWF0dXJlXCIpO1xyXG5cclxuZGVmaW5lRmVhdHVyZShmZWF0dXJlLCAodGVzdCkgPT4ge1xyXG4gIHRlc3QoXCJVc2VyIHBheXMgZm9yIG9jY3VwaWVkIHBhcmtpbmcgc3BvdFwiLCAoeyBnaXZlbiwgd2hlbiwgdGhlbiwgYW5kIH0pID0+IHtcclxuICAgIGdpdmVuKFwiSSBhbSBvbiB0aGUgUGF5bWVudCBTY3JlZW5cIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBzcGFjZURldGFpbHM6IHtcclxuICAgICAgICAgIHJlZ2lzdHJhdGlvbjogXCJBQkNcIixcclxuICAgICAgICAgIHBhcmtpbmdUaW1lOiBcIjEwOjAwXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGFjZTogXCIxXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHN0b3JlID0gY29uZmlndXJlU3RvcmUoe1xyXG4gICAgICAgIHJlZHVjZXI6IHtcclxuICAgICAgICAgIHBhcmtpbmdTcGFjZXM6IHBhcmtpbmdTbGljZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgICAgPE1lbW9yeVJvdXRlciBpbml0aWFsRW50cmllcz17W3sgcGF0aG5hbWU6IFwiL3BheW1lbnRcIiwgc3RhdGUgfV19PlxyXG4gICAgICAgICAgICA8Um91dGVzPlxyXG4gICAgICAgICAgICAgIDxSb3V0ZSBwYXRoPVwiL3BheW1lbnRcIiBlbGVtZW50PXs8UGF5bWVudFNjcmVlbiAvPn0gLz5cclxuICAgICAgICAgICAgPC9Sb3V0ZXM+XHJcbiAgICAgICAgICA8L01lbW9yeVJvdXRlcj5cclxuICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgcmVnRWxlbWVudCA9IGdldEJ5VGVzdElkKFwicmVnXCIpO1xyXG4gICAgICBleHBlY3QocmVnRWxlbWVudCkudG9IYXZlVGV4dENvbnRlbnQoXCJWZWhpY2xlIFJlZ2lzdHJhdGlvbjogQUJDXCIpO1xyXG5cclxuICAgICAgY29uc3QgcGFya2luZ0hvdXJzRWxlbWVudCA9IGdldEJ5VGVzdElkKFwicGFya2luZ0hvdXJzXCIpO1xyXG4gICAgICBleHBlY3QocGFya2luZ0hvdXJzRWxlbWVudCkudG9IYXZlVGV4dENvbnRlbnQoXCJIb3VycyBQYXJrZWQ6IDlcIik7XHJcblxyXG4gICAgICBjb25zdCBwYXltZW50RWxlbWVudCA9IGdldEJ5VGVzdElkKFwicGF5bWVudFwiKTtcclxuICAgICAgZXhwZWN0KHBheW1lbnRFbGVtZW50KS50b0hhdmVUZXh0Q29udGVudChcIlBhcmtpbmcgQ2hhcmdlOiAkODBcIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxlQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxjQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxRQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxhQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxXQUFBLEdBQUFOLE9BQUE7QUFDQUEsT0FBQTtBQUNBLElBQUFPLGFBQUEsR0FBQVAsT0FBQTtBQUEyRCxTQUFBRCx1QkFBQVMsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUzRCxNQUFNRyxPQUFPLEdBQUcsSUFBQUMseUJBQVcsRUFBQywrQ0FBK0MsQ0FBQztBQUU1RSxJQUFBQywyQkFBYSxFQUFDRixPQUFPLEVBQUdHLElBQUksSUFBSztFQUMvQkEsSUFBSSxDQUFDLHFDQUFxQyxFQUFFLENBQUM7SUFBRUMsS0FBSztJQUFFQyxJQUFJO0lBQUVDLElBQUk7SUFBRUM7RUFBSSxDQUFDLEtBQUs7SUFDMUVILEtBQUssQ0FBQyw0QkFBNEIsRUFBRSxNQUFNO01BQ3hDLE1BQU1JLEtBQUssR0FBRztRQUNaQyxZQUFZLEVBQUU7VUFDWkMsWUFBWSxFQUFFLEtBQUs7VUFDbkJDLFdBQVcsRUFBRTtRQUNmLENBQUM7UUFDREMsS0FBSyxFQUFFO01BQ1QsQ0FBQztNQUNELE1BQU1DLEtBQUssR0FBRyxJQUFBQyx1QkFBYyxFQUFDO1FBQzNCQyxPQUFPLEVBQUU7VUFDUEMsYUFBYSxFQUFFQztRQUNqQjtNQUNGLENBQUMsQ0FBQztNQUNGLE1BQU07UUFBRUM7TUFBWSxDQUFDLEdBQUcsSUFBQUMsY0FBTSxnQkFDNUJoQyxNQUFBLENBQUFZLE9BQUEsQ0FBQXFCLGFBQUEsQ0FBQ3pCLFdBQUEsQ0FBQTBCLFFBQVE7UUFBQ1IsS0FBSyxFQUFFQTtNQUFNLGdCQUNyQjFCLE1BQUEsQ0FBQVksT0FBQSxDQUFBcUIsYUFBQSxDQUFDN0IsZUFBQSxDQUFBK0IsWUFBWTtRQUFDQyxjQUFjLEVBQUUsQ0FBQztVQUFFQyxRQUFRLEVBQUUsVUFBVTtVQUFFaEI7UUFBTSxDQUFDO01BQUUsZ0JBQzlEckIsTUFBQSxDQUFBWSxPQUFBLENBQUFxQixhQUFBLENBQUM3QixlQUFBLENBQUFrQyxNQUFNLHFCQUNMdEMsTUFBQSxDQUFBWSxPQUFBLENBQUFxQixhQUFBLENBQUM3QixlQUFBLENBQUFtQyxLQUFLO1FBQUNDLElBQUksRUFBQyxVQUFVO1FBQUNDLE9BQU8sZUFBRXpDLE1BQUEsQ0FBQVksT0FBQSxDQUFBcUIsYUFBQSxDQUFDNUIsY0FBQSxDQUFBTyxPQUFhO01BQUksRUFBRyxDQUM5QyxDQUNJLENBQ04sQ0FDWjtNQUVELE1BQU04QixVQUFVLEdBQUdYLFdBQVcsQ0FBQyxLQUFLLENBQUM7TUFDckNZLE1BQU0sQ0FBQ0QsVUFBVSxDQUFDLENBQUNFLGlCQUFpQixDQUFDLDJCQUEyQixDQUFDO01BRWpFLE1BQU1DLG1CQUFtQixHQUFHZCxXQUFXLENBQUMsY0FBYyxDQUFDO01BQ3ZEWSxNQUFNLENBQUNFLG1CQUFtQixDQUFDLENBQUNELGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO01BRWhFLE1BQU1FLGNBQWMsR0FBR2YsV0FBVyxDQUFDLFNBQVMsQ0FBQztNQUM3Q1ksTUFBTSxDQUFDRyxjQUFjLENBQUMsQ0FBQ0YsaUJBQWlCLENBQUMscUJBQXFCLENBQUM7SUFDakUsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIn0=