{"version":3,"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","RegExpTree","re","_ref","flags","groups","source","_re","_groups","dotAll","includes","global","ignoreCase","multiline","sticky","unicode","value","test","string","compile","toString","_toStringResult","exec","result","group","groupNumber","module","exports"],"sources":["index.js"],"sourcesContent":["/**\n * The MIT License (MIT)\n * Copyright (c) 2017-present Dmitry Soshnikov <dmitry.soshnikov@gmail.com>\n */\n\n'use strict';\n\n/**\n * The `RegExpTree` class provides runtime support for `compat-transpiler`\n * module from `regexp-tree`.\n *\n * E.g. it tracks names of the capturing groups, in order to access the\n * names on the matched result.\n *\n * It's a thin-wrapper on top of original regexp.\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RegExpTree = function () {\n  /**\n   * Initializes a `RegExpTree` instance.\n   *\n   * @param RegExp - a regular expression\n   *\n   * @param Object state:\n   *\n   *   An extra state which may store any related to transformation\n   *   data, for example, names of the groups.\n   *\n   *   - flags - original flags\n   *   - groups - names of the groups, and their indices\n   *   - source - original source\n   */\n  function RegExpTree(re, _ref) {\n    var flags = _ref.flags,\n        groups = _ref.groups,\n        source = _ref.source;\n\n    _classCallCheck(this, RegExpTree);\n\n    this._re = re;\n    this._groups = groups;\n\n    // Original props.\n    this.flags = flags;\n    this.source = source || re.source;\n    this.dotAll = flags.includes('s');\n\n    // Inherited directly from `re`.\n    this.global = re.global;\n    this.ignoreCase = re.ignoreCase;\n    this.multiline = re.multiline;\n    this.sticky = re.sticky;\n    this.unicode = re.unicode;\n  }\n\n  /**\n   * Facade wrapper for RegExp `test` method.\n   */\n\n\n  _createClass(RegExpTree, [{\n    key: 'test',\n    value: function test(string) {\n      return this._re.test(string);\n    }\n\n    /**\n     * Facade wrapper for RegExp `compile` method.\n     */\n\n  }, {\n    key: 'compile',\n    value: function compile(string) {\n      return this._re.compile(string);\n    }\n\n    /**\n     * Facade wrapper for RegExp `toString` method.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      if (!this._toStringResult) {\n        this._toStringResult = '/' + this.source + '/' + this.flags;\n      }\n      return this._toStringResult;\n    }\n\n    /**\n     * Facade wrapper for RegExp `exec` method.\n     */\n\n  }, {\n    key: 'exec',\n    value: function exec(string) {\n      var result = this._re.exec(string);\n\n      if (!this._groups || !result) {\n        return result;\n      }\n\n      result.groups = {};\n\n      for (var group in this._groups) {\n        var groupNumber = this._groups[group];\n        result.groups[group] = result[groupNumber];\n      }\n\n      return result;\n    }\n  }]);\n\n  return RegExpTree;\n}();\n\nmodule.exports = {\n  RegExpTree: RegExpTree\n};"],"mappings":"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"}