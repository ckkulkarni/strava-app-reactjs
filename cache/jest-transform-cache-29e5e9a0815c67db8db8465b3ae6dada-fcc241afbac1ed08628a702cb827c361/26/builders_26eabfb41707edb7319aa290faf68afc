eb47f817daf9ab3f378fc142b944240e
/**
 * The MIT License (MIT)
 * Copyright (c) 2017-present Dmitry Soshnikov <dmitry.soshnikov@gmail.com>
 */

'use strict';

var NFA = require('./nfa');
var NFAState = require('./nfa-state');
var _require = require('../special-symbols'),
  EPSILON = _require.EPSILON;

// -----------------------------------------------------------------------------
// Char NFA fragment: `c`

/**
 * Char factory.
 *
 * Creates an NFA fragment for a single char.
 *
 * [in] --c--> [out]
 */

function char(c) {
  var inState = new NFAState();
  var outState = new NFAState({
    accepting: true
  });
  return new NFA(inState.addTransition(c, outState), outState);
}

// -----------------------------------------------------------------------------
// Epsilon NFA fragment

/**
 * Epsilon factory.
 *
 * Creates an NFA fragment for ε (recognizes an empty string).
 *
 * [in] --ε--> [out]
 */
function e() {
  return char(EPSILON);
}

// -----------------------------------------------------------------------------
// Alteration NFA fragment: `abc`

/**
 * Creates a connection between two NFA fragments on epsilon transition.
 *
 * [in-a] --a--> [out-a] --ε--> [in-b] --b--> [out-b]
 */
function altPair(first, second) {
  first.out.accepting = false;
  second.out.accepting = true;
  first.out.addTransition(EPSILON, second.in);
  return new NFA(first.in, second.out);
}

/**
 * Alteration factory.
 *
 * Creates a alteration NFA for (at least) two NFA-fragments.
 */
function alt(first) {
  for (var _len = arguments.length, fragments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    fragments[_key - 1] = arguments[_key];
  }
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;
  try {
    for (var _iterator = fragments[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var fragment = _step.value;
      first = altPair(first, fragment);
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }
  return first;
}

// -----------------------------------------------------------------------------
// Disjunction NFA fragment: `a|b`

/**
 * Creates a disjunction choice between two fragments.
 */
function orPair(first, second) {
  var inState = new NFAState();
  var outState = new NFAState();
  inState.addTransition(EPSILON, first.in);
  inState.addTransition(EPSILON, second.in);
  outState.accepting = true;
  first.out.accepting = false;
  second.out.accepting = false;
  first.out.addTransition(EPSILON, outState);
  second.out.addTransition(EPSILON, outState);
  return new NFA(inState, outState);
}

/**
 * Disjunction factory.
 *
 * Creates a disjunction NFA for (at least) two NFA-fragments.
 */
function or(first) {
  for (var _len2 = arguments.length, fragments = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    fragments[_key2 - 1] = arguments[_key2];
  }
  var _iteratorNormalCompletion2 = true;
  var _didIteratorError2 = false;
  var _iteratorError2 = undefined;
  try {
    for (var _iterator2 = fragments[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
      var fragment = _step2.value;
      first = orPair(first, fragment);
    }
  } catch (err) {
    _didIteratorError2 = true;
    _iteratorError2 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion2 && _iterator2.return) {
        _iterator2.return();
      }
    } finally {
      if (_didIteratorError2) {
        throw _iteratorError2;
      }
    }
  }
  return first;
}

// -----------------------------------------------------------------------------
// Kleene-closure

/**
 * Kleene star/closure.
 *
 * a*
 */
function repExplicit(fragment) {
  var inState = new NFAState();
  var outState = new NFAState({
    accepting: true
  });

  // 0 or more.
  inState.addTransition(EPSILON, fragment.in);
  inState.addTransition(EPSILON, outState);
  fragment.out.accepting = false;
  fragment.out.addTransition(EPSILON, outState);
  outState.addTransition(EPSILON, fragment.in);
  return new NFA(inState, outState);
}

/**
 * Optimized Kleene-star: just adds ε-transitions from
 * input to the output, and back.
 */
function rep(fragment) {
  fragment.in.addTransition(EPSILON, fragment.out);
  fragment.out.addTransition(EPSILON, fragment.in);
  return fragment;
}

/**
 * Optimized Plus: just adds ε-transitions from
 * the output to the input.
 */
function plusRep(fragment) {
  fragment.out.addTransition(EPSILON, fragment.in);
  return fragment;
}

/**
 * Optimized ? repetition: just adds ε-transitions from
 * the input to the output.
 */
function questionRep(fragment) {
  fragment.in.addTransition(EPSILON, fragment.out);
  return fragment;
}
module.exports = {
  alt: alt,
  char: char,
  e: e,
  or: or,
  rep: rep,
  repExplicit: repExplicit,
  plusRep: plusRep,
  questionRep: questionRep
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJORkEiLCJyZXF1aXJlIiwiTkZBU3RhdGUiLCJfcmVxdWlyZSIsIkVQU0lMT04iLCJjaGFyIiwiYyIsImluU3RhdGUiLCJvdXRTdGF0ZSIsImFjY2VwdGluZyIsImFkZFRyYW5zaXRpb24iLCJlIiwiYWx0UGFpciIsImZpcnN0Iiwic2Vjb25kIiwib3V0IiwiaW4iLCJhbHQiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZnJhZ21lbnRzIiwiQXJyYXkiLCJfa2V5IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zdGVwIiwibmV4dCIsImRvbmUiLCJmcmFnbWVudCIsInZhbHVlIiwiZXJyIiwicmV0dXJuIiwib3JQYWlyIiwib3IiLCJfbGVuMiIsIl9rZXkyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwicmVwRXhwbGljaXQiLCJyZXAiLCJwbHVzUmVwIiwicXVlc3Rpb25SZXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYnVpbGRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50IERtaXRyeSBTb3Nobmlrb3YgPGRtaXRyeS5zb3Nobmlrb3ZAZ21haWwuY29tPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE5GQSA9IHJlcXVpcmUoJy4vbmZhJyk7XG52YXIgTkZBU3RhdGUgPSByZXF1aXJlKCcuL25mYS1zdGF0ZScpO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuLi9zcGVjaWFsLXN5bWJvbHMnKSxcbiAgICBFUFNJTE9OID0gX3JlcXVpcmUuRVBTSUxPTjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENoYXIgTkZBIGZyYWdtZW50OiBgY2BcblxuLyoqXG4gKiBDaGFyIGZhY3RvcnkuXG4gKlxuICogQ3JlYXRlcyBhbiBORkEgZnJhZ21lbnQgZm9yIGEgc2luZ2xlIGNoYXIuXG4gKlxuICogW2luXSAtLWMtLT4gW291dF1cbiAqL1xuXG5cbmZ1bmN0aW9uIGNoYXIoYykge1xuICB2YXIgaW5TdGF0ZSA9IG5ldyBORkFTdGF0ZSgpO1xuICB2YXIgb3V0U3RhdGUgPSBuZXcgTkZBU3RhdGUoe1xuICAgIGFjY2VwdGluZzogdHJ1ZVxuICB9KTtcblxuICByZXR1cm4gbmV3IE5GQShpblN0YXRlLmFkZFRyYW5zaXRpb24oYywgb3V0U3RhdGUpLCBvdXRTdGF0ZSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcHNpbG9uIE5GQSBmcmFnbWVudFxuXG4vKipcbiAqIEVwc2lsb24gZmFjdG9yeS5cbiAqXG4gKiBDcmVhdGVzIGFuIE5GQSBmcmFnbWVudCBmb3IgzrUgKHJlY29nbml6ZXMgYW4gZW1wdHkgc3RyaW5nKS5cbiAqXG4gKiBbaW5dIC0tzrUtLT4gW291dF1cbiAqL1xuZnVuY3Rpb24gZSgpIHtcbiAgcmV0dXJuIGNoYXIoRVBTSUxPTik7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBbHRlcmF0aW9uIE5GQSBmcmFnbWVudDogYGFiY2BcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29ubmVjdGlvbiBiZXR3ZWVuIHR3byBORkEgZnJhZ21lbnRzIG9uIGVwc2lsb24gdHJhbnNpdGlvbi5cbiAqXG4gKiBbaW4tYV0gLS1hLS0+IFtvdXQtYV0gLS3OtS0tPiBbaW4tYl0gLS1iLS0+IFtvdXQtYl1cbiAqL1xuZnVuY3Rpb24gYWx0UGFpcihmaXJzdCwgc2Vjb25kKSB7XG4gIGZpcnN0Lm91dC5hY2NlcHRpbmcgPSBmYWxzZTtcbiAgc2Vjb25kLm91dC5hY2NlcHRpbmcgPSB0cnVlO1xuXG4gIGZpcnN0Lm91dC5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIHNlY29uZC5pbik7XG5cbiAgcmV0dXJuIG5ldyBORkEoZmlyc3QuaW4sIHNlY29uZC5vdXQpO1xufVxuXG4vKipcbiAqIEFsdGVyYXRpb24gZmFjdG9yeS5cbiAqXG4gKiBDcmVhdGVzIGEgYWx0ZXJhdGlvbiBORkEgZm9yIChhdCBsZWFzdCkgdHdvIE5GQS1mcmFnbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGFsdChmaXJzdCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnJhZ21lbnRzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZyYWdtZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmcmFnbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICB2YXIgZnJhZ21lbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgZmlyc3QgPSBhbHRQYWlyKGZpcnN0LCBmcmFnbWVudCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaXJzdDtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERpc2p1bmN0aW9uIE5GQSBmcmFnbWVudDogYGF8YmBcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGlzanVuY3Rpb24gY2hvaWNlIGJldHdlZW4gdHdvIGZyYWdtZW50cy5cbiAqL1xuZnVuY3Rpb24gb3JQYWlyKGZpcnN0LCBzZWNvbmQpIHtcbiAgdmFyIGluU3RhdGUgPSBuZXcgTkZBU3RhdGUoKTtcbiAgdmFyIG91dFN0YXRlID0gbmV3IE5GQVN0YXRlKCk7XG5cbiAgaW5TdGF0ZS5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIGZpcnN0LmluKTtcbiAgaW5TdGF0ZS5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIHNlY29uZC5pbik7XG5cbiAgb3V0U3RhdGUuYWNjZXB0aW5nID0gdHJ1ZTtcbiAgZmlyc3Qub3V0LmFjY2VwdGluZyA9IGZhbHNlO1xuICBzZWNvbmQub3V0LmFjY2VwdGluZyA9IGZhbHNlO1xuXG4gIGZpcnN0Lm91dC5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIG91dFN0YXRlKTtcbiAgc2Vjb25kLm91dC5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIG91dFN0YXRlKTtcblxuICByZXR1cm4gbmV3IE5GQShpblN0YXRlLCBvdXRTdGF0ZSk7XG59XG5cbi8qKlxuICogRGlzanVuY3Rpb24gZmFjdG9yeS5cbiAqXG4gKiBDcmVhdGVzIGEgZGlzanVuY3Rpb24gTkZBIGZvciAoYXQgbGVhc3QpIHR3byBORkEtZnJhZ21lbnRzLlxuICovXG5mdW5jdGlvbiBvcihmaXJzdCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZyYWdtZW50cyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBmcmFnbWVudHNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gZnJhZ21lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICB2YXIgZnJhZ21lbnQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgIGZpcnN0ID0gb3JQYWlyKGZpcnN0LCBmcmFnbWVudCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmlyc3Q7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBLbGVlbmUtY2xvc3VyZVxuXG4vKipcbiAqIEtsZWVuZSBzdGFyL2Nsb3N1cmUuXG4gKlxuICogYSpcbiAqL1xuZnVuY3Rpb24gcmVwRXhwbGljaXQoZnJhZ21lbnQpIHtcbiAgdmFyIGluU3RhdGUgPSBuZXcgTkZBU3RhdGUoKTtcbiAgdmFyIG91dFN0YXRlID0gbmV3IE5GQVN0YXRlKHtcbiAgICBhY2NlcHRpbmc6IHRydWVcbiAgfSk7XG5cbiAgLy8gMCBvciBtb3JlLlxuICBpblN0YXRlLmFkZFRyYW5zaXRpb24oRVBTSUxPTiwgZnJhZ21lbnQuaW4pO1xuICBpblN0YXRlLmFkZFRyYW5zaXRpb24oRVBTSUxPTiwgb3V0U3RhdGUpO1xuXG4gIGZyYWdtZW50Lm91dC5hY2NlcHRpbmcgPSBmYWxzZTtcbiAgZnJhZ21lbnQub3V0LmFkZFRyYW5zaXRpb24oRVBTSUxPTiwgb3V0U3RhdGUpO1xuICBvdXRTdGF0ZS5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIGZyYWdtZW50LmluKTtcblxuICByZXR1cm4gbmV3IE5GQShpblN0YXRlLCBvdXRTdGF0ZSk7XG59XG5cbi8qKlxuICogT3B0aW1pemVkIEtsZWVuZS1zdGFyOiBqdXN0IGFkZHMgzrUtdHJhbnNpdGlvbnMgZnJvbVxuICogaW5wdXQgdG8gdGhlIG91dHB1dCwgYW5kIGJhY2suXG4gKi9cbmZ1bmN0aW9uIHJlcChmcmFnbWVudCkge1xuICBmcmFnbWVudC5pbi5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIGZyYWdtZW50Lm91dCk7XG4gIGZyYWdtZW50Lm91dC5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIGZyYWdtZW50LmluKTtcbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG4vKipcbiAqIE9wdGltaXplZCBQbHVzOiBqdXN0IGFkZHMgzrUtdHJhbnNpdGlvbnMgZnJvbVxuICogdGhlIG91dHB1dCB0byB0aGUgaW5wdXQuXG4gKi9cbmZ1bmN0aW9uIHBsdXNSZXAoZnJhZ21lbnQpIHtcbiAgZnJhZ21lbnQub3V0LmFkZFRyYW5zaXRpb24oRVBTSUxPTiwgZnJhZ21lbnQuaW4pO1xuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbi8qKlxuICogT3B0aW1pemVkID8gcmVwZXRpdGlvbjoganVzdCBhZGRzIM61LXRyYW5zaXRpb25zIGZyb21cbiAqIHRoZSBpbnB1dCB0byB0aGUgb3V0cHV0LlxuICovXG5mdW5jdGlvbiBxdWVzdGlvblJlcChmcmFnbWVudCkge1xuICBmcmFnbWVudC5pbi5hZGRUcmFuc2l0aW9uKEVQU0lMT04sIGZyYWdtZW50Lm91dCk7XG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFsdDogYWx0LFxuICBjaGFyOiBjaGFyLFxuICBlOiBlLFxuICBvcjogb3IsXG4gIHJlcDogcmVwLFxuICByZXBFeHBsaWNpdDogcmVwRXhwbGljaXQsXG4gIHBsdXNSZXA6IHBsdXNSZXAsXG4gIHF1ZXN0aW9uUmVwOiBxdWVzdGlvblJlcFxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7O0FBRVosSUFBSUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzFCLElBQUlDLFFBQVEsR0FBR0QsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUVyQyxJQUFJRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUN4Q0csT0FBTyxHQUFHRCxRQUFRLENBQUNDLE9BQU87O0FBRTlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0EsU0FBU0MsSUFBSUEsQ0FBQ0MsQ0FBQyxFQUFFO0VBQ2YsSUFBSUMsT0FBTyxHQUFHLElBQUlMLFFBQVEsRUFBRTtFQUM1QixJQUFJTSxRQUFRLEdBQUcsSUFBSU4sUUFBUSxDQUFDO0lBQzFCTyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7RUFFRixPQUFPLElBQUlULEdBQUcsQ0FBQ08sT0FBTyxDQUFDRyxhQUFhLENBQUNKLENBQUMsRUFBRUUsUUFBUSxDQUFDLEVBQUVBLFFBQVEsQ0FBQztBQUM5RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0csQ0FBQ0EsQ0FBQSxFQUFHO0VBQ1gsT0FBT04sSUFBSSxDQUFDRCxPQUFPLENBQUM7QUFDdEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU1EsT0FBT0EsQ0FBQ0MsS0FBSyxFQUFFQyxNQUFNLEVBQUU7RUFDOUJELEtBQUssQ0FBQ0UsR0FBRyxDQUFDTixTQUFTLEdBQUcsS0FBSztFQUMzQkssTUFBTSxDQUFDQyxHQUFHLENBQUNOLFNBQVMsR0FBRyxJQUFJO0VBRTNCSSxLQUFLLENBQUNFLEdBQUcsQ0FBQ0wsYUFBYSxDQUFDTixPQUFPLEVBQUVVLE1BQU0sQ0FBQ0UsRUFBRSxDQUFDO0VBRTNDLE9BQU8sSUFBSWhCLEdBQUcsQ0FBQ2EsS0FBSyxDQUFDRyxFQUFFLEVBQUVGLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRSxHQUFHQSxDQUFDSixLQUFLLEVBQUU7RUFDbEIsS0FBSyxJQUFJSyxJQUFJLEdBQUdDLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFQyxTQUFTLEdBQUdDLEtBQUssQ0FBQ0osSUFBSSxHQUFHLENBQUMsR0FBR0EsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRUssSUFBSSxHQUFHLENBQUMsRUFBRUEsSUFBSSxHQUFHTCxJQUFJLEVBQUVLLElBQUksRUFBRSxFQUFFO0lBQzNHRixTQUFTLENBQUNFLElBQUksR0FBRyxDQUFDLENBQUMsR0FBR0osU0FBUyxDQUFDSSxJQUFJLENBQUM7RUFDdkM7RUFFQSxJQUFJQyx5QkFBeUIsR0FBRyxJQUFJO0VBQ3BDLElBQUlDLGlCQUFpQixHQUFHLEtBQUs7RUFDN0IsSUFBSUMsY0FBYyxHQUFHQyxTQUFTO0VBRTlCLElBQUk7SUFDRixLQUFLLElBQUlDLFNBQVMsR0FBR1AsU0FBUyxDQUFDUSxNQUFNLENBQUNDLFFBQVEsQ0FBQyxFQUFFLEVBQUVDLEtBQUssRUFBRSxFQUFFUCx5QkFBeUIsR0FBRyxDQUFDTyxLQUFLLEdBQUdILFNBQVMsQ0FBQ0ksSUFBSSxFQUFFLEVBQUVDLElBQUksQ0FBQyxFQUFFVCx5QkFBeUIsR0FBRyxJQUFJLEVBQUU7TUFDMUosSUFBSVUsUUFBUSxHQUFHSCxLQUFLLENBQUNJLEtBQUs7TUFFMUJ0QixLQUFLLEdBQUdELE9BQU8sQ0FBQ0MsS0FBSyxFQUFFcUIsUUFBUSxDQUFDO0lBQ2xDO0VBQ0YsQ0FBQyxDQUFDLE9BQU9FLEdBQUcsRUFBRTtJQUNaWCxpQkFBaUIsR0FBRyxJQUFJO0lBQ3hCQyxjQUFjLEdBQUdVLEdBQUc7RUFDdEIsQ0FBQyxTQUFTO0lBQ1IsSUFBSTtNQUNGLElBQUksQ0FBQ1oseUJBQXlCLElBQUlJLFNBQVMsQ0FBQ1MsTUFBTSxFQUFFO1FBQ2xEVCxTQUFTLENBQUNTLE1BQU0sRUFBRTtNQUNwQjtJQUNGLENBQUMsU0FBUztNQUNSLElBQUlaLGlCQUFpQixFQUFFO1FBQ3JCLE1BQU1DLGNBQWM7TUFDdEI7SUFDRjtFQUNGO0VBRUEsT0FBT2IsS0FBSztBQUNkOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBU3lCLE1BQU1BLENBQUN6QixLQUFLLEVBQUVDLE1BQU0sRUFBRTtFQUM3QixJQUFJUCxPQUFPLEdBQUcsSUFBSUwsUUFBUSxFQUFFO0VBQzVCLElBQUlNLFFBQVEsR0FBRyxJQUFJTixRQUFRLEVBQUU7RUFFN0JLLE9BQU8sQ0FBQ0csYUFBYSxDQUFDTixPQUFPLEVBQUVTLEtBQUssQ0FBQ0csRUFBRSxDQUFDO0VBQ3hDVCxPQUFPLENBQUNHLGFBQWEsQ0FBQ04sT0FBTyxFQUFFVSxNQUFNLENBQUNFLEVBQUUsQ0FBQztFQUV6Q1IsUUFBUSxDQUFDQyxTQUFTLEdBQUcsSUFBSTtFQUN6QkksS0FBSyxDQUFDRSxHQUFHLENBQUNOLFNBQVMsR0FBRyxLQUFLO0VBQzNCSyxNQUFNLENBQUNDLEdBQUcsQ0FBQ04sU0FBUyxHQUFHLEtBQUs7RUFFNUJJLEtBQUssQ0FBQ0UsR0FBRyxDQUFDTCxhQUFhLENBQUNOLE9BQU8sRUFBRUksUUFBUSxDQUFDO0VBQzFDTSxNQUFNLENBQUNDLEdBQUcsQ0FBQ0wsYUFBYSxDQUFDTixPQUFPLEVBQUVJLFFBQVEsQ0FBQztFQUUzQyxPQUFPLElBQUlSLEdBQUcsQ0FBQ08sT0FBTyxFQUFFQyxRQUFRLENBQUM7QUFDbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMrQixFQUFFQSxDQUFDMUIsS0FBSyxFQUFFO0VBQ2pCLEtBQUssSUFBSTJCLEtBQUssR0FBR3JCLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFQyxTQUFTLEdBQUdDLEtBQUssQ0FBQ2tCLEtBQUssR0FBRyxDQUFDLEdBQUdBLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUVDLEtBQUssR0FBRyxDQUFDLEVBQUVBLEtBQUssR0FBR0QsS0FBSyxFQUFFQyxLQUFLLEVBQUUsRUFBRTtJQUNsSHBCLFNBQVMsQ0FBQ29CLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBR3RCLFNBQVMsQ0FBQ3NCLEtBQUssQ0FBQztFQUN6QztFQUVBLElBQUlDLDBCQUEwQixHQUFHLElBQUk7RUFDckMsSUFBSUMsa0JBQWtCLEdBQUcsS0FBSztFQUM5QixJQUFJQyxlQUFlLEdBQUdqQixTQUFTO0VBRS9CLElBQUk7SUFDRixLQUFLLElBQUlrQixVQUFVLEdBQUd4QixTQUFTLENBQUNRLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDLEVBQUUsRUFBRWdCLE1BQU0sRUFBRSxFQUFFSiwwQkFBMEIsR0FBRyxDQUFDSSxNQUFNLEdBQUdELFVBQVUsQ0FBQ2IsSUFBSSxFQUFFLEVBQUVDLElBQUksQ0FBQyxFQUFFUywwQkFBMEIsR0FBRyxJQUFJLEVBQUU7TUFDaEssSUFBSVIsUUFBUSxHQUFHWSxNQUFNLENBQUNYLEtBQUs7TUFFM0J0QixLQUFLLEdBQUd5QixNQUFNLENBQUN6QixLQUFLLEVBQUVxQixRQUFRLENBQUM7SUFDakM7RUFDRixDQUFDLENBQUMsT0FBT0UsR0FBRyxFQUFFO0lBQ1pPLGtCQUFrQixHQUFHLElBQUk7SUFDekJDLGVBQWUsR0FBR1IsR0FBRztFQUN2QixDQUFDLFNBQVM7SUFDUixJQUFJO01BQ0YsSUFBSSxDQUFDTSwwQkFBMEIsSUFBSUcsVUFBVSxDQUFDUixNQUFNLEVBQUU7UUFDcERRLFVBQVUsQ0FBQ1IsTUFBTSxFQUFFO01BQ3JCO0lBQ0YsQ0FBQyxTQUFTO01BQ1IsSUFBSU0sa0JBQWtCLEVBQUU7UUFDdEIsTUFBTUMsZUFBZTtNQUN2QjtJQUNGO0VBQ0Y7RUFFQSxPQUFPL0IsS0FBSztBQUNkOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNrQyxXQUFXQSxDQUFDYixRQUFRLEVBQUU7RUFDN0IsSUFBSTNCLE9BQU8sR0FBRyxJQUFJTCxRQUFRLEVBQUU7RUFDNUIsSUFBSU0sUUFBUSxHQUFHLElBQUlOLFFBQVEsQ0FBQztJQUMxQk8sU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDOztFQUVGO0VBQ0FGLE9BQU8sQ0FBQ0csYUFBYSxDQUFDTixPQUFPLEVBQUU4QixRQUFRLENBQUNsQixFQUFFLENBQUM7RUFDM0NULE9BQU8sQ0FBQ0csYUFBYSxDQUFDTixPQUFPLEVBQUVJLFFBQVEsQ0FBQztFQUV4QzBCLFFBQVEsQ0FBQ25CLEdBQUcsQ0FBQ04sU0FBUyxHQUFHLEtBQUs7RUFDOUJ5QixRQUFRLENBQUNuQixHQUFHLENBQUNMLGFBQWEsQ0FBQ04sT0FBTyxFQUFFSSxRQUFRLENBQUM7RUFDN0NBLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDTixPQUFPLEVBQUU4QixRQUFRLENBQUNsQixFQUFFLENBQUM7RUFFNUMsT0FBTyxJQUFJaEIsR0FBRyxDQUFDTyxPQUFPLEVBQUVDLFFBQVEsQ0FBQztBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVN3QyxHQUFHQSxDQUFDZCxRQUFRLEVBQUU7RUFDckJBLFFBQVEsQ0FBQ2xCLEVBQUUsQ0FBQ04sYUFBYSxDQUFDTixPQUFPLEVBQUU4QixRQUFRLENBQUNuQixHQUFHLENBQUM7RUFDaERtQixRQUFRLENBQUNuQixHQUFHLENBQUNMLGFBQWEsQ0FBQ04sT0FBTyxFQUFFOEIsUUFBUSxDQUFDbEIsRUFBRSxDQUFDO0VBQ2hELE9BQU9rQixRQUFRO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU2UsT0FBT0EsQ0FBQ2YsUUFBUSxFQUFFO0VBQ3pCQSxRQUFRLENBQUNuQixHQUFHLENBQUNMLGFBQWEsQ0FBQ04sT0FBTyxFQUFFOEIsUUFBUSxDQUFDbEIsRUFBRSxDQUFDO0VBQ2hELE9BQU9rQixRQUFRO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU2dCLFdBQVdBLENBQUNoQixRQUFRLEVBQUU7RUFDN0JBLFFBQVEsQ0FBQ2xCLEVBQUUsQ0FBQ04sYUFBYSxDQUFDTixPQUFPLEVBQUU4QixRQUFRLENBQUNuQixHQUFHLENBQUM7RUFDaEQsT0FBT21CLFFBQVE7QUFDakI7QUFFQWlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZuQyxHQUFHLEVBQUVBLEdBQUc7RUFDUlosSUFBSSxFQUFFQSxJQUFJO0VBQ1ZNLENBQUMsRUFBRUEsQ0FBQztFQUNKNEIsRUFBRSxFQUFFQSxFQUFFO0VBQ05TLEdBQUcsRUFBRUEsR0FBRztFQUNSRCxXQUFXLEVBQUVBLFdBQVc7RUFDeEJFLE9BQU8sRUFBRUEsT0FBTztFQUNoQkMsV0FBVyxFQUFFQTtBQUNmLENBQUMifQ==