{"version":3,"names":["runtime_1","__importDefault","require","coordinator_1","makeRuntime","cwd","logger","eventBroadcaster","eventDataCollector","pickleIds","newId","supportCodeLibrary","requireModules","requirePaths","importPaths","options","parallel","default","numberOfWorkers","exports"],"sources":["../../src/api/runtime.ts"],"sourcesContent":["import Runtime, { IRuntime } from '../runtime'\nimport { EventEmitter } from 'events'\nimport { EventDataCollector } from '../formatter/helpers'\nimport { IdGenerator } from '@cucumber/messages'\nimport { ISupportCodeLibrary } from '../support_code_library_builder/types'\nimport Coordinator from '../runtime/parallel/coordinator'\nimport { IRunOptionsRuntime } from './types'\nimport { ILogger } from '../logger'\n\nexport function makeRuntime({\n  cwd,\n  logger,\n  eventBroadcaster,\n  eventDataCollector,\n  pickleIds,\n  newId,\n  supportCodeLibrary,\n  requireModules,\n  requirePaths,\n  importPaths,\n  options: { parallel, ...options },\n}: {\n  cwd: string\n  logger: ILogger\n  eventBroadcaster: EventEmitter\n  eventDataCollector: EventDataCollector\n  newId: IdGenerator.NewId\n  pickleIds: string[]\n  supportCodeLibrary: ISupportCodeLibrary\n  requireModules: string[]\n  requirePaths: string[]\n  importPaths: string[]\n  options: IRunOptionsRuntime\n}): IRuntime {\n  if (parallel > 0) {\n    return new Coordinator({\n      cwd,\n      logger,\n      eventBroadcaster,\n      eventDataCollector,\n      pickleIds,\n      options,\n      newId,\n      supportCodeLibrary,\n      requireModules,\n      requirePaths,\n      importPaths,\n      numberOfWorkers: parallel,\n    })\n  }\n  return new Runtime({\n    eventBroadcaster,\n    eventDataCollector,\n    newId,\n    pickleIds,\n    supportCodeLibrary,\n    options,\n  })\n}\n"],"mappings":";;;;;;;;;;;AAAA,MAAAA,SAAA,GAAAC,eAAA,CAAAC,OAAA;AAKA,MAAAC,aAAA,GAAAF,eAAA,CAAAC,OAAA;AAIA,SAAgBE,WAAWA,CAAC;EAC1BC,GAAG;EACHC,MAAM;EACNC,gBAAgB;EAChBC,kBAAkB;EAClBC,SAAS;EACTC,KAAK;EACLC,kBAAkB;EAClBC,cAAc;EACdC,YAAY;EACZC,WAAW;EACXC,OAAO,EAAE;IAAEC,QAAQ;IAAE,GAAGD;EAAO;AAAE,CAalC;EACC,IAAIC,QAAQ,GAAG,CAAC,EAAE;IAChB,OAAO,IAAIb,aAAA,CAAAc,OAAW,CAAC;MACrBZ,GAAG;MACHC,MAAM;MACNC,gBAAgB;MAChBC,kBAAkB;MAClBC,SAAS;MACTM,OAAO;MACPL,KAAK;MACLC,kBAAkB;MAClBC,cAAc;MACdC,YAAY;MACZC,WAAW;MACXI,eAAe,EAAEF;KAClB,CAAC;;EAEJ,OAAO,IAAIhB,SAAA,CAAAiB,OAAO,CAAC;IACjBV,gBAAgB;IAChBC,kBAAkB;IAClBE,KAAK;IACLD,SAAS;IACTE,kBAAkB;IAClBI;GACD,CAAC;AACJ;AAjDAI,OAAA,CAAAf,WAAA,GAAAA,WAAA"}