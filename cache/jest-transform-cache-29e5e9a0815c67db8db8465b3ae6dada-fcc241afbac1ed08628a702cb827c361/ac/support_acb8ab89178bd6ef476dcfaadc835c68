d74d3d8e2d4b01994cd6de01f04dcd77
"use strict";

var __importDefault = void 0 && (void 0).__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSupportCodeLibrary = void 0;
const support_code_library_builder_1 = __importDefault(require("../support_code_library_builder"));
const url_1 = require("url");
// eslint-disable-next-line @typescript-eslint/no-var-requires
const {
  importer
} = require('../importer');
async function getSupportCodeLibrary({
  cwd,
  newId,
  requireModules,
  requirePaths,
  importPaths
}) {
  support_code_library_builder_1.default.reset(cwd, newId, {
    requireModules,
    requirePaths,
    importPaths
  });
  requireModules.map(module => require(module));
  requirePaths.map(path => require(path));
  for (const path of importPaths) {
    await importer((0, url_1.pathToFileURL)(path));
  }
  return support_code_library_builder_1.default.finalize();
}
exports.getSupportCodeLibrary = getSupportCodeLibrary;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdXBwb3J0X2NvZGVfbGlicmFyeV9idWlsZGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwidXJsXzEiLCJpbXBvcnRlciIsImdldFN1cHBvcnRDb2RlTGlicmFyeSIsImN3ZCIsIm5ld0lkIiwicmVxdWlyZU1vZHVsZXMiLCJyZXF1aXJlUGF0aHMiLCJpbXBvcnRQYXRocyIsImRlZmF1bHQiLCJyZXNldCIsIm1hcCIsIm1vZHVsZSIsInBhdGgiLCJwYXRoVG9GaWxlVVJMIiwiZmluYWxpemUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwaS9zdXBwb3J0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElkR2VuZXJhdG9yIH0gZnJvbSAnQGN1Y3VtYmVyL21lc3NhZ2VzJ1xuaW1wb3J0IHsgSVN1cHBvcnRDb2RlTGlicmFyeSB9IGZyb20gJy4uL3N1cHBvcnRfY29kZV9saWJyYXJ5X2J1aWxkZXIvdHlwZXMnXG5pbXBvcnQgc3VwcG9ydENvZGVMaWJyYXJ5QnVpbGRlciBmcm9tICcuLi9zdXBwb3J0X2NvZGVfbGlicmFyeV9idWlsZGVyJ1xuaW1wb3J0IHsgcGF0aFRvRmlsZVVSTCB9IGZyb20gJ3VybCdcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbmNvbnN0IHsgaW1wb3J0ZXIgfSA9IHJlcXVpcmUoJy4uL2ltcG9ydGVyJylcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1cHBvcnRDb2RlTGlicmFyeSh7XG4gIGN3ZCxcbiAgbmV3SWQsXG4gIHJlcXVpcmVNb2R1bGVzLFxuICByZXF1aXJlUGF0aHMsXG4gIGltcG9ydFBhdGhzLFxufToge1xuICBjd2Q6IHN0cmluZ1xuICBuZXdJZDogSWRHZW5lcmF0b3IuTmV3SWRcbiAgcmVxdWlyZU1vZHVsZXM6IHN0cmluZ1tdXG4gIHJlcXVpcmVQYXRoczogc3RyaW5nW11cbiAgaW1wb3J0UGF0aHM6IHN0cmluZ1tdXG59KTogUHJvbWlzZTxJU3VwcG9ydENvZGVMaWJyYXJ5PiB7XG4gIHN1cHBvcnRDb2RlTGlicmFyeUJ1aWxkZXIucmVzZXQoY3dkLCBuZXdJZCwge1xuICAgIHJlcXVpcmVNb2R1bGVzLFxuICAgIHJlcXVpcmVQYXRocyxcbiAgICBpbXBvcnRQYXRocyxcbiAgfSlcbiAgcmVxdWlyZU1vZHVsZXMubWFwKChtb2R1bGUpID0+IHJlcXVpcmUobW9kdWxlKSlcbiAgcmVxdWlyZVBhdGhzLm1hcCgocGF0aCkgPT4gcmVxdWlyZShwYXRoKSlcbiAgZm9yIChjb25zdCBwYXRoIG9mIGltcG9ydFBhdGhzKSB7XG4gICAgYXdhaXQgaW1wb3J0ZXIocGF0aFRvRmlsZVVSTChwYXRoKSlcbiAgfVxuICByZXR1cm4gc3VwcG9ydENvZGVMaWJyYXJ5QnVpbGRlci5maW5hbGl6ZSgpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRUEsTUFBQUEsOEJBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBRUE7QUFDQSxNQUFNO0VBQUVFO0FBQVEsQ0FBRSxHQUFHRixPQUFPLENBQUMsYUFBYSxDQUFDO0FBRXBDLGVBQWVHLHFCQUFxQkEsQ0FBQztFQUMxQ0MsR0FBRztFQUNIQyxLQUFLO0VBQ0xDLGNBQWM7RUFDZEMsWUFBWTtFQUNaQztBQUFXLENBT1o7RUFDQ1YsOEJBQUEsQ0FBQVcsT0FBeUIsQ0FBQ0MsS0FBSyxDQUFDTixHQUFHLEVBQUVDLEtBQUssRUFBRTtJQUMxQ0MsY0FBYztJQUNkQyxZQUFZO0lBQ1pDO0dBQ0QsQ0FBQztFQUNGRixjQUFjLENBQUNLLEdBQUcsQ0FBRUMsTUFBTSxJQUFLWixPQUFPLENBQUNZLE1BQU0sQ0FBQyxDQUFDO0VBQy9DTCxZQUFZLENBQUNJLEdBQUcsQ0FBRUUsSUFBSSxJQUFLYixPQUFPLENBQUNhLElBQUksQ0FBQyxDQUFDO0VBQ3pDLEtBQUssTUFBTUEsSUFBSSxJQUFJTCxXQUFXLEVBQUU7SUFDOUIsTUFBTU4sUUFBUSxDQUFDLElBQUFELEtBQUEsQ0FBQWEsYUFBYSxFQUFDRCxJQUFJLENBQUMsQ0FBQzs7RUFFckMsT0FBT2YsOEJBQUEsQ0FBQVcsT0FBeUIsQ0FBQ00sUUFBUSxFQUFFO0FBQzdDO0FBeEJBQyxPQUFBLENBQUFiLHFCQUFBLEdBQUFBLHFCQUFBIn0=