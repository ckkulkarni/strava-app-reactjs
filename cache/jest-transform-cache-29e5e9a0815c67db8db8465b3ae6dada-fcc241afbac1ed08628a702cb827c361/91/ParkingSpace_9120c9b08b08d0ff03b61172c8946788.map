{"version":3,"names":["_react","_interopRequireWildcard","require","_reactRedux","_reactRouterDom","_parkingSlice","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ParkingSpace","dispatch","useDispatch","navigation","useNavigate","displayForm","setDisplayForm","useState","registration","setReg","parkingTime","setTime","selectedSpace","setSelected","activatePayment","setActivation","numspaces","useSelector","state","parkingSpaces","numSpaces","spaces","displaySpaces","setDisplay","renderSpaces","i","push","useEffect","handleIncrement","addToParkingSpace","handleDecrement","removeParkingSpace","handlePaymentScreen","space","spaceDetails","handleSpaceClick","handleRegistration","event","target","value","handleTimeChange","handleSubmit","preventDefault","occupyParkingLots","spaceNum","handleRegisterClick","createElement","className","style","marginRight","marginLeft","onClick","disabled","Link","to","map","onSubmit","color","type","onChange","placeholder","length","marginTop","_default","exports"],"sources":["ParkingSpace.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  addToParkingSpace,\r\n  removeParkingSpace,\r\n  occupyParkingLots,\r\n} from \"./redux/reducer/parkingSlice\";\r\nconst ParkingSpace = () => {\r\n  const dispatch = useDispatch();\r\n  const navigation = useNavigate();\r\n  const [displayForm, setDisplayForm] = useState<boolean>(false);\r\n  const [registration, setReg] = useState<string>(\"\");\r\n  const [parkingTime, setTime] = useState<string>(\"\");\r\n  const [selectedSpace, setSelected] = useState<number>(0);\r\n  const [activatePayment, setActivation] = useState<boolean>(false);\r\n  const numspaces = useSelector((state: any) => state.parkingSpaces.numSpaces);\r\n  const spaces = useSelector((state: any) => state.parkingSpaces.spaces);\r\n  const [displaySpaces, setDisplay] = useState(() => {\r\n    const renderSpaces = [];\r\n    for (let i = 1; i <= numspaces; i++) {\r\n      renderSpaces.push(i);\r\n    }\r\n    return renderSpaces;\r\n  });\r\n  useEffect(() => {\r\n    const renderSpaces = [];\r\n    for (let i = 1; i <= numspaces; i++) {\r\n      renderSpaces.push(i);\r\n    }\r\n    setDisplay(renderSpaces);\r\n  }, [numspaces]);\r\n  const handleIncrement = () => {\r\n    dispatch(addToParkingSpace());\r\n  };\r\n  const handleDecrement = () => {\r\n    dispatch(removeParkingSpace());\r\n  };\r\n  const handlePaymentScreen = (space: number) => {\r\n    navigation(\"/payment\", { state: { spaceDetails: spaces[space], space } });\r\n  };\r\n  const handleSpaceClick = (space: number) => {\r\n    if (spaces[space]) {\r\n      setActivation(true);\r\n    }\r\n    setSelected(space);\r\n  };\r\n  const handleRegistration = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setReg(event.target.value);\r\n  };\r\n  const handleTimeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTime(event.target.value);\r\n  };\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    dispatch(\r\n      occupyParkingLots({\r\n        spaceNum: selectedSpace,\r\n        registration: registration,\r\n        parkingTime: parkingTime,\r\n      })\r\n    );\r\n    setSelected(0);\r\n    setReg(\"\");\r\n    setTime(\"\");\r\n  };\r\n  const handleRegisterClick = () => {\r\n    setDisplayForm(true);\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"buttonsContainer\">\r\n        <button\r\n          style={{ marginRight: 10, marginLeft: 10 }}\r\n          onClick={handleIncrement}\r\n          data-testid=\"addSpace\"\r\n        >\r\n          Add Space\r\n        </button>\r\n        <button\r\n          style={{ marginRight: 10, marginLeft: 10 }}\r\n          onClick={handleDecrement}\r\n          disabled={numspaces <= 1}\r\n          data-testid=\"decreaseSpace\"\r\n        >\r\n          Remove Space\r\n        </button>\r\n        <Link to=\"/\">\r\n          <button style={{ marginRight: 10, marginLeft: 10 }}>\r\n            Input Again?\r\n          </button>\r\n        </Link>\r\n        <button\r\n          style={{ marginRight: 10, marginLeft: 10 }}\r\n          onClick={handleRegisterClick}\r\n          disabled={selectedSpace <= 0}\r\n        >\r\n          {selectedSpace > 0 ? `Register Lot ${selectedSpace}` : \"Register Lot\"}\r\n        </button>\r\n        <button\r\n          style={{ marginRight: 10, marginLeft: 10 }}\r\n          onClick={() => handlePaymentScreen(selectedSpace)}\r\n          disabled={!spaces[selectedSpace]}\r\n        >\r\n          {!spaces[selectedSpace]\r\n            ? `Make Payment`\r\n            : `Make Payment For Lot ${selectedSpace}`}\r\n        </button>\r\n      </div>\r\n      <div className=\"spacesContainer\">\r\n        {displaySpaces.map((space) => (\r\n          <div\r\n            data-testid=\"space\"\r\n            key={space}\r\n            className={`spaceNumber ${\r\n              selectedSpace === space ? \"selected\" : \"\"\r\n            }`}\r\n            onClick={() => handleSpaceClick(space)}\r\n          >\r\n            {space}\r\n            {spaces[space] && (\r\n              <div className=\"spaceDetails\">\r\n                <p>Registration: {spaces[space].registration}</p>\r\n                <p>Parking Time: {spaces[space].parkingTime}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {displayForm && (\r\n        <div className=\"formContainer\">\r\n          <form onSubmit={handleSubmit} data-testid=\"registerForm\">\r\n            <label style={{ color: \"white\" }}>\r\n              Registration for lot {selectedSpace}\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleRegistration}\r\n              placeholder=\"Enter Registration\"\r\n            />\r\n            <br />\r\n            <label style={{ color: \"white\" }}>Parking Time: </label>\r\n            <input\r\n              type=\"time\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Time\"\r\n              onChange={handleTimeChange}\r\n            />\r\n            <br />\r\n            <button type=\"submit\" disabled={registration.length < 1}>\r\n              Submit\r\n            </button>\r\n            <button\r\n              style={{ marginTop: 10 }}\r\n              onClick={() => setDisplayForm(false)}\r\n            >\r\n              Close\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParkingSpace;\r\n"],"mappings":"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"}