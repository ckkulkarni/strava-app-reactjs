f22d1d846f91b187d4bcb2dc0ccd3bcb
"use strict";

// Generated by CoffeeScript 2.4.1
(function () {
  var NodeType, XMLAttribute, XMLNode;
  NodeType = require('./NodeType');
  XMLNode = require('./XMLNode');

  // Represents an attribute
  module.exports = XMLAttribute = function () {
    class XMLAttribute {
      // Initializes a new instance of `XMLAttribute`

      // `parent` the parent node
      // `name` attribute target
      // `value` attribute value
      constructor(parent, name, value) {
        this.parent = parent;
        if (this.parent) {
          this.options = this.parent.options;
          this.stringify = this.parent.stringify;
        }
        if (name == null) {
          throw new Error("Missing attribute name. " + this.debugInfo(name));
        }
        this.name = this.stringify.name(name);
        this.value = this.stringify.attValue(value);
        this.type = NodeType.Attribute;
        // DOM level 3
        this.isId = false;
        this.schemaTypeInfo = null;
      }

      // Creates and returns a deep clone of `this`
      clone() {
        return Object.create(this);
      }

      // Converts the XML fragment to string

      // `options.pretty` pretty prints the result
      // `options.indent` indentation for pretty print
      // `options.offset` how many indentations to add to every line for pretty print
      // `options.newline` newline sequence for pretty print
      toString(options) {
        return this.options.writer.attribute(this, this.options.writer.filterOptions(options));
      }

      // Returns debug string for this node
      debugInfo(name) {
        name = name || this.name;
        if (name == null) {
          return "parent: <" + this.parent.name + ">";
        } else {
          return "attribute: {" + name + "}, parent: <" + this.parent.name + ">";
        }
      }
      isEqualNode(node) {
        if (node.namespaceURI !== this.namespaceURI) {
          return false;
        }
        if (node.prefix !== this.prefix) {
          return false;
        }
        if (node.localName !== this.localName) {
          return false;
        }
        if (node.value !== this.value) {
          return false;
        }
        return true;
      }
    }
    ;

    // DOM level 1
    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {
      get: function () {
        return this.type;
      }
    });
    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {
      get: function () {
        return this.parent;
      }
    });

    // DOM level 3
    Object.defineProperty(XMLAttribute.prototype, 'textContent', {
      get: function () {
        return this.value;
      },
      set: function (value) {
        return this.value = value || '';
      }
    });

    // DOM level 4
    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {
      get: function () {
        return '';
      }
    });
    Object.defineProperty(XMLAttribute.prototype, 'prefix', {
      get: function () {
        return '';
      }
    });
    Object.defineProperty(XMLAttribute.prototype, 'localName', {
      get: function () {
        return this.name;
      }
    });
    Object.defineProperty(XMLAttribute.prototype, 'specified', {
      get: function () {
        return true;
      }
    });
    return XMLAttribute;
  }.call(this);
}).call(void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOb2RlVHlwZSIsIlhNTEF0dHJpYnV0ZSIsIlhNTE5vZGUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbnN0cnVjdG9yIiwicGFyZW50IiwibmFtZSIsInZhbHVlIiwib3B0aW9ucyIsInN0cmluZ2lmeSIsIkVycm9yIiwiZGVidWdJbmZvIiwiYXR0VmFsdWUiLCJ0eXBlIiwiQXR0cmlidXRlIiwiaXNJZCIsInNjaGVtYVR5cGVJbmZvIiwiY2xvbmUiLCJPYmplY3QiLCJjcmVhdGUiLCJ0b1N0cmluZyIsIndyaXRlciIsImF0dHJpYnV0ZSIsImZpbHRlck9wdGlvbnMiLCJpc0VxdWFsTm9kZSIsIm5vZGUiLCJuYW1lc3BhY2VVUkkiLCJwcmVmaXgiLCJsb2NhbE5hbWUiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvdHlwZSIsImdldCIsInNldCIsImNhbGwiXSwic291cmNlcyI6WyJYTUxBdHRyaWJ1dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAyLjQuMVxuKGZ1bmN0aW9uKCkge1xuICB2YXIgTm9kZVR5cGUsIFhNTEF0dHJpYnV0ZSwgWE1MTm9kZTtcblxuICBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vTm9kZVR5cGUnKTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgLy8gUmVwcmVzZW50cyBhbiBhdHRyaWJ1dGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxBdHRyaWJ1dGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgY2xhc3MgWE1MQXR0cmlidXRlIHtcbiAgICAgIC8vIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIGBYTUxBdHRyaWJ1dGVgXG5cbiAgICAgIC8vIGBwYXJlbnRgIHRoZSBwYXJlbnQgbm9kZVxuICAgICAgLy8gYG5hbWVgIGF0dHJpYnV0ZSB0YXJnZXRcbiAgICAgIC8vIGB2YWx1ZWAgYXR0cmlidXRlIHZhbHVlXG4gICAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLnBhcmVudC5vcHRpb25zO1xuICAgICAgICAgIHRoaXMuc3RyaW5naWZ5ID0gdGhpcy5wYXJlbnQuc3RyaW5naWZ5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSBuYW1lLiBcIiArIHRoaXMuZGVidWdJbmZvKG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5uYW1lKG5hbWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuYXR0VmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnR5cGUgPSBOb2RlVHlwZS5BdHRyaWJ1dGU7XG4gICAgICAgIC8vIERPTSBsZXZlbCAzXG4gICAgICAgIHRoaXMuaXNJZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjaGVtYVR5cGVJbmZvID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGRlZXAgY2xvbmUgb2YgYHRoaXNgXG4gICAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnRzIHRoZSBYTUwgZnJhZ21lbnQgdG8gc3RyaW5nXG5cbiAgICAgIC8vIGBvcHRpb25zLnByZXR0eWAgcHJldHR5IHByaW50cyB0aGUgcmVzdWx0XG4gICAgICAvLyBgb3B0aW9ucy5pbmRlbnRgIGluZGVudGF0aW9uIGZvciBwcmV0dHkgcHJpbnRcbiAgICAgIC8vIGBvcHRpb25zLm9mZnNldGAgaG93IG1hbnkgaW5kZW50YXRpb25zIHRvIGFkZCB0byBldmVyeSBsaW5lIGZvciBwcmV0dHkgcHJpbnRcbiAgICAgIC8vIGBvcHRpb25zLm5ld2xpbmVgIG5ld2xpbmUgc2VxdWVuY2UgZm9yIHByZXR0eSBwcmludFxuICAgICAgdG9TdHJpbmcob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5hdHRyaWJ1dGUodGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgXG4gICAgICAvLyBSZXR1cm5zIGRlYnVnIHN0cmluZyBmb3IgdGhpcyBub2RlXG4gICAgICBkZWJ1Z0luZm8obmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZSB8fCB0aGlzLm5hbWU7XG4gICAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gXCJwYXJlbnQ6IDxcIiArIHRoaXMucGFyZW50Lm5hbWUgKyBcIj5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gXCJhdHRyaWJ1dGU6IHtcIiArIG5hbWUgKyBcIn0sIHBhcmVudDogPFwiICsgdGhpcy5wYXJlbnQubmFtZSArIFwiPlwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlzRXF1YWxOb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubmFtZXNwYWNlVVJJICE9PSB0aGlzLm5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5wcmVmaXggIT09IHRoaXMucHJlZml4KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSAhPT0gdGhpcy5sb2NhbE5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUudmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgLy8gRE9NIGxldmVsIDFcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQXR0cmlidXRlLnByb3RvdHlwZSwgJ25vZGVUeXBlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxBdHRyaWJ1dGUucHJvdG90eXBlLCAnb3duZXJFbGVtZW50Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRE9NIGxldmVsIDNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQXR0cmlidXRlLnByb3RvdHlwZSwgJ3RleHRDb250ZW50Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRE9NIGxldmVsIDRcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQXR0cmlidXRlLnByb3RvdHlwZSwgJ25hbWVzcGFjZVVSSScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxBdHRyaWJ1dGUucHJvdG90eXBlLCAncHJlZml4Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTEF0dHJpYnV0ZS5wcm90b3R5cGUsICdsb2NhbE5hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTEF0dHJpYnV0ZS5wcm90b3R5cGUsICdzcGVjaWZpZWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBYTUxBdHRyaWJ1dGU7XG5cbiAgfSkuY2FsbCh0aGlzKTtcblxufSkuY2FsbCh0aGlzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBLENBQUMsWUFBVztFQUNWLElBQUlBLFFBQVEsRUFBRUMsWUFBWSxFQUFFQyxPQUFPO0VBRW5DRixRQUFRLEdBQUdHLE9BQU8sQ0FBQyxZQUFZLENBQUM7RUFFaENELE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQzs7RUFFOUI7RUFDQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdKLFlBQVksR0FBSSxZQUFXO0lBQzFDLE1BQU1BLFlBQVksQ0FBQztNQUNqQjs7TUFFQTtNQUNBO01BQ0E7TUFDQUssV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRTtRQUMvQixJQUFJLENBQUNGLE1BQU0sR0FBR0EsTUFBTTtRQUNwQixJQUFJLElBQUksQ0FBQ0EsTUFBTSxFQUFFO1VBQ2YsSUFBSSxDQUFDRyxPQUFPLEdBQUcsSUFBSSxDQUFDSCxNQUFNLENBQUNHLE9BQU87VUFDbEMsSUFBSSxDQUFDQyxTQUFTLEdBQUcsSUFBSSxDQUFDSixNQUFNLENBQUNJLFNBQVM7UUFDeEM7UUFDQSxJQUFJSCxJQUFJLElBQUksSUFBSSxFQUFFO1VBQ2hCLE1BQU0sSUFBSUksS0FBSyxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQ0MsU0FBUyxDQUFDTCxJQUFJLENBQUMsQ0FBQztRQUNwRTtR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