4ab5163e8fab213ae20e54f83f50404a
/**
 * The MIT License (MIT)
 * Copyright (c) 2017-present Dmitry Soshnikov <dmitry.soshnikov@gmail.com>
 */

'use strict';

/**
 * A regexp-tree plugin to transform surrogate pairs into single unicode code point
 *
 * \ud83d\ude80 -> \u{1f680}
 */
module.exports = {
  shouldRun: function shouldRun(ast) {
    return ast.flags.includes('u');
  },
  Char: function Char(path) {
    var node = path.node;
    if (node.kind !== 'unicode' || !node.isSurrogatePair || isNaN(node.codePoint)) {
      return;
    }
    node.value = '\\u{' + node.codePoint.toString(16) + '}';
    delete node.isSurrogatePair;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2hvdWxkUnVuIiwiYXN0IiwiZmxhZ3MiLCJpbmNsdWRlcyIsIkNoYXIiLCJwYXRoIiwibm9kZSIsImtpbmQiLCJpc1N1cnJvZ2F0ZVBhaXIiLCJpc05hTiIsImNvZGVQb2ludCIsInZhbHVlIiwidG9TdHJpbmciXSwic291cmNlcyI6WyJjaGFyLXN1cnJvZ2F0ZS1wYWlyLXRvLXNpbmdsZS11bmljb2RlLXRyYW5zZm9ybS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQgRG1pdHJ5IFNvc2huaWtvdiA8ZG1pdHJ5LnNvc2huaWtvdkBnbWFpbC5jb20+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgcmVnZXhwLXRyZWUgcGx1Z2luIHRvIHRyYW5zZm9ybSBzdXJyb2dhdGUgcGFpcnMgaW50byBzaW5nbGUgdW5pY29kZSBjb2RlIHBvaW50XG4gKlxuICogXFx1ZDgzZFxcdWRlODAgLT4gXFx1ezFmNjgwfVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzaG91bGRSdW46IGZ1bmN0aW9uIHNob3VsZFJ1bihhc3QpIHtcbiAgICByZXR1cm4gYXN0LmZsYWdzLmluY2x1ZGVzKCd1Jyk7XG4gIH0sXG4gIENoYXI6IGZ1bmN0aW9uIENoYXIocGF0aCkge1xuICAgIHZhciBub2RlID0gcGF0aC5ub2RlO1xuXG4gICAgaWYgKG5vZGUua2luZCAhPT0gJ3VuaWNvZGUnIHx8ICFub2RlLmlzU3Vycm9nYXRlUGFpciB8fCBpc05hTihub2RlLmNvZGVQb2ludCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbm9kZS52YWx1ZSA9ICdcXFxcdXsnICsgbm9kZS5jb2RlUG9pbnQudG9TdHJpbmcoMTYpICsgJ30nO1xuICAgIGRlbGV0ZSBub2RlLmlzU3Vycm9nYXRlUGFpcjtcbiAgfVxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBQSxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmQyxTQUFTLEVBQUUsU0FBU0EsU0FBU0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2pDLE9BQU9BLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDQyxRQUFRLENBQUMsR0FBRyxDQUFDO0VBQ2hDLENBQUM7RUFDREMsSUFBSSxFQUFFLFNBQVNBLElBQUlBLENBQUNDLElBQUksRUFBRTtJQUN4QixJQUFJQyxJQUFJLEdBQUdELElBQUksQ0FBQ0MsSUFBSTtJQUVwQixJQUFJQSxJQUFJLENBQUNDLElBQUksS0FBSyxTQUFTLElBQUksQ0FBQ0QsSUFBSSxDQUFDRSxlQUFlLElBQUlDLEtBQUssQ0FBQ0gsSUFBSSxDQUFDSSxTQUFTLENBQUMsRUFBRTtNQUM3RTtJQUNGO0lBQ0FKLElBQUksQ0FBQ0ssS0FBSyxHQUFHLE1BQU0sR0FBR0wsSUFBSSxDQUFDSSxTQUFTLENBQUNFLFFBQVEsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHO0lBQ3ZELE9BQU9OLElBQUksQ0FBQ0UsZUFBZTtFQUM3QjtBQUNGLENBQUMifQ==