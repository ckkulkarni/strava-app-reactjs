{"version":3,"names":["Node","require","Pair","YAMLMap","createMap","schema","obj","ctx","keepUndefined","replacer","map","add","key","value","call","Array","isArray","includes","undefined","items","push","createPair","Map","Object","keys","sortMapEntries","sort","collection","createNode","default","nodeClass","tag","resolve","onError","isMap","exports"],"sources":["map.js"],"sourcesContent":["'use strict';\n\nvar Node = require('../../nodes/Node.js');\nvar Pair = require('../../nodes/Pair.js');\nvar YAMLMap = require('../../nodes/YAMLMap.js');\n\nfunction createMap(schema, obj, ctx) {\n    const { keepUndefined, replacer } = ctx;\n    const map = new YAMLMap.YAMLMap(schema);\n    const add = (key, value) => {\n        if (typeof replacer === 'function')\n            value = replacer.call(obj, key, value);\n        else if (Array.isArray(replacer) && !replacer.includes(key))\n            return;\n        if (value !== undefined || keepUndefined)\n            map.items.push(Pair.createPair(key, value, ctx));\n    };\n    if (obj instanceof Map) {\n        for (const [key, value] of obj)\n            add(key, value);\n    }\n    else if (obj && typeof obj === 'object') {\n        for (const key of Object.keys(obj))\n            add(key, obj[key]);\n    }\n    if (typeof schema.sortMapEntries === 'function') {\n        map.items.sort(schema.sortMapEntries);\n    }\n    return map;\n}\nconst map = {\n    collection: 'map',\n    createNode: createMap,\n    default: true,\n    nodeClass: YAMLMap.YAMLMap,\n    tag: 'tag:yaml.org,2002:map',\n    resolve(map, onError) {\n        if (!Node.isMap(map))\n            onError('Expected a mapping for this tag');\n        return map;\n    }\n};\n\nexports.map = map;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,IAAI,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACzC,IAAIC,IAAI,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AACzC,IAAIE,OAAO,GAAGF,OAAO,CAAC,wBAAwB,CAAC;AAE/C,SAASG,SAASA,CAACC,MAAM,EAAEC,GAAG,EAAEC,GAAG,EAAE;EACjC,MAAM;IAAEC,aAAa;IAAEC;EAAS,CAAC,GAAGF,GAAG;EACvC,MAAMG,GAAG,GAAG,IAAIP,OAAO,CAACA,OAAO,CAACE,MAAM,CAAC;EACvC,MAAMM,GAAG,GAAGA,CAACC,GAAG,EAAEC,KAAK,KAAK;IACxB,IAAI,OAAOJ,QAAQ,KAAK,UAAU,EAC9BI,KAAK,GAAGJ,QAAQ,CAACK,IAAI,CAACR,GAAG,EAAEM,GAAG,EAAEC,KAAK,CAAC,CAAC,KACtC,IAAIE,KAAK,CAACC,OAAO,CAACP,QAAQ,CAAC,IAAI,CAACA,QAAQ,CAACQ,QAAQ,CAACL,GAAG,CAAC,EACvD;IACJ,IAAIC,KAAK,KAAKK,SAAS,IAAIV,aAAa,EACpCE,GAAG,CAACS,KAAK,CAACC,IAAI,CAAClB,IAAI,CAACmB,UAAU,CAACT,GAAG,EAAEC,KAAK,EAAEN,GAAG,CAAC,CAAC;EACxD,CAAC;EACD,IAAID,GAAG,YAAYgB,GAAG,EAAE;IACpB,KAAK,MAAM,CAACV,GAAG,EAAEC,KAAK,CAAC,IAAIP,GAAG,EAC1BK,GAAG,CAACC,GAAG,EAAEC,KAAK,CAAC;EACvB,CAAC,MACI,IAAIP,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IACrC,KAAK,MAAMM,GAAG,IAAIW,MAAM,CAACC,IAAI,CAAClB,GAAG,CAAC,EAC9BK,GAAG,CAACC,GAAG,EAAEN,GAAG,CAACM,GAAG,CAAC,CAAC;EAC1B;EACA,IAAI,OAAOP,MAAM,CAACoB,cAAc,KAAK,UAAU,EAAE;IAC7Cf,GAAG,CAACS,KAAK,CAACO,IAAI,CAACrB,MAAM,CAACoB,cAAc,CAAC;EACzC;EACA,OAAOf,GAAG;AACd;AACA,MAAMA,GAAG,GAAG;EACRiB,UAAU,EAAE,KAAK;EACjBC,UAAU,EAAExB,SAAS;EACrByB,OAAO,EAAE,IAAI;EACbC,SAAS,EAAE3B,OAAO,CAACA,OAAO;EAC1B4B,GAAG,EAAE,uBAAuB;EAC5BC,OAAOA,CAACtB,GAAG,EAAEuB,OAAO,EAAE;IAClB,IAAI,CAACjC,IAAI,CAACkC,KAAK,CAACxB,GAAG,CAAC,EAChBuB,OAAO,CAAC,iCAAiC,CAAC;IAC9C,OAAOvB,GAAG;EACd;AACJ,CAAC;AAEDyB,OAAO,CAACzB,GAAG,GAAGA,GAAG"}