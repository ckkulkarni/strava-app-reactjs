ef72175a0b62ce5e3a619808c08f44ca
"use strict";

const stringWidth = require('string-width');
function codeRegex(capture) {
  return capture ? /\u001b\[((?:\d*;){0,5}\d*)m/g : /\u001b\[(?:\d*;){0,5}\d*m/g;
}
function strlen(str) {
  let code = codeRegex();
  let stripped = ('' + str).replace(code, '');
  let split = stripped.split('\n');
  return split.reduce(function (memo, s) {
    return stringWidth(s) > memo ? stringWidth(s) : memo;
  }, 0);
}
function repeat(str, times) {
  return Array(times + 1).join(str);
}
function pad(str, len, pad, dir) {
  let length = strlen(str);
  if (len + 1 >= length) {
    let padlen = len - length;
    switch (dir) {
      case 'right':
        {
          str = repeat(pad, padlen) + str;
          break;
        }
      case 'center':
        {
          let right = Math.ceil(padlen / 2);
          let left = padlen - right;
          str = repeat(pad, left) + str + repeat(pad, right);
          break;
        }
      default:
        {
          str = str + repeat(pad, padlen);
          break;
        }
    }
  }
  return str;
}
let codeCache = {};
function addToCodeCache(name, on, off) {
  on = '\u001b[' + on + 'm';
  off = '\u001b[' + off + 'm';
  codeCache[on] = {
    set: name,
    to: true
  };
  codeCache[off] = {
    set: name,
    to: false
  };
  codeCache[name] = {
    on: on,
    off: off
  };
}

//https://github.com/Marak/colors.js/blob/master/lib/styles.js
addToCodeCache('bold', 1, 22);
addToCodeCache('italics', 3, 23);
addToCodeCache('underline', 4, 24);
addToCodeCache('inverse', 7, 27);
addToCodeCache('strikethrough', 9, 29);
function updateState(state, controlChars) {
  let controlCode = controlChars[1] ? parseInt(controlChars[1].split(';')[0]) : 0;
  if (controlCode >= 30 && controlCode <= 39 || controlCode >= 90 && controlCode <= 97) {
    state.lastForegroundAdded = controlChars[0];
    return;
  }
  if (controlCode >= 40 && controlCode <= 49 || controlCode >= 100 && controlCode <= 107) {
    state.lastBackgroundAdded = controlChars[0];
    return;
  }
  if (controlCode === 0) {
    for (let i in state) {
      /* istanbul ignore else */
      if (Object.prototype.hasOwnProperty.call(state, i)) {
        delete state[i];
      }
    }
    return;
  }
  let info = codeCache[controlChars[0]];
  if (info) {
    state[info.set] = info.to;
  }
}
function readState(line) {
  let code = codeRegex(true);
  let controlChars = code.exec(line);
  let state = {};
  while (controlChars !== null) {
    updateState(state, controlChars);
    controlChars = code.exec(line);
  }
  return state;
}
function unwindState(state, ret) {
  let lastBackgroundAdded = state.lastBackgroundAdded;
  let lastForegroundAdded = state.lastForegroundAdded;
  delete state.lastBackgroundAdded;
  delete state.lastForegroundAdded;
  Object.keys(state).forEach(function (key) {
    if (state[key]) {
      ret += codeCache[key].off;
    }
  });
  if (lastBackgroundAdded && lastBackgroundAdded != '\u001b[49m') {
    ret += '\u001b[49m';
  }
  if (lastForegroundAdded && lastForegroundAdded != '\u001b[39m') {
    ret += '\u001b[39m';
  }
  return ret;
}
function rewindState(state, ret) {
  let lastBackgroundAdded = state.lastBackgroundAdded;
  let lastForegroundAdded = state.lastForegroundAdded;
  delete state.lastBackgroundAdded;
  delete state.lastForegroundAdded;
  Object.keys(state).forEach(function (key) {
    if (state[key]) {
      ret = codeCache[key].on + ret;
    }
  });
  if (lastBackgroundAdded && lastBackgroundAdded != '\u001b[49m') {
    ret = lastBackgroundAdded + ret;
  }
  if (lastForegroundAdded && lastForegroundAdded != '\u001b[39m') {
    ret = lastForegroundAdded + ret;
  }
  return ret;
}
function truncateWidth(str, desiredLength) {
  if (str.length === strlen(str)) {
    return str.substr(0, desiredLength);
  }
  while (strlen(str) > desiredLength) {
    str = str.slice(0, -1);
  }
  return str;
}
function truncateWidthWithAnsi(str, desiredLength) {
  let code = codeRegex(true);
  let split = str.split(codeRegex());
  let splitIndex = 0;
  let retLen = 0;
  let ret = '';
  let myArray;
  let state = {};
  while (retLen < desiredLength) {
    myArray = code.exec(str);
    let toAdd = split[splitIndex];
    splitIndex++;
    if (retLen + strlen(toAdd) > desiredLength) {
      toAdd = truncateWidth(toAdd, desiredLength - retLen);
    }
    ret += toAdd;
    retLen += strlen(toAdd);
    if (retLen < desiredLength) {
      if (!myArray) {
        break;
      } // full-width chars may cause a whitespace which cannot be filled
      ret += myArray[0];
      updateState(state, myArray);
    }
  }
  return unwindState(state, ret);
}
function truncate(str, desiredLength, truncateChar) {
  truncateChar = truncateChar || '…';
  let lengthOfStr = strlen(str);
  if (lengthOfStr <= desiredLength) {
    return str;
  }
  desiredLength -= strlen(truncateChar);
  let ret = truncateWidthWithAnsi(str, desiredLength);
  return ret + truncateChar;
}
function defaultOptions() {
  return {
    chars: {
      top: '─',
      'top-mid': '┬',
      'top-left': '┌',
      'top-right': '┐',
      bottom: '─',
      'bottom-mid': '┴',
      'bottom-left': '└',
      'bottom-right': '┘',
      left: '│',
      'left-mid': '├',
      mid: '─',
      'mid-mid': '┼',
      right: '│',
      'right-mid': '┤',
      middle: '│'
    },
    truncate: '…',
    colWidths: [],
    rowHeights: [],
    colAligns: [],
    rowAligns: [],
    style: {
      'padding-left': 1,
      'padding-right': 1,
      head: ['red'],
      border: ['grey'],
      compact: false
    },
    head: []
  };
}
function mergeOptions(options, defaults) {
  options = options || {};
  defaults = defaults || defaultOptions();
  let ret = Object.assign({}, defaults, options);
  ret.chars = Object.assign({}, defaults.chars, options.chars);
  ret.style = Object.assign({}, defaults.style, options.style);
  return ret;
}

// Wrap on word boundary
function wordWrap(maxLength, input) {
  let lines = [];
  let split = input.split(/(\s+)/g);
  let line = [];
  let lineLength = 0;
  let whitespace;
  for (let i = 0; i < split.length; i += 2) {
    let word = split[i];
    let newLength = lineLength + strlen(word);
    if (lineLength > 0 && whitespace) {
      newLength += whitespace.length;
    }
    if (newLength > maxLength) {
      if (lineLength !== 0) {
        lines.push(line.join(''));
      }
      line = [word];
      lineLength = strlen(word);
    } else {
      line.push(whitespace || '', word);
      lineLength = newLength;
    }
    whitespace = split[i + 1];
  }
  if (lineLength) {
    lines.push(line.join(''));
  }
  return lines;
}

// Wrap text (ignoring word boundaries)
function textWrap(maxLength, input) {
  let lines = [];
  let line = '';
  function pushLine(str, ws) {
    if (line.length && ws) line += ws;
    line += str;
    while (line.length > maxLength) {
      lines.push(line.slice(0, maxLength));
      line = line.slice(maxLength);
    }
  }
  let split = input.split(/(\s+)/g);
  for (let i = 0; i < split.length; i += 2) {
    pushLine(split[i], i && split[i - 1]);
  }
  if (line.length) lines.push(line);
  return lines;
}
function multiLineWordWrap(maxLength, input, wrapOnWordBoundary = true) {
  let output = [];
  input = input.split('\n');
  const handler = wrapOnWordBoundary ? wordWrap : textWrap;
  for (let i = 0; i < input.length; i++) {
    output.push.apply(output, handler(maxLength, input[i]));
  }
  return output;
}
function colorizeLines(input) {
  let state = {};
  let output = [];
  for (let i = 0; i < input.length; i++) {
    let line = rewindState(state, input[i]);
    state = readState(line);
    let temp = Object.assign({}, state);
    output.push(unwindState(temp, line));
  }
  return output;
}

/**
 * Credit: Matheus Sampaio https://github.com/matheussampaio
 */
function hyperlink(url, text) {
  const OSC = '\u001B]';
  const BEL = '\u0007';
  const SEP = ';';
  return [OSC, '8', SEP, SEP, url || text, BEL, text, OSC, '8', SEP, SEP, BEL].join('');
}
module.exports = {
  strlen: strlen,
  repeat: repeat,
  pad: pad,
  truncate: truncate,
  mergeOptions: mergeOptions,
  wordWrap: multiLineWordWrap,
  colorizeLines: colorizeLines,
  hyperlink
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdHJpbmdXaWR0aCIsInJlcXVpcmUiLCJjb2RlUmVnZXgiLCJjYXB0dXJlIiwic3RybGVuIiwic3RyIiwiY29kZSIsInN0cmlwcGVkIiwicmVwbGFjZSIsInNwbGl0IiwicmVkdWNlIiwibWVtbyIsInMiLCJyZXBlYXQiLCJ0aW1lcyIsIkFycmF5Iiwiam9pbiIsInBhZCIsImxlbiIsImRpciIsImxlbmd0aCIsInBhZGxlbiIsInJpZ2h0IiwiTWF0aCIsImNlaWwiLCJsZWZ0IiwiY29kZUNhY2hlIiwiYWRkVG9Db2RlQ2FjaGUiLCJuYW1lIiwib24iLCJvZmYiLCJzZXQiLCJ0byIsInVwZGF0ZVN0YXRlIiwic3RhdGUiLCJjb250cm9sQ2hhcnMiLCJjb250cm9sQ29kZSIsInBhcnNlSW50IiwibGFzdEZvcmVncm91bmRBZGRlZCIsImxhc3RCYWNrZ3JvdW5kQWRkZWQiLCJpIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5mbyIsInJlYWRTdGF0ZSIsImxpbmUiLCJleGVjIiwidW53aW5kU3RhdGUiLCJyZXQiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInJld2luZFN0YXRlIiwidHJ1bmNhdGVXaWR0aCIsImRlc2lyZWRMZW5ndGgiLCJzdWJzdHIiLCJzbGljZSIsInRydW5jYXRlV2lkdGhXaXRoQW5zaSIsInNwbGl0SW5kZXgiLCJyZXRMZW4iLCJteUFycmF5IiwidG9BZGQiLCJ0cnVuY2F0ZSIsInRydW5jYXRlQ2hhciIsImxlbmd0aE9mU3RyIiwiZGVmYXVsdE9wdGlvbnMiLCJjaGFycyIsInRvcCIsImJvdHRvbSIsIm1pZCIsIm1pZGRsZSIsImNvbFdpZHRocyIsInJvd0hlaWdodHMiLCJjb2xBbGlnbnMiLCJyb3dBbGlnbnMiLCJzdHlsZSIsImhlYWQiLCJib3JkZXIiLCJjb21wYWN0IiwibWVyZ2VPcHRpb25zIiwib3B0aW9ucyIsImRlZmF1bHRzIiwiYXNzaWduIiwid29yZFdyYXAiLCJtYXhMZW5ndGgiLCJpbnB1dCIsImxpbmVzIiwibGluZUxlbmd0aCIsIndoaXRlc3BhY2UiLCJ3b3JkIiwibmV3TGVuZ3RoIiwicHVzaCIsInRleHRXcmFwIiwicHVzaExpbmUiLCJ3cyIsIm11bHRpTGluZVdvcmRXcmFwIiwid3JhcE9uV29yZEJvdW5kYXJ5Iiwib3V0cHV0IiwiaGFuZGxlciIsImFwcGx5IiwiY29sb3JpemVMaW5lcyIsInRlbXAiLCJoeXBlcmxpbmsiLCJ1cmwiLCJ0ZXh0IiwiT1NDIiwiQkVMIiwiU0VQIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0cmluZ1dpZHRoID0gcmVxdWlyZSgnc3RyaW5nLXdpZHRoJyk7XG5cbmZ1bmN0aW9uIGNvZGVSZWdleChjYXB0dXJlKSB7XG4gIHJldHVybiBjYXB0dXJlID8gL1xcdTAwMWJcXFsoKD86XFxkKjspezAsNX1cXGQqKW0vZyA6IC9cXHUwMDFiXFxbKD86XFxkKjspezAsNX1cXGQqbS9nO1xufVxuXG5mdW5jdGlvbiBzdHJsZW4oc3RyKSB7XG4gIGxldCBjb2RlID0gY29kZVJlZ2V4KCk7XG4gIGxldCBzdHJpcHBlZCA9ICgnJyArIHN0cikucmVwbGFjZShjb2RlLCAnJyk7XG4gIGxldCBzcGxpdCA9IHN0cmlwcGVkLnNwbGl0KCdcXG4nKTtcbiAgcmV0dXJuIHNwbGl0LnJlZHVjZShmdW5jdGlvbiAobWVtbywgcykge1xuICAgIHJldHVybiBzdHJpbmdXaWR0aChzKSA+IG1lbW8gPyBzdHJpbmdXaWR0aChzKSA6IG1lbW87XG4gIH0sIDApO1xufVxuXG5mdW5jdGlvbiByZXBlYXQoc3RyLCB0aW1lcykge1xuICByZXR1cm4gQXJyYXkodGltZXMgKyAxKS5qb2luKHN0cik7XG59XG5cbmZ1bmN0aW9uIHBhZChzdHIsIGxlbiwgcGFkLCBkaXIpIHtcbiAgbGV0IGxlbmd0aCA9IHN0cmxlbihzdHIpO1xuICBpZiAobGVuICsgMSA+PSBsZW5ndGgpIHtcbiAgICBsZXQgcGFkbGVuID0gbGVuIC0gbGVuZ3RoO1xuICAgIHN3aXRjaCAoZGlyKSB7XG4gICAgICBjYXNlICdyaWdodCc6IHtcbiAgICAgICAgc3RyID0gcmVwZWF0KHBhZCwgcGFkbGVuKSArIHN0cjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjZW50ZXInOiB7XG4gICAgICAgIGxldCByaWdodCA9IE1hdGguY2VpbChwYWRsZW4gLyAyKTtcbiAgICAgICAgbGV0IGxlZnQgPSBwYWRsZW4gLSByaWdodDtcbiAgICAgICAgc3RyID0gcmVwZWF0KHBhZCwgbGVmdCkgKyBzdHIgKyByZXBlYXQocGFkLCByaWdodCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBzdHIgPSBzdHIgKyByZXBlYXQocGFkLCBwYWRsZW4pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cblxubGV0IGNvZGVDYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBhZGRUb0NvZGVDYWNoZShuYW1lLCBvbiwgb2ZmKSB7XG4gIG9uID0gJ1xcdTAwMWJbJyArIG9uICsgJ20nO1xuICBvZmYgPSAnXFx1MDAxYlsnICsgb2ZmICsgJ20nO1xuICBjb2RlQ2FjaGVbb25dID0geyBzZXQ6IG5hbWUsIHRvOiB0cnVlIH07XG4gIGNvZGVDYWNoZVtvZmZdID0geyBzZXQ6IG5hbWUsIHRvOiBmYWxzZSB9O1xuICBjb2RlQ2FjaGVbbmFtZV0gPSB7IG9uOiBvbiwgb2ZmOiBvZmYgfTtcbn1cblxuLy9odHRwczovL2dpdGh1Yi5jb20vTWFyYWsvY29sb3JzLmpzL2Jsb2IvbWFzdGVyL2xpYi9zdHlsZXMuanNcbmFkZFRvQ29kZUNhY2hlKCdib2xkJywgMSwgMjIpO1xuYWRkVG9Db2RlQ2FjaGUoJ2l0YWxpY3MnLCAzLCAyMyk7XG5hZGRUb0NvZGVDYWNoZSgndW5kZXJsaW5lJywgNCwgMjQpO1xuYWRkVG9Db2RlQ2FjaGUoJ2ludmVyc2UnLCA3LCAyNyk7XG5hZGRUb0NvZGVDYWNoZSgnc3RyaWtldGhyb3VnaCcsIDksIDI5KTtcblxuZnVuY3Rpb24gdXBkYXRlU3RhdGUoc3RhdGUsIGNvbnRyb2xDaGFycykge1xuICBsZXQgY29udHJvbENvZGUgPSBjb250cm9sQ2hhcnNbMV0gPyBwYXJzZUludChjb250cm9sQ2hhcnNbMV0uc3BsaXQoJzsnKVswXSkgOiAwO1xuICBpZiAoKGNvbnRyb2xDb2RlID49IDMwICYmIGNvbnRyb2xDb2RlIDw9IDM5KSB8fCAoY29udHJvbENvZGUgPj0gOTAgJiYgY29udHJvbENvZGUgPD0gOTcpKSB7XG4gICAgc3RhdGUubGFzdEZvcmVncm91bmRBZGRlZCA9IGNvbnRyb2xDaGFyc1swXTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKChjb250cm9sQ29kZSA+PSA0MCAmJiBjb250cm9sQ29kZSA8PSA0OSkgfHwgKGNvbnRyb2xDb2RlID49IDEwMCAmJiBjb250cm9sQ29kZSA8PSAxMDcpKSB7XG4gICAgc3RhdGUubGFzdEJhY2tncm91bmRBZGRlZCA9IGNvbnRyb2xDaGFyc1swXTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGNvbnRyb2xDb2RlID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSBpbiBzdGF0ZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3RhdGUsIGkpKSB7XG4gICAgICAgIGRlbGV0ZSBzdGF0ZVtpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBpbmZvID0gY29kZUNhY2hlW2NvbnRyb2xDaGFyc1swXV07XG4gIGlmIChpbmZvKSB7XG4gICAgc3RhdGVbaW5mby5zZXRdID0gaW5mby50bztcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkU3RhdGUobGluZSkge1xuICBsZXQgY29kZSA9IGNvZGVSZWdleCh0cnVlKTtcbiAgbGV0IGNvbnRyb2xDaGFycyA9IGNvZGUuZXhlYyhsaW5lKTtcbiAgbGV0IHN0YXRlID0ge307XG4gIHdoaWxlIChjb250cm9sQ2hhcnMgIT09IG51bGwpIHtcbiAgICB1cGRhdGVTdGF0ZShzdGF0ZSwgY29udHJvbENoYXJzKTtcbiAgICBjb250cm9sQ2hhcnMgPSBjb2RlLmV4ZWMobGluZSk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1bndpbmRTdGF0ZShzdGF0ZSwgcmV0KSB7XG4gIGxldCBsYXN0QmFja2dyb3VuZEFkZGVkID0gc3RhdGUubGFzdEJhY2tncm91bmRBZGRlZDtcbiAgbGV0IGxhc3RGb3JlZ3JvdW5kQWRkZWQgPSBzdGF0ZS5sYXN0Rm9yZWdyb3VuZEFkZGVkO1xuXG4gIGRlbGV0ZSBzdGF0ZS5sYXN0QmFja2dyb3VuZEFkZGVkO1xuICBkZWxldGUgc3RhdGUubGFzdEZvcmVncm91bmRBZGRlZDtcblxuICBPYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHN0YXRlW2tleV0pIHtcbiAgICAgIHJldCArPSBjb2RlQ2FjaGVba2V5XS5vZmY7XG4gICAgfVxuICB9KTtcblxuICBpZiAobGFzdEJhY2tncm91bmRBZGRlZCAmJiBsYXN0QmFja2dyb3VuZEFkZGVkICE9ICdcXHUwMDFiWzQ5bScpIHtcbiAgICByZXQgKz0gJ1xcdTAwMWJbNDltJztcbiAgfVxuICBpZiAobGFzdEZvcmVncm91bmRBZGRlZCAmJiBsYXN0Rm9yZWdyb3VuZEFkZGVkICE9ICdcXHUwMDFiWzM5bScpIHtcbiAgICByZXQgKz0gJ1xcdTAwMWJbMzltJztcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHJld2luZFN0YXRlKHN0YXRlLCByZXQpIHtcbiAgbGV0IGxhc3RCYWNrZ3JvdW5kQWRkZWQgPSBzdGF0ZS5sYXN0QmFja2dyb3VuZEFkZGVkO1xuICBsZXQgbGFzdEZvcmVncm91bmRBZGRlZCA9IHN0YXRlLmxhc3RGb3JlZ3JvdW5kQWRkZWQ7XG5cbiAgZGVsZXRlIHN0YXRlLmxhc3RCYWNrZ3JvdW5kQWRkZWQ7XG4gIGRlbGV0ZSBzdGF0ZS5sYXN0Rm9yZWdyb3VuZEFkZGVkO1xuXG4gIE9iamVjdC5rZXlzKHN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoc3RhdGVba2V5XSkge1xuICAgICAgcmV0ID0gY29kZUNhY2hlW2tleV0ub24gKyByZXQ7XG4gICAgfVxuICB9KTtcblxuICBpZiAobGFzdEJhY2tncm91bmRBZGRlZCAmJiBsYXN0QmFja2dyb3VuZEFkZGVkICE9ICdcXHUwMDFiWzQ5bScpIHtcbiAgICByZXQgPSBsYXN0QmFja2dyb3VuZEFkZGVkICsgcmV0O1xuICB9XG4gIGlmIChsYXN0Rm9yZWdyb3VuZEFkZGVkICYmIGxhc3RGb3JlZ3JvdW5kQWRkZWQgIT0gJ1xcdTAwMWJbMzltJykge1xuICAgIHJldCA9IGxhc3RGb3JlZ3JvdW5kQWRkZWQgKyByZXQ7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiB0cnVuY2F0ZVdpZHRoKHN0ciwgZGVzaXJlZExlbmd0aCkge1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gc3RybGVuKHN0cikpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBkZXNpcmVkTGVuZ3RoKTtcbiAgfVxuXG4gIHdoaWxlIChzdHJsZW4oc3RyKSA+IGRlc2lyZWRMZW5ndGgpIHtcbiAgICBzdHIgPSBzdHIuc2xpY2UoMCwgLTEpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cblxuZnVuY3Rpb24gdHJ1bmNhdGVXaWR0aFdpdGhBbnNpKHN0ciwgZGVzaXJlZExlbmd0aCkge1xuICBsZXQgY29kZSA9IGNvZGVSZWdleCh0cnVlKTtcbiAgbGV0IHNwbGl0ID0gc3RyLnNwbGl0KGNvZGVSZWdleCgpKTtcbiAgbGV0IHNwbGl0SW5kZXggPSAwO1xuICBsZXQgcmV0TGVuID0gMDtcbiAgbGV0IHJldCA9ICcnO1xuICBsZXQgbXlBcnJheTtcbiAgbGV0IHN0YXRlID0ge307XG5cbiAgd2hpbGUgKHJldExlbiA8IGRlc2lyZWRMZW5ndGgpIHtcbiAgICBteUFycmF5ID0gY29kZS5leGVjKHN0cik7XG4gICAgbGV0IHRvQWRkID0gc3BsaXRbc3BsaXRJbmRleF07XG4gICAgc3BsaXRJbmRleCsrO1xuICAgIGlmIChyZXRMZW4gKyBzdHJsZW4odG9BZGQpID4gZGVzaXJlZExlbmd0aCkge1xuICAgICAgdG9BZGQgPSB0cnVuY2F0ZVdpZHRoKHRvQWRkLCBkZXNpcmVkTGVuZ3RoIC0gcmV0TGVuKTtcbiAgICB9XG4gICAgcmV0ICs9IHRvQWRkO1xuICAgIHJldExlbiArPSBzdHJsZW4odG9BZGQpO1xuXG4gICAgaWYgKHJldExlbiA8IGRlc2lyZWRMZW5ndGgpIHtcbiAgICAgIGlmICghbXlBcnJheSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gZnVsbC13aWR0aCBjaGFycyBtYXkgY2F1c2UgYSB3aGl0ZXNwYWNlIHdoaWNoIGNhbm5vdCBiZSBmaWxsZWRcbiAgICAgIHJldCArPSBteUFycmF5WzBdO1xuICAgICAgdXBkYXRlU3RhdGUoc3RhdGUsIG15QXJyYXkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bndpbmRTdGF0ZShzdGF0ZSwgcmV0KTtcbn1cblxuZnVuY3Rpb24gdHJ1bmNhdGUoc3RyLCBkZXNpcmVkTGVuZ3RoLCB0cnVuY2F0ZUNoYXIpIHtcbiAgdHJ1bmNhdGVDaGFyID0gdHJ1bmNhdGVDaGFyIHx8ICfigKYnO1xuICBsZXQgbGVuZ3RoT2ZTdHIgPSBzdHJsZW4oc3RyKTtcbiAgaWYgKGxlbmd0aE9mU3RyIDw9IGRlc2lyZWRMZW5ndGgpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGRlc2lyZWRMZW5ndGggLT0gc3RybGVuKHRydW5jYXRlQ2hhcik7XG5cbiAgbGV0IHJldCA9IHRydW5jYXRlV2lkdGhXaXRoQW5zaShzdHIsIGRlc2lyZWRMZW5ndGgpO1xuXG4gIHJldHVybiByZXQgKyB0cnVuY2F0ZUNoYXI7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRPcHRpb25zKCkge1xuICByZXR1cm4ge1xuICAgIGNoYXJzOiB7XG4gICAgICB0b3A6ICfilIAnLFxuICAgICAgJ3RvcC1taWQnOiAn4pSsJyxcbiAgICAgICd0b3AtbGVmdCc6ICfilIwnLFxuICAgICAgJ3RvcC1yaWdodCc6ICfilJAnLFxuICAgICAgYm90dG9tOiAn4pSAJyxcbiAgICAgICdib3R0b20tbWlkJzogJ+KUtCcsXG4gICAgICAnYm90dG9tLWxlZnQnOiAn4pSUJyxcbiAgICAgICdib3R0b20tcmlnaHQnOiAn4pSYJyxcbiAgICAgIGxlZnQ6ICfilIInLFxuICAgICAgJ2xlZnQtbWlkJzogJ+KUnCcsXG4gICAgICBtaWQ6ICfilIAnLFxuICAgICAgJ21pZC1taWQnOiAn4pS8JyxcbiAgICAgIHJpZ2h0OiAn4pSCJyxcbiAgICAgICdyaWdodC1taWQnOiAn4pSkJyxcbiAgICAgIG1pZGRsZTogJ+KUgicsXG4gICAgfSxcbiAgICB0cnVuY2F0ZTogJ+KApicsXG4gICAgY29sV2lkdGhzOiBbXSxcbiAgICByb3dIZWlnaHRzOiBbXSxcbiAgICBjb2xBbGlnbnM6IFtdLFxuICAgIHJvd0FsaWduczogW10sXG4gICAgc3R5bGU6IHtcbiAgICAgICdwYWRkaW5nLWxlZnQnOiAxLFxuICAgICAgJ3BhZGRpbmctcmlnaHQnOiAxLFxuICAgICAgaGVhZDogWydyZWQnXSxcbiAgICAgIGJvcmRlcjogWydncmV5J10sXG4gICAgICBjb21wYWN0OiBmYWxzZSxcbiAgICB9LFxuICAgIGhlYWQ6IFtdLFxuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdHMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGRlZmF1bHRzID0gZGVmYXVsdHMgfHwgZGVmYXVsdE9wdGlvbnMoKTtcbiAgbGV0IHJldCA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgcmV0LmNoYXJzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMuY2hhcnMsIG9wdGlvbnMuY2hhcnMpO1xuICByZXQuc3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cy5zdHlsZSwgb3B0aW9ucy5zdHlsZSk7XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIFdyYXAgb24gd29yZCBib3VuZGFyeVxuZnVuY3Rpb24gd29yZFdyYXAobWF4TGVuZ3RoLCBpbnB1dCkge1xuICBsZXQgbGluZXMgPSBbXTtcbiAgbGV0IHNwbGl0ID0gaW5wdXQuc3BsaXQoLyhcXHMrKS9nKTtcbiAgbGV0IGxpbmUgPSBbXTtcbiAgbGV0IGxpbmVMZW5ndGggPSAwO1xuICBsZXQgd2hpdGVzcGFjZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGg7IGkgKz0gMikge1xuICAgIGxldCB3b3JkID0gc3BsaXRbaV07XG4gICAgbGV0IG5ld0xlbmd0aCA9IGxpbmVMZW5ndGggKyBzdHJsZW4od29yZCk7XG4gICAgaWYgKGxpbmVMZW5ndGggPiAwICYmIHdoaXRlc3BhY2UpIHtcbiAgICAgIG5ld0xlbmd0aCArPSB3aGl0ZXNwYWNlLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKG5ld0xlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgaWYgKGxpbmVMZW5ndGggIT09IDApIHtcbiAgICAgICAgbGluZXMucHVzaChsaW5lLmpvaW4oJycpKTtcbiAgICAgIH1cbiAgICAgIGxpbmUgPSBbd29yZF07XG4gICAgICBsaW5lTGVuZ3RoID0gc3RybGVuKHdvcmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lLnB1c2god2hpdGVzcGFjZSB8fCAnJywgd29yZCk7XG4gICAgICBsaW5lTGVuZ3RoID0gbmV3TGVuZ3RoO1xuICAgIH1cbiAgICB3aGl0ZXNwYWNlID0gc3BsaXRbaSArIDFdO1xuICB9XG4gIGlmIChsaW5lTGVuZ3RoKSB7XG4gICAgbGluZXMucHVzaChsaW5lLmpvaW4oJycpKTtcbiAgfVxuICByZXR1cm4gbGluZXM7XG59XG5cbi8vIFdyYXAgdGV4dCAoaWdub3Jpbmcgd29yZCBib3VuZGFyaWVzKVxuZnVuY3Rpb24gdGV4dFdyYXAobWF4TGVuZ3RoLCBpbnB1dCkge1xuICBsZXQgbGluZXMgPSBbXTtcbiAgbGV0IGxpbmUgPSAnJztcbiAgZnVuY3Rpb24gcHVzaExpbmUoc3RyLCB3cykge1xuICAgIGlmIChsaW5lLmxlbmd0aCAmJiB3cykgbGluZSArPSB3cztcbiAgICBsaW5lICs9IHN0cjtcbiAgICB3aGlsZSAobGluZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgIGxpbmVzLnB1c2gobGluZS5zbGljZSgwLCBtYXhMZW5ndGgpKTtcbiAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKG1heExlbmd0aCk7XG4gICAgfVxuICB9XG4gIGxldCBzcGxpdCA9IGlucHV0LnNwbGl0KC8oXFxzKykvZyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BsaXQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBwdXNoTGluZShzcGxpdFtpXSwgaSAmJiBzcGxpdFtpIC0gMV0pO1xuICB9XG4gIGlmIChsaW5lLmxlbmd0aCkgbGluZXMucHVzaChsaW5lKTtcbiAgcmV0dXJuIGxpbmVzO1xufVxuXG5mdW5jdGlvbiBtdWx0aUxpbmVXb3JkV3JhcChtYXhMZW5ndGgsIGlucHV0LCB3cmFwT25Xb3JkQm91bmRhcnkgPSB0cnVlKSB7XG4gIGxldCBvdXRwdXQgPSBbXTtcbiAgaW5wdXQgPSBpbnB1dC5zcGxpdCgnXFxuJyk7XG4gIGNvbnN0IGhhbmRsZXIgPSB3cmFwT25Xb3JkQm91bmRhcnkgPyB3b3JkV3JhcCA6IHRleHRXcmFwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0LnB1c2guYXBwbHkob3V0cHV0LCBoYW5kbGVyKG1heExlbmd0aCwgaW5wdXRbaV0pKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBjb2xvcml6ZUxpbmVzKGlucHV0KSB7XG4gIGxldCBzdGF0ZSA9IHt9O1xuICBsZXQgb3V0cHV0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbGluZSA9IHJld2luZFN0YXRlKHN0YXRlLCBpbnB1dFtpXSk7XG4gICAgc3RhdGUgPSByZWFkU3RhdGUobGluZSk7XG4gICAgbGV0IHRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgb3V0cHV0LnB1c2godW53aW5kU3RhdGUodGVtcCwgbGluZSkpO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogQ3JlZGl0OiBNYXRoZXVzIFNhbXBhaW8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhldXNzYW1wYWlvXG4gKi9cbmZ1bmN0aW9uIGh5cGVybGluayh1cmwsIHRleHQpIHtcbiAgY29uc3QgT1NDID0gJ1xcdTAwMUJdJztcbiAgY29uc3QgQkVMID0gJ1xcdTAwMDcnO1xuICBjb25zdCBTRVAgPSAnOyc7XG5cbiAgcmV0dXJuIFtPU0MsICc4JywgU0VQLCBTRVAsIHVybCB8fCB0ZXh0LCBCRUwsIHRleHQsIE9TQywgJzgnLCBTRVAsIFNFUCwgQkVMXS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN0cmxlbjogc3RybGVuLFxuICByZXBlYXQ6IHJlcGVhdCxcbiAgcGFkOiBwYWQsXG4gIHRydW5jYXRlOiB0cnVuY2F0ZSxcbiAgbWVyZ2VPcHRpb25zOiBtZXJnZU9wdGlvbnMsXG4gIHdvcmRXcmFwOiBtdWx0aUxpbmVXb3JkV3JhcCxcbiAgY29sb3JpemVMaW5lczogY29sb3JpemVMaW5lcyxcbiAgaHlwZXJsaW5rLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFM0MsU0FBU0MsU0FBU0EsQ0FBQ0MsT0FBTyxFQUFFO0VBQzFCLE9BQU9BLE9BQU8sR0FBRyw4QkFBOEIsR0FBRyw0QkFBNEI7QUFDaEY7QUFFQSxTQUFTQyxNQUFNQSxDQUFDQyxHQUFHLEVBQUU7RUFDbkIsSUFBSUMsSUFBSSxHQUFH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