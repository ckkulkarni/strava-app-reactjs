cb899bf1a94a40519cd853d31a322c76
"use strict";

var __importDefault = void 0 && (void 0).__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
const pickle_filter_1 = require("../pickle_filter");
const definition_1 = __importDefault(require("./definition"));
class TestStepHookDefinition extends definition_1.default {
  constructor(data) {
    super(data);
    this.tagExpression = data.options.tags;
    this.pickleTagFilter = new pickle_filter_1.PickleTagFilter(data.options.tags);
  }
  appliesToTestCase(pickle) {
    return this.pickleTagFilter.matchesAllTagExpressions(pickle);
  }
  async getInvocationParameters({
    hookParameter
  }) {
    return await Promise.resolve({
      getInvalidCodeLengthMessage: () => this.buildInvalidCodeLengthMessage('0 or 1', '2'),
      parameters: [hookParameter],
      validCodeLengths: [0, 1, 2]
    });
  }
}
exports.default = TestStepHookDefinition;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwaWNrbGVfZmlsdGVyXzEiLCJyZXF1aXJlIiwiZGVmaW5pdGlvbl8xIiwiX19pbXBvcnREZWZhdWx0IiwiVGVzdFN0ZXBIb29rRGVmaW5pdGlvbiIsImRlZmF1bHQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0YWdFeHByZXNzaW9uIiwib3B0aW9ucyIsInRhZ3MiLCJwaWNrbGVUYWdGaWx0ZXIiLCJQaWNrbGVUYWdGaWx0ZXIiLCJhcHBsaWVzVG9UZXN0Q2FzZSIsInBpY2tsZSIsIm1hdGNoZXNBbGxUYWdFeHByZXNzaW9ucyIsImdldEludm9jYXRpb25QYXJhbWV0ZXJzIiwiaG9va1BhcmFtZXRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0SW52YWxpZENvZGVMZW5ndGhNZXNzYWdlIiwiYnVpbGRJbnZhbGlkQ29kZUxlbmd0aE1lc3NhZ2UiLCJwYXJhbWV0ZXJzIiwidmFsaWRDb2RlTGVuZ3RocyIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3Rlc3Rfc3RlcF9ob29rX2RlZmluaXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGlja2xlVGFnRmlsdGVyIH0gZnJvbSAnLi4vcGlja2xlX2ZpbHRlcidcbmltcG9ydCBEZWZpbml0aW9uLCB7XG4gIElEZWZpbml0aW9uLFxuICBJR2V0SW52b2NhdGlvbkRhdGFSZXNwb25zZSxcbiAgSUdldEludm9jYXRpb25EYXRhUmVxdWVzdCxcbiAgSURlZmluaXRpb25QYXJhbWV0ZXJzLFxuICBJSG9va0RlZmluaXRpb25PcHRpb25zLFxufSBmcm9tICcuL2RlZmluaXRpb24nXG5pbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tICdAY3VjdW1iZXIvbWVzc2FnZXMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlc3RTdGVwSG9va0RlZmluaXRpb25cbiAgZXh0ZW5kcyBEZWZpbml0aW9uXG4gIGltcGxlbWVudHMgSURlZmluaXRpb25cbntcbiAgcHVibGljIHJlYWRvbmx5IHRhZ0V4cHJlc3Npb246IHN0cmluZ1xuICBwcml2YXRlIHJlYWRvbmx5IHBpY2tsZVRhZ0ZpbHRlcjogUGlja2xlVGFnRmlsdGVyXG5cbiAgY29uc3RydWN0b3IoZGF0YTogSURlZmluaXRpb25QYXJhbWV0ZXJzPElIb29rRGVmaW5pdGlvbk9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZGF0YSlcbiAgICB0aGlzLnRhZ0V4cHJlc3Npb24gPSBkYXRhLm9wdGlvbnMudGFnc1xuICAgIHRoaXMucGlja2xlVGFnRmlsdGVyID0gbmV3IFBpY2tsZVRhZ0ZpbHRlcihkYXRhLm9wdGlvbnMudGFncylcbiAgfVxuXG4gIGFwcGxpZXNUb1Rlc3RDYXNlKHBpY2tsZTogbWVzc2FnZXMuUGlja2xlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucGlja2xlVGFnRmlsdGVyLm1hdGNoZXNBbGxUYWdFeHByZXNzaW9ucyhwaWNrbGUpXG4gIH1cblxuICBhc3luYyBnZXRJbnZvY2F0aW9uUGFyYW1ldGVycyh7XG4gICAgaG9va1BhcmFtZXRlcixcbiAgfTogSUdldEludm9jYXRpb25EYXRhUmVxdWVzdCk6IFByb21pc2U8SUdldEludm9jYXRpb25EYXRhUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgIGdldEludmFsaWRDb2RlTGVuZ3RoTWVzc2FnZTogKCkgPT5cbiAgICAgICAgdGhpcy5idWlsZEludmFsaWRDb2RlTGVuZ3RoTWVzc2FnZSgnMCBvciAxJywgJzInKSxcbiAgICAgIHBhcmFtZXRlcnM6IFtob29rUGFyYW1ldGVyXSxcbiAgICAgIHZhbGlkQ29kZUxlbmd0aHM6IFswLCAxLCAyXSxcbiAgICB9KVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxlQUFBLEdBQUFDLE9BQUE7QUFDQSxNQUFBQyxZQUFBLEdBQUFDLGVBQUEsQ0FBQUYsT0FBQTtBQVNBLE1BQXFCRyxzQkFDbkIsU0FBUUYsWUFBQSxDQUFBRyxPQUFVO0VBTWxCQyxZQUFZQyxJQUFtRDtJQUM3RCxLQUFLLENBQUNBLElBQUksQ0FBQztJQUNYLElBQUksQ0FBQ0MsYUFBYSxHQUFHRCxJQUFJLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtJQUN0QyxJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJWCxlQUFBLENBQUFZLGVBQWUsQ0FBQ0wsSUFBSSxDQUFDRSxPQUFPLENBQUNDLElBQUksQ0FBQztFQUMvRDtFQUVBRyxpQkFBaUJBLENBQUNDLE1BQXVCO0lBQ3ZDLE9BQU8sSUFBSSxDQUFDSCxlQUFlLENBQUNJLHdCQUF3QixDQUFDRCxNQUFNLENBQUM7RUFDOUQ7RUFFQSxNQUFNRSx1QkFBdUJBLENBQUM7SUFDNUJDO0VBQWEsQ0FDYTtJQUMxQixPQUFPLE1BQU1DLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO01BQzNCQywyQkFBMkIsRUFBRUEsQ0FBQSxLQUMzQixJQUFJLENBQUNDLDZCQUE2QixDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUM7TUFDbkRDLFVBQVUsRUFBRSxDQUFDTCxhQUFhLENBQUM7TUFDM0JNLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0tBQzNCLENBQUM7RUFDSjs7QUExQkZDLE9BQUEsQ0FBQW5CLE9BQUEsR0FBQUQsc0JBQUEifQ==