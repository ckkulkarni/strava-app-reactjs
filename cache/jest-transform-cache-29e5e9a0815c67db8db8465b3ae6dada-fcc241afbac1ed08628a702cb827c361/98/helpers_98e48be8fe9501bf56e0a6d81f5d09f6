f5e9a1fdd6cf5a742a9eb29f27ab0a5f
"use strict";

var __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
    desc = {
      enumerable: true,
      get: function () {
        return m[k];
      }
    };
  }
  Object.defineProperty(o, k2, desc);
} : function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});
var __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {
  Object.defineProperty(o, "default", {
    enumerable: true,
    value: v
  });
} : function (o, v) {
  o["default"] = v;
});
var __importStar = void 0 && (void 0).__importStar || function (mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  __setModuleDefault(result, mod);
  return result;
};
var __importDefault = void 0 && (void 0).__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.emitSupportCodeMessages = exports.emitMetaMessage = exports.orderPickles = exports.parseGherkinMessageStream = void 0;
const knuth_shuffle_seeded_1 = __importDefault(require("knuth-shuffle-seeded"));
const value_checker_1 = require("../value_checker");
const configuration_1 = require("../configuration");
const os_1 = __importDefault(require("os"));
const messages = __importStar(require("@cucumber/messages"));
const ci_environment_1 = __importDefault(require("@cucumber/ci-environment"));
const support_code_library_builder_1 = require("../support_code_library_builder");
const version_1 = require("../version");
/**
 * Process a stream of envelopes from Gherkin and resolve to an array of filtered, ordered pickle Ids
 *
 * @param eventBroadcaster
 * @param eventDataCollector
 * @param gherkinMessageStream
 * @param order
 * @param pickleFilter
 */
async function parseGherkinMessageStream({
  eventBroadcaster,
  eventDataCollector,
  gherkinMessageStream,
  order,
  pickleFilter
}) {
  return await new Promise((resolve, reject) => {
    const result = [];
    gherkinMessageStream.on('data', envelope => {
      eventBroadcaster.emit('envelope', envelope);
      if ((0, value_checker_1.doesHaveValue)(envelope.pickle)) {
        const pickle = envelope.pickle;
        const pickleId = pickle.id;
        const gherkinDocument = eventDataCollector.getGherkinDocument(pickle.uri);
        if (pickleFilter.matches({
          gherkinDocument,
          pickle
        })) {
          result.push(pickleId);
        }
      }
    });
    gherkinMessageStream.on('end', () => {
      orderPickles(result, order, console);
      resolve(result);
    });
    gherkinMessageStream.on('error', reject);
  });
}
exports.parseGherkinMessageStream = parseGherkinMessageStream;
// Orders the pickleIds in place - morphs input
function orderPickles(pickleIds, order, logger) {
  const [type, seed] = configuration_1.OptionSplitter.split(order);
  switch (type) {
    case 'defined':
      break;
    case 'random':
      if (seed === '') {
        const newSeed = Math.floor(Math.random() * 1000 * 1000).toString();
        logger.warn(`Random order using seed: ${newSeed}`);
        (0, knuth_shuffle_seeded_1.default)(pickleIds, newSeed);
      } else {
        (0, knuth_shuffle_seeded_1.default)(pickleIds, seed);
      }
      break;
    default:
      throw new Error('Unrecgonized order type. Should be `defined` or `random`');
  }
}
exports.orderPickles = orderPickles;
async function emitMetaMessage(eventBroadcaster, env) {
  const meta = {
    protocolVersion: messages.version,
    implementation: {
      version: version_1.version,
      name: 'cucumber-js'
    },
    cpu: {
      name: os_1.default.arch()
    },
    os: {
      name: os_1.default.platform(),
      version: os_1.default.release()
    },
    runtime: {
      name: 'node.js',
      version: process.versions.node
    },
    ci: (0, ci_environment_1.default)(env)
  };
  eventBroadcaster.emit('envelope', {
    meta
  });
}
exports.emitMetaMessage = emitMetaMessage;
function emitParameterTypes(supportCodeLibrary, eventBroadcaster, newId) {
  for (const parameterType of supportCodeLibrary.parameterTypeRegistry.parameterTypes) {
    if (support_code_library_builder_1.builtinParameterTypes.includes(parameterType.name)) {
      continue;
    }
    const envelope = {
      parameterType: {
        id: newId(),
        name: parameterType.name,
        preferForRegularExpressionMatch: parameterType.preferForRegexpMatch,
        regularExpressions: parameterType.regexpStrings,
        useForSnippets: parameterType.useForSnippets
      }
    };
    eventBroadcaster.emit('envelope', envelope);
  }
}
function emitUndefinedParameterTypes(supportCodeLibrary, eventBroadcaster) {
  for (const undefinedParameterType of supportCodeLibrary.undefinedParameterTypes) {
    const envelope = {
      undefinedParameterType
    };
    eventBroadcaster.emit('envelope', envelope);
  }
}
function emitStepDefinitions(supportCodeLibrary, eventBroadcaster) {
  supportCodeLibrary.stepDefinitions.forEach(stepDefinition => {
    const envelope = {
      stepDefinition: {
        id: stepDefinition.id,
        pattern: {
          source: stepDefinition.pattern.toString(),
          type: typeof stepDefinition.pattern === 'string' ? messages.StepDefinitionPatternType.CUCUMBER_EXPRESSION : messages.StepDefinitionPatternType.REGULAR_EXPRESSION
        },
        sourceReference: {
          uri: stepDefinition.uri,
          location: {
            line: stepDefinition.line
          }
        }
      }
    };
    eventBroadcaster.emit('envelope', envelope);
  });
}
function emitTestCaseHooks(supportCodeLibrary, eventBroadcaster) {
  ;
  [].concat(supportCodeLibrary.beforeTestCaseHookDefinitions, supportCodeLibrary.afterTestCaseHookDefinitions).forEach(testCaseHookDefinition => {
    const envelope = {
      hook: {
        id: testCaseHookDefinition.id,
        name: testCaseHookDefinition.name,
        tagExpression: testCaseHookDefinition.tagExpression,
        sourceReference: {
          uri: testCaseHookDefinition.uri,
          location: {
            line: testCaseHookDefinition.line
          }
        }
      }
    };
    eventBroadcaster.emit('envelope', envelope);
  });
}
function emitTestRunHooks(supportCodeLibrary, eventBroadcaster) {
  ;
  [].concat(supportCodeLibrary.beforeTestRunHookDefinitions, supportCodeLibrary.afterTestRunHookDefinitions).forEach(testRunHookDefinition => {
    const envelope = {
      hook: {
        id: testRunHookDefinition.id,
        sourceReference: {
          uri: testRunHookDefinition.uri,
          location: {
            line: testRunHookDefinition.line
          }
        }
      }
    };
    eventBroadcaster.emit('envelope', envelope);
  });
}
function emitSupportCodeMessages({
  eventBroadcaster,
  supportCodeLibrary,
  newId
}) {
  emitParameterTypes(supportCodeLibrary, eventBroadcaster, newId);
  emitUndefinedParameterTypes(supportCodeLibrary, eventBroadcaster);
  emitStepDefinitions(supportCodeLibrary, eventBroadcaster);
  emitTestCaseHooks(supportCodeLibrary, eventBroadcaster);
  emitTestRunHooks(supportCodeLibrary, eventBroadcaster);
}
exports.emitSupportCodeMessages = emitSupportCodeMessages;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbnV0aF9zaHVmZmxlX3NlZWRlZF8xIiwiX19pbXBvcnREZWZhdWx0IiwicmVxdWlyZSIsInZhbHVlX2NoZWNrZXJfMSIsImNvbmZpZ3VyYXRpb25fMSIsIm9zXzEiLCJtZXNzYWdlcyIsIl9faW1wb3J0U3RhciIsImNpX2Vudmlyb25tZW50XzEiLCJzdXBwb3J0X2NvZGVfbGlicmFyeV9idWlsZGVyXzEiLCJ2ZXJzaW9uXzEiLCJwYXJzZUdoZXJraW5NZXNzYWdlU3RyZWFtIiwiZXZlbnRCcm9hZGNhc3RlciIsImV2ZW50RGF0YUNvbGxlY3RvciIsImdoZXJraW5NZXNzYWdlU3RyZWFtIiwib3JkZXIiLCJwaWNrbGVGaWx0ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIm9uIiwiZW52ZWxvcGUiLCJlbWl0IiwiZG9lc0hhdmVWYWx1ZSIsInBpY2tsZSIsInBpY2tsZUlkIiwiaWQiLCJnaGVya2luRG9jdW1lbnQiLCJnZXRHaGVya2luRG9jdW1lbnQiLCJ1cmkiLCJtYXRjaGVzIiwicHVzaCIsIm9yZGVyUGlja2xlcyIsImNvbnNvbGUiLCJleHBvcnRzIiwicGlja2xlSWRzIiwibG9nZ2VyIiwidHlwZSIsInNlZWQiLCJPcHRpb25TcGxpdHRlciIsInNwbGl0IiwibmV3U2VlZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwid2FybiIsImRlZmF1bHQiLCJFcnJvciIsImVtaXRNZXRhTWVzc2FnZSIsImVudiIsIm1ldGEiLCJwcm90b2NvbFZlcnNpb24iLCJ2ZXJzaW9uIiwiaW1wbGVtZW50YXRpb24iLCJuYW1lIiwiY3B1IiwiYXJjaCIsIm9zIiwicGxhdGZvcm0iLCJyZWxlYXNlIiwicnVudGltZSIsInByb2Nlc3MiLCJ2ZXJzaW9ucyIsIm5vZGUiLCJjaSIsImVtaXRQYXJhbWV0ZXJUeXBlcyIsInN1cHBvcnRDb2RlTGlicmFyeSIsIm5ld0lkIiwicGFyYW1ldGVyVHlwZSIsInBhcmFtZXRlclR5cGVSZWdpc3RyeSIsInBhcmFtZXRlclR5cGVzIiwiYnVpbHRpblBhcmFtZXRlclR5cGVzIiwiaW5jbHVkZXMiLCJwcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoIiwicHJlZmVyRm9yUmVnZXhwTWF0Y2giLCJyZWd1bGFyRXhwcmVzc2lvbnMiLCJyZWdleHBTdHJpbmdzIiwidXNlRm9yU25pcHBldHMiLCJlbWl0VW5kZWZpbmVkUGFyYW1ldGVyVHlwZXMiLCJ1bmRlZmluZWRQYXJhbWV0ZXJUeXBlIiwidW5kZWZpbmVkUGFyYW1ldGVyVHlwZXMiLCJlbWl0U3RlcERlZmluaXRpb25zIiwic3RlcERlZmluaXRpb25zIiwiZm9yRWFjaCIsInN0ZXBEZWZpbml0aW9uIiwicGF0dGVybiIsInNvdXJjZSIsIlN0ZXBEZWZpbml0aW9uUGF0dGVyblR5cGUiLCJDVUNVTUJFUl9FWFBSRVNTSU9OIiwiUkVHVUxBUl9FWFBSRVNTSU9OIiwic291cmNlUmVmZXJlbmNlIiwibG9jYXRpb24iLCJsaW5lIiwiZW1pdFRlc3RDYXNlSG9va3MiLCJjb25jYXQiLCJiZWZvcmVUZXN0Q2FzZUhvb2tEZWZpbml0aW9ucyIsImFmdGVyVGVzdENhc2VIb29rRGVmaW5pdGlvbnMiLCJ0ZXN0Q2FzZUhvb2tEZWZpbml0aW9uIiwiaG9vayIsInRhZ0V4cHJlc3Npb24iLCJlbWl0VGVzdFJ1bkhvb2tzIiwiYmVmb3JlVGVzdFJ1bkhvb2tEZWZpbml0aW9ucyIsImFmdGVyVGVzdFJ1bkhvb2tEZWZpbml0aW9ucyIsInRlc3RSdW5Ib29rRGVmaW5pdGlvbiIsImVtaXRTdXBwb3J0Q29kZU1lc3NhZ2VzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaS9oZWxwZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzaHVmZmxlIGZyb20gJ2tudXRoLXNodWZmbGUtc2VlZGVkJ1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJ1xuaW1wb3J0IFBpY2tsZUZpbHRlciBmcm9tICcuLi9waWNrbGVfZmlsdGVyJ1xuaW1wb3J0IHsgRXZlbnREYXRhQ29sbGVjdG9yIH0gZnJvbSAnLi4vZm9ybWF0dGVyL2hlbHBlcnMnXG5pbXBvcnQgeyBkb2VzSGF2ZVZhbHVlIH0gZnJvbSAnLi4vdmFsdWVfY2hlY2tlcidcbmltcG9ydCB7IE9wdGlvblNwbGl0dGVyIH0gZnJvbSAnLi4vY29uZmlndXJhdGlvbidcbmltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSAnc3RyZWFtJ1xuaW1wb3J0IG9zIGZyb20gJ29zJ1xuaW1wb3J0ICogYXMgbWVzc2FnZXMgZnJvbSAnQGN1Y3VtYmVyL21lc3NhZ2VzJ1xuaW1wb3J0IHsgSWRHZW5lcmF0b3IgfSBmcm9tICdAY3VjdW1iZXIvbWVzc2FnZXMnXG5pbXBvcnQgZGV0ZWN0Q2lFbnZpcm9ubWVudCBmcm9tICdAY3VjdW1iZXIvY2ktZW52aXJvbm1lbnQnXG5pbXBvcnQgeyBJU3VwcG9ydENvZGVMaWJyYXJ5IH0gZnJvbSAnLi4vc3VwcG9ydF9jb2RlX2xpYnJhcnlfYnVpbGRlci90eXBlcydcbmltcG9ydCBUZXN0Q2FzZUhvb2tEZWZpbml0aW9uIGZyb20gJy4uL21vZGVscy90ZXN0X2Nhc2VfaG9va19kZWZpbml0aW9uJ1xuaW1wb3J0IFRlc3RSdW5Ib29rRGVmaW5pdGlvbiBmcm9tICcuLi9tb2RlbHMvdGVzdF9ydW5faG9va19kZWZpbml0aW9uJ1xuaW1wb3J0IHsgUGlja2xlT3JkZXIgfSBmcm9tICcuLi9tb2RlbHMvcGlja2xlX29yZGVyJ1xuaW1wb3J0IHsgYnVpbHRpblBhcmFtZXRlclR5cGVzIH0gZnJvbSAnLi4vc3VwcG9ydF9jb2RlX2xpYnJhcnlfYnVpbGRlcidcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uJ1xuaW1wb3J0IHsgSUxvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcidcblxuaW50ZXJmYWNlIElQYXJzZUdoZXJraW5NZXNzYWdlU3RyZWFtUmVxdWVzdCB7XG4gIGN3ZD86IHN0cmluZ1xuICBldmVudEJyb2FkY2FzdGVyOiBFdmVudEVtaXR0ZXJcbiAgZXZlbnREYXRhQ29sbGVjdG9yOiBFdmVudERhdGFDb2xsZWN0b3JcbiAgZ2hlcmtpbk1lc3NhZ2VTdHJlYW06IFJlYWRhYmxlXG4gIG9yZGVyOiBzdHJpbmdcbiAgcGlja2xlRmlsdGVyOiBQaWNrbGVGaWx0ZXJcbn1cblxuLyoqXG4gKiBQcm9jZXNzIGEgc3RyZWFtIG9mIGVudmVsb3BlcyBmcm9tIEdoZXJraW4gYW5kIHJlc29sdmUgdG8gYW4gYXJyYXkgb2YgZmlsdGVyZWQsIG9yZGVyZWQgcGlja2xlIElkc1xuICpcbiAqIEBwYXJhbSBldmVudEJyb2FkY2FzdGVyXG4gKiBAcGFyYW0gZXZlbnREYXRhQ29sbGVjdG9yXG4gKiBAcGFyYW0gZ2hlcmtpbk1lc3NhZ2VTdHJlYW1cbiAqIEBwYXJhbSBvcmRlclxuICogQHBhcmFtIHBpY2tsZUZpbHRlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VHaGVya2luTWVzc2FnZVN0cmVhbSh7XG4gIGV2ZW50QnJvYWRjYXN0ZXIsXG4gIGV2ZW50RGF0YUNvbGxlY3RvcixcbiAgZ2hlcmtpbk1lc3NhZ2VTdHJlYW0sXG4gIG9yZGVyLFxuICBwaWNrbGVGaWx0ZXIsXG59OiBJUGFyc2VHaGVya2luTWVzc2FnZVN0cmVhbVJlcXVlc3QpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxzdHJpbmdbXT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxuICAgIGdoZXJraW5NZXNzYWdlU3RyZWFtLm9uKCdkYXRhJywgKGVudmVsb3BlOiBtZXNzYWdlcy5FbnZlbG9wZSkgPT4ge1xuICAgICAgZXZlbnRCcm9hZGNhc3Rlci5lbWl0KCdlbnZlbG9wZScsIGVudmVsb3BlKVxuICAgICAgaWYgKGRvZXNIYXZlVmFsdWUoZW52ZWxvcGUucGlja2xlKSkge1xuICAgICAgICBjb25zdCBwaWNrbGUgPSBlbnZlbG9wZS5waWNrbGVcbiAgICAgICAgY29uc3QgcGlja2xlSWQgPSBwaWNrbGUuaWRcbiAgICAgICAgY29uc3QgZ2hlcmtpbkRvY3VtZW50ID0gZXZlbnREYXRhQ29sbGVjdG9yLmdldEdoZXJraW5Eb2N1bWVudChcbiAgICAgICAgICBwaWNrbGUudXJpXG4gICAgICAgIClcbiAgICAgICAgaWYgKHBpY2tsZUZpbHRlci5tYXRjaGVzKHsgZ2hlcmtpbkRvY3VtZW50LCBwaWNrbGUgfSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChwaWNrbGVJZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgZ2hlcmtpbk1lc3NhZ2VTdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIG9yZGVyUGlja2xlcyhyZXN1bHQsIG9yZGVyLCBjb25zb2xlKVxuICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgfSlcbiAgICBnaGVya2luTWVzc2FnZVN0cmVhbS5vbignZXJyb3InLCByZWplY3QpXG4gIH0pXG59XG5cbi8vIE9yZGVycyB0aGUgcGlja2xlSWRzIGluIHBsYWNlIC0gbW9ycGhzIGlucHV0XG5leHBvcnQgZnVuY3Rpb24gb3JkZXJQaWNrbGVzPFQgPSBzdHJpbmc+KFxuICBwaWNrbGVJZHM6IFRbXSxcbiAgb3JkZXI6IFBpY2tsZU9yZGVyLFxuICBsb2dnZXI6IElMb2dnZXJcbik6IHZvaWQge1xuICBjb25zdCBbdHlwZSwgc2VlZF0gPSBPcHRpb25TcGxpdHRlci5zcGxpdChvcmRlcilcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnZGVmaW5lZCc6XG4gICAgICBicmVha1xuICAgIGNhc2UgJ3JhbmRvbSc6XG4gICAgICBpZiAoc2VlZCA9PT0gJycpIHtcbiAgICAgICAgY29uc3QgbmV3U2VlZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAgKiAxMDAwKS50b1N0cmluZygpXG4gICAgICAgIGxvZ2dlci53YXJuKGBSYW5kb20gb3JkZXIgdXNpbmcgc2VlZDogJHtuZXdTZWVkfWApXG4gICAgICAgIHNodWZmbGUocGlja2xlSWRzLCBuZXdTZWVkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2h1ZmZsZShwaWNrbGVJZHMsIHNlZWQpXG4gICAgICB9XG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbnJlY2dvbml6ZWQgb3JkZXIgdHlwZS4gU2hvdWxkIGJlIGBkZWZpbmVkYCBvciBgcmFuZG9tYCdcbiAgICAgIClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1pdE1ldGFNZXNzYWdlKFxuICBldmVudEJyb2FkY2FzdGVyOiBFdmVudEVtaXR0ZXIsXG4gIGVudjogTm9kZUpTLlByb2Nlc3NFbnZcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBtZXRhOiBtZXNzYWdlcy5NZXRhID0ge1xuICAgIHByb3RvY29sVmVyc2lvbjogbWVzc2FnZXMudmVyc2lvbixcbiAgICBpbXBsZW1lbnRhdGlvbjoge1xuICAgICAgdmVyc2lvbixcbiAgICAgIG5hbWU6ICdjdWN1bWJlci1qcycsXG4gICAgfSxcbiAgICBjcHU6IHtcbiAgICAgIG5hbWU6IG9zLmFyY2goKSxcbiAgICB9LFxuICAgIG9zOiB7XG4gICAgICBuYW1lOiBvcy5wbGF0Zm9ybSgpLFxuICAgICAgdmVyc2lvbjogb3MucmVsZWFzZSgpLFxuICAgIH0sXG4gICAgcnVudGltZToge1xuICAgICAgbmFtZTogJ25vZGUuanMnLFxuICAgICAgdmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLFxuICAgIH0sXG4gICAgY2k6IGRldGVjdENpRW52aXJvbm1lbnQoZW52KSxcbiAgfVxuICBldmVudEJyb2FkY2FzdGVyLmVtaXQoJ2VudmVsb3BlJywge1xuICAgIG1ldGEsXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGVtaXRQYXJhbWV0ZXJUeXBlcyhcbiAgc3VwcG9ydENvZGVMaWJyYXJ5OiBJU3VwcG9ydENvZGVMaWJyYXJ5LFxuICBldmVudEJyb2FkY2FzdGVyOiBFdmVudEVtaXR0ZXIsXG4gIG5ld0lkOiBJZEdlbmVyYXRvci5OZXdJZFxuKTogdm9pZCB7XG4gIGZvciAoY29uc3QgcGFyYW1ldGVyVHlwZSBvZiBzdXBwb3J0Q29kZUxpYnJhcnkucGFyYW1ldGVyVHlwZVJlZ2lzdHJ5XG4gICAgLnBhcmFtZXRlclR5cGVzKSB7XG4gICAgaWYgKGJ1aWx0aW5QYXJhbWV0ZXJUeXBlcy5pbmNsdWRlcyhwYXJhbWV0ZXJUeXBlLm5hbWUpKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBjb25zdCBlbnZlbG9wZTogbWVzc2FnZXMuRW52ZWxvcGUgPSB7XG4gICAgICBwYXJhbWV0ZXJUeXBlOiB7XG4gICAgICAgIGlkOiBuZXdJZCgpLFxuICAgICAgICBuYW1lOiBwYXJhbWV0ZXJUeXBlLm5hbWUsXG4gICAgICAgIHByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2g6IHBhcmFtZXRlclR5cGUucHJlZmVyRm9yUmVnZXhwTWF0Y2gsXG4gICAgICAgIHJlZ3VsYXJFeHByZXNzaW9uczogcGFyYW1ldGVyVHlwZS5yZWdleHBTdHJpbmdzLFxuICAgICAgICB1c2VGb3JTbmlwcGV0czogcGFyYW1ldGVyVHlwZS51c2VGb3JTbmlwcGV0cyxcbiAgICAgIH0sXG4gICAgfVxuICAgIGV2ZW50QnJvYWRjYXN0ZXIuZW1pdCgnZW52ZWxvcGUnLCBlbnZlbG9wZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0VW5kZWZpbmVkUGFyYW1ldGVyVHlwZXMoXG4gIHN1cHBvcnRDb2RlTGlicmFyeTogSVN1cHBvcnRDb2RlTGlicmFyeSxcbiAgZXZlbnRCcm9hZGNhc3RlcjogRXZlbnRFbWl0dGVyXG4pOiB2b2lkIHtcbiAgZm9yIChjb25zdCB1bmRlZmluZWRQYXJhbWV0ZXJUeXBlIG9mIHN1cHBvcnRDb2RlTGlicmFyeS51bmRlZmluZWRQYXJhbWV0ZXJUeXBlcykge1xuICAgIGNvbnN0IGVudmVsb3BlOiBtZXNzYWdlcy5FbnZlbG9wZSA9IHtcbiAgICAgIHVuZGVmaW5lZFBhcmFtZXRlclR5cGUsXG4gICAgfVxuICAgIGV2ZW50QnJvYWRjYXN0ZXIuZW1pdCgnZW52ZWxvcGUnLCBlbnZlbG9wZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0U3RlcERlZmluaXRpb25zKFxuICBzdXBwb3J0Q29kZUxpYnJhcnk6IElTdXBwb3J0Q29kZUxpYnJhcnksXG4gIGV2ZW50QnJvYWRjYXN0ZXI6IEV2ZW50RW1pdHRlclxuKTogdm9pZCB7XG4gIHN1cHBvcnRDb2RlTGlicmFyeS5zdGVwRGVmaW5pdGlvbnMuZm9yRWFjaCgoc3RlcERlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBlbnZlbG9wZTogbWVzc2FnZXMuRW52ZWxvcGUgPSB7XG4gICAgICBzdGVwRGVmaW5pdGlvbjoge1xuICAgICAgICBpZDogc3RlcERlZmluaXRpb24uaWQsXG4gICAgICAgIHBhdHRlcm46IHtcbiAgICAgICAgICBzb3VyY2U6IHN0ZXBEZWZpbml0aW9uLnBhdHRlcm4udG9TdHJpbmcoKSxcbiAgICAgICAgICB0eXBlOlxuICAgICAgICAgICAgdHlwZW9mIHN0ZXBEZWZpbml0aW9uLnBhdHRlcm4gPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgID8gbWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJuVHlwZS5DVUNVTUJFUl9FWFBSRVNTSU9OXG4gICAgICAgICAgICAgIDogbWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJuVHlwZS5SRUdVTEFSX0VYUFJFU1NJT04sXG4gICAgICAgIH0sXG4gICAgICAgIHNvdXJjZVJlZmVyZW5jZToge1xuICAgICAgICAgIHVyaTogc3RlcERlZmluaXRpb24udXJpLFxuICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICBsaW5lOiBzdGVwRGVmaW5pdGlvbi5saW5lLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgICBldmVudEJyb2FkY2FzdGVyLmVtaXQoJ2VudmVsb3BlJywgZW52ZWxvcGUpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGVtaXRUZXN0Q2FzZUhvb2tzKFxuICBzdXBwb3J0Q29kZUxpYnJhcnk6IElTdXBwb3J0Q29kZUxpYnJhcnksXG4gIGV2ZW50QnJvYWRjYXN0ZXI6IEV2ZW50RW1pdHRlclxuKTogdm9pZCB7XG4gIDtbXVxuICAgIC5jb25jYXQoXG4gICAgICBzdXBwb3J0Q29kZUxpYnJhcnkuYmVmb3JlVGVzdENhc2VIb29rRGVmaW5pdGlvbnMsXG4gICAgICBzdXBwb3J0Q29kZUxpYnJhcnkuYWZ0ZXJUZXN0Q2FzZUhvb2tEZWZpbml0aW9uc1xuICAgIClcbiAgICAuZm9yRWFjaCgodGVzdENhc2VIb29rRGVmaW5pdGlvbjogVGVzdENhc2VIb29rRGVmaW5pdGlvbikgPT4ge1xuICAgICAgY29uc3QgZW52ZWxvcGU6IG1lc3NhZ2VzLkVudmVsb3BlID0ge1xuICAgICAgICBob29rOiB7XG4gICAgICAgICAgaWQ6IHRlc3RDYXNlSG9va0RlZmluaXRpb24uaWQsXG4gICAgICAgICAgbmFtZTogdGVzdENhc2VIb29rRGVmaW5pdGlvbi5uYW1lLFxuICAgICAgICAgIHRhZ0V4cHJlc3Npb246IHRlc3RDYXNlSG9va0RlZmluaXRpb24udGFnRXhwcmVzc2lvbixcbiAgICAgICAgICBzb3VyY2VSZWZlcmVuY2U6IHtcbiAgICAgICAgICAgIHVyaTogdGVzdENhc2VIb29rRGVmaW5pdGlvbi51cmksXG4gICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICBsaW5lOiB0ZXN0Q2FzZUhvb2tEZWZpbml0aW9uLmxpbmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICBldmVudEJyb2FkY2FzdGVyLmVtaXQoJ2VudmVsb3BlJywgZW52ZWxvcGUpXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZW1pdFRlc3RSdW5Ib29rcyhcbiAgc3VwcG9ydENvZGVMaWJyYXJ5OiBJU3VwcG9ydENvZGVMaWJyYXJ5LFxuICBldmVudEJyb2FkY2FzdGVyOiBFdmVudEVtaXR0ZXJcbik6IHZvaWQge1xuICA7W11cbiAgICAuY29uY2F0KFxuICAgICAgc3VwcG9ydENvZGVMaWJyYXJ5LmJlZm9yZVRlc3RSdW5Ib29rRGVmaW5pdGlvbnMsXG4gICAgICBzdXBwb3J0Q29kZUxpYnJhcnkuYWZ0ZXJUZXN0UnVuSG9va0RlZmluaXRpb25zXG4gICAgKVxuICAgIC5mb3JFYWNoKCh0ZXN0UnVuSG9va0RlZmluaXRpb246IFRlc3RSdW5Ib29rRGVmaW5pdGlvbikgPT4ge1xuICAgICAgY29uc3QgZW52ZWxvcGU6IG1lc3NhZ2VzLkVudmVsb3BlID0ge1xuICAgICAgICBob29rOiB7XG4gICAgICAgICAgaWQ6IHRlc3RSdW5Ib29rRGVmaW5pdGlvbi5pZCxcbiAgICAgICAgICBzb3VyY2VSZWZlcmVuY2U6IHtcbiAgICAgICAgICAgIHVyaTogdGVzdFJ1bkhvb2tEZWZpbml0aW9uLnVyaSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgIGxpbmU6IHRlc3RSdW5Ib29rRGVmaW5pdGlvbi5saW5lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICAgZXZlbnRCcm9hZGNhc3Rlci5lbWl0KCdlbnZlbG9wZScsIGVudmVsb3BlKVxuICAgIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0U3VwcG9ydENvZGVNZXNzYWdlcyh7XG4gIGV2ZW50QnJvYWRjYXN0ZXIsXG4gIHN1cHBvcnRDb2RlTGlicmFyeSxcbiAgbmV3SWQsXG59OiB7XG4gIGV2ZW50QnJvYWRjYXN0ZXI6IEV2ZW50RW1pdHRlclxuICBzdXBwb3J0Q29kZUxpYnJhcnk6IElTdXBwb3J0Q29kZUxpYnJhcnlcbiAgbmV3SWQ6IElkR2VuZXJhdG9yLk5ld0lkXG59KTogdm9pZCB7XG4gIGVtaXRQYXJhbWV0ZXJUeXBlcyhzdXBwb3J0Q29kZUxpYnJhcnksIGV2ZW50QnJvYWRjYXN0ZXIsIG5ld0lkKVxuICBlbWl0VW5kZWZpbmVkUGFyYW1ldGVyVHlwZXMoc3VwcG9ydENvZGVMaWJyYXJ5LCBldmVudEJyb2FkY2FzdGVyKVxuICBlbWl0U3RlcERlZmluaXRpb25zKHN1cHBvcnRDb2RlTGlicmFyeSwgZXZlbnRCcm9hZGNhc3RlcilcbiAgZW1pdFRlc3RDYXNlSG9va3Moc3VwcG9ydENvZGVMaWJyYXJ5LCBldmVudEJyb2FkY2FzdGVyKVxuICBlbWl0VGVzdFJ1bkhvb2tzKHN1cHBvcnRDb2RlTGlicmFyeSwgZXZlbnRCcm9hZGNhc3Rlcilcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBQUEsc0JBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBSUEsTUFBQUMsZUFBQSxHQUFBRCxPQUFBO0FBQ0EsTUFBQUUsZUFBQSxHQUFBRixPQUFBO0FBRUEsTUFBQUcsSUFBQSxHQUFBSixlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBSSxRQUFBLEdBQUFDLFlBQUEsQ0FBQUwsT0FBQTtBQUVBLE1BQUFNLGdCQUFBLEdBQUFQLGVBQUEsQ0FBQUMsT0FBQTtBQUtBLE1BQUFPLDhCQUFBLEdBQUFQLE9BQUE7QUFDQSxNQUFBUSxTQUFBLEdBQUFSLE9BQUE7QUFZQTs7Ozs7Ozs7O0FBU08sZUFBZVMseUJBQXlCQSxDQUFDO0VBQzlDQyxnQkFBZ0I7RUFDaEJDLGtCQUFrQjtFQUNsQkMsb0JBQW9CO0VBQ3BCQyxLQUFLO0VBQ0xDO0FBQVksQ0FDc0I7RUFDbEMsT0FBTyxNQUFNLElBQUlDLE9BQU8sQ0FBVyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSTtJQUNyRCxNQUFNQyxNQUFNLEdBQWEsRUFBRTtJQUMzQk4sb0JBQW9CLENBQUNPLEVBQUUsQ0FBQyxNQUFNLEVBQUdDLFFBQTJCLElBQUk7TUFDOURWLGdCQUFnQixDQUFDVyxJQUFJLENBQUMsVUFBVSxFQUFFRCxRQUFRLENBQUM7TUFDM0MsSUFBSSxJQUFBbkIsZUFBQSxDQUFBcUIsYUFBYSxFQUFDRixRQUFRLENBQUNHLE1BQU0sQ0FBQyxFQUFF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