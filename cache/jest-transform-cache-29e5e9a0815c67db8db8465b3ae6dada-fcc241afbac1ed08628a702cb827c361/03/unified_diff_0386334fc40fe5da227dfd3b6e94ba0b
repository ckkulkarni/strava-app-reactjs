0b5aa8de3aec691d8c6f8583348cbe89
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = unifiedDiff;
var _diff = require("diff");
function unifiedDiff(actual, expected, colorFns) {
  const indent = '    ';
  function cleanUp(line) {
    if (line.length === 0) {
      return '';
    }
    if (line[0] === '+') {
      return indent + colorFns.diffAdded(line);
    }
    if (line[0] === '-') {
      return indent + colorFns.diffRemoved(line);
    }
    if (line.match(/@@/)) {
      return null;
    }
    if (line.match(/\\ No newline/)) {
      return null;
    }
    return indent + line;
  }
  function notBlank(line) {
    return typeof line !== 'undefined' && line !== null;
  }
  const msg = (0, _diff.createPatch)('string', actual, expected);
  const lines = msg.split('\n').splice(4);
  return '\n' + indent + colorFns.diffAdded('+ expected') + ' ' + colorFns.diffRemoved('- actual') + '\n\n' + lines.map(cleanUp).filter(notBlank).join('\n');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJ1bmlmaWVkRGlmZiIsIl9kaWZmIiwicmVxdWlyZSIsImFjdHVhbCIsImV4cGVjdGVkIiwiY29sb3JGbnMiLCJpbmRlbnQiLCJjbGVhblVwIiwibGluZSIsImxlbmd0aCIsImRpZmZBZGRlZCIsImRpZmZSZW1vdmVkIiwibWF0Y2giLCJub3RCbGFuayIsIm1zZyIsImNyZWF0ZVBhdGNoIiwibGluZXMiLCJzcGxpdCIsInNwbGljZSIsIm1hcCIsImZpbHRlciIsImpvaW4iXSwic291cmNlcyI6WyJ1bmlmaWVkX2RpZmYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO2V4cG9ydHMuZGVmYXVsdCA9IHVuaWZpZWREaWZmO3ZhciBfZGlmZiA9IHJlcXVpcmUoXCJkaWZmXCIpO1xuXG5mdW5jdGlvbiB1bmlmaWVkRGlmZihhY3R1YWwsIGV4cGVjdGVkLCBjb2xvckZucykge1xuICBjb25zdCBpbmRlbnQgPSAnICAgICc7XG4gIGZ1bmN0aW9uIGNsZWFuVXAobGluZSkge1xuICAgIGlmIChsaW5lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBpZiAobGluZVswXSA9PT0gJysnKSB7XG4gICAgICByZXR1cm4gaW5kZW50ICsgY29sb3JGbnMuZGlmZkFkZGVkKGxpbmUpO1xuICAgIH1cbiAgICBpZiAobGluZVswXSA9PT0gJy0nKSB7XG4gICAgICByZXR1cm4gaW5kZW50ICsgY29sb3JGbnMuZGlmZlJlbW92ZWQobGluZSk7XG4gICAgfVxuICAgIGlmIChsaW5lLm1hdGNoKC9AQC8pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGxpbmUubWF0Y2goL1xcXFwgTm8gbmV3bGluZS8pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGluZGVudCArIGxpbmU7XG4gIH1cbiAgZnVuY3Rpb24gbm90QmxhbmsobGluZSkge1xuICAgIHJldHVybiB0eXBlb2YgbGluZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbGluZSAhPT0gbnVsbDtcbiAgfVxuICBjb25zdCBtc2cgPSAoMCwgX2RpZmYuY3JlYXRlUGF0Y2gpKCdzdHJpbmcnLCBhY3R1YWwsIGV4cGVjdGVkKTtcbiAgY29uc3QgbGluZXMgPSBtc2cuc3BsaXQoJ1xcbicpLnNwbGljZSg0KTtcbiAgcmV0dXJuIChcbiAgICAnXFxuJyArXG4gICAgaW5kZW50ICtcbiAgICBjb2xvckZucy5kaWZmQWRkZWQoJysgZXhwZWN0ZWQnKSArXG4gICAgJyAnICtcbiAgICBjb2xvckZucy5kaWZmUmVtb3ZlZCgnLSBhY3R1YWwnKSArXG4gICAgJ1xcblxcbicgK1xuICAgIGxpbmVzLlxuICAgIG1hcChjbGVhblVwKS5cbiAgICBmaWx0ZXIobm90QmxhbmspLlxuICAgIGpvaW4oJ1xcbicpKTtcblxufSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQ0EsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFBRUMsS0FBSyxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQUNELE9BQU8sQ0FBQ0UsT0FBTyxHQUFHQyxXQUFXO0FBQUMsSUFBSUMsS0FBSyxHQUFHQyxPQUFPLENBQUMsTUFBTSxDQUFDO0FBRXBJLFNBQVNGLFdBQVdBLENBQUNHLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUU7RUFDL0MsTUFBTUMsTUFBTSxHQUFHLE1BQU07RUFDckIsU0FBU0MsT0FBT0EsQ0FBQ0MsSUFBSSxFQUFFO0lBQ3JCLElBQUlBLElBQUksQ0FBQ0MsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUNyQixPQUFPLEVBQUU7SUFDWDtJQUNBLElBQUlELElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7TUFDbkIsT0FBT0YsTUFBTSxHQUFHRCxRQUFRLENBQUNLLFNBQVMsQ0FBQ0YsSUFBSSxDQUFDO0lBQzFDO0lBQ0EsSUFBSUEsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtNQUNuQixPQUFPRixNQUFNLEdBQUdELFFBQVEsQ0FBQ00sV0FBVyxDQUFDSCxJQUFJLENBQUM7SUFDNUM7SUFDQSxJQUFJQSxJQUFJLENBQUNJLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtNQUNwQixPQUFPLElBQUk7SUFDYjtJQUNBLElBQUlKLElBQUksQ0FBQ0ksS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFO01BQy9CLE9BQU8sSUFBSTtJQUNiO0lBQ0EsT0FBT04sTUFBTSxHQUFHRSxJQUFJO0VBQ3RCO0VBQ0EsU0FBU0ssUUFBUUEsQ0FBQ0wsSUFBSSxFQUFFO0lBQ3RCLE9BQU8sT0FBT0EsSUFBSSxLQUFLLFdBQVcsSUFBSUEsSUFBSSxLQUFLLElBQUk7RUFDckQ7RUFDQSxNQUFNTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUViLEtBQUssQ0FBQ2MsV0FBVyxFQUFFLFFBQVEsRUFBRVosTUFBTSxFQUFFQyxRQUFRLENBQUM7RUFDOUQsTUFBTVksS0FBSyxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQztFQUN2QyxPQUNFLElBQUksR0FDSlosTUFBTSxHQUNORCxRQUFRLENBQUNLLFNBQVMsQ0FBQyxZQUFZLENBQUMsR0FDaEMsR0FBRyxHQUNITCxRQUFRLENBQUNNLFdBQVcsQ0FBQyxVQUFVLENBQUMsR0FDaEMsTUFBTSxHQUNOSyxLQUFLLENBQ0xHLEdBQUcsQ0FBQ1osT0FBTyxDQUFDLENBQ1phLE1BQU0sQ0FBQ1AsUUFBUSxDQUFDLENBQ2hCUSxJQUFJLENBQUMsSUFBSSxDQUFDO0FBRWQifQ==