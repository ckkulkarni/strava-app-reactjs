13889e718cdcdc955711e3a66ba7e4a6
"use strict";

var ListCache = require('./_ListCache'),
  Map = require('./_Map'),
  MapCache = require('./_MapCache');

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}
module.exports = stackSet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMaXN0Q2FjaGUiLCJyZXF1aXJlIiwiTWFwIiwiTWFwQ2FjaGUiLCJMQVJHRV9BUlJBWV9TSVpFIiwic3RhY2tTZXQiLCJrZXkiLCJ2YWx1ZSIsImRhdGEiLCJfX2RhdGFfXyIsInBhaXJzIiwibGVuZ3RoIiwicHVzaCIsInNpemUiLCJzZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiX3N0YWNrU2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKSxcbiAgICBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrU2V0O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFNBQVMsR0FBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQztFQUNuQ0MsR0FBRyxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0VBQ3ZCRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxhQUFhLENBQUM7O0FBRXJDO0FBQ0EsSUFBSUcsZ0JBQWdCLEdBQUcsR0FBRzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTQyxRQUFRQSxDQUFDQyxHQUFHLEVBQUVDLEtBQUssRUFBRTtFQUM1QixJQUFJQyxJQUFJLEdBQUcsSUFBSSxDQUFDQyxRQUFRO0VBQ3hCLElBQUlELElBQUksWUFBWVIsU0FBUyxFQUFFO0lBQzdCLElBQUlVLEtBQUssR0FBR0YsSUFBSSxDQUFDQyxRQUFRO0lBQ3pCLElBQUksQ0FBQ1AsR0FBRyxJQUFLUSxLQUFLLENBQUNDLE1BQU0sR0FBR1AsZ0JBQWdCLEdBQUcsQ0FBRSxFQUFFO01BQ2pETSxLQUFLLENBQUNFLElBQUksQ0FBQyxDQUFDTixHQUFHLEVBQUVDLEtBQUssQ0FBQyxDQUFDO01BQ3hCLElBQUksQ0FBQ00sSUFBSSxHQUFHLEVBQUVMLElBQUksQ0FBQ0ssSUFBSTtNQUN2QixPQUFPLElBQUk7SUFDYjtJQUNBTCxJQUFJLEdBQUcsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSU4sUUFBUSxDQUFDTyxLQUFLLENBQUM7RUFDNUM7RUFDQUYsSUFBSSxDQUFDTSxHQUFHLENBQUNSLEdBQUcsRUFBRUMsS0FBSyxDQUFDO0VBQ3BCLElBQUksQ0FBQ00sSUFBSSxHQUFHTCxJQUFJLENBQUNLLElBQUk7RUFDckIsT0FBTyxJQUFJO0FBQ2I7QUFFQUUsTUFBTSxDQUFDQyxPQUFPLEdBQUdYLFFBQVEifQ==