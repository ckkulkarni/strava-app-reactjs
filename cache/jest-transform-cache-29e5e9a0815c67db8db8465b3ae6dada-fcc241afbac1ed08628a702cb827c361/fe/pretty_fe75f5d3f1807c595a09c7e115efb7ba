a7b376656c9b269fb0a458ec09058ca6
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.escapeCell = void 0;
const walkGherkinDocument_1 = require("./walkGherkinDocument");
function pretty(gherkinDocument, syntax = 'gherkin') {
  let scenarioLevel = 1;
  return (0, walkGherkinDocument_1.walkGherkinDocument)(gherkinDocument, '', {
    feature(feature, content) {
      return content.concat(prettyLanguageHeader(feature.language)).concat(prettyKeywordContainer(feature, syntax, 0));
    },
    rule(rule, content) {
      scenarioLevel = 2;
      return content.concat(prettyKeywordContainer(rule, syntax, 1));
    },
    background(background, content) {
      return content.concat(prettyKeywordContainer(background, syntax, scenarioLevel));
    },
    scenario(scenario, content) {
      return content.concat(prettyKeywordContainer(scenario, syntax, scenarioLevel));
    },
    examples(examples, content) {
      const tableRows = examples.tableHeader ? [examples.tableHeader, ...examples.tableBody] : [];
      return content.concat(prettyKeywordContainer(examples, syntax, scenarioLevel + 1)).concat(prettyTableRows(tableRows, syntax, scenarioLevel + 2));
    },
    step(step, content) {
      return content.concat(stepPrefix(scenarioLevel + 1, syntax)).concat(step.keyword).concat(step.text).concat('\n');
    },
    dataTable(dataTable, content) {
      const level = syntax === 'markdown' ? 1 : scenarioLevel + 2;
      return content.concat(prettyTableRows(dataTable.rows || [], syntax, level));
    },
    docString(docString, content) {
      const delimiter = makeDocStringDelimiter(syntax, docString);
      const level = syntax === 'markdown' ? 1 : scenarioLevel + 2;
      const indent = spaces(level);
      let docStringContent = docString.content.replace(/^/gm, indent);
      if (syntax === 'gherkin') {
        if (docString.delimiter === '"""') {
          docStringContent = docStringContent.replace(/"""/gm, '\\"\\"\\"');
        } else {
          docStringContent = docStringContent.replace(/```/gm, '\\`\\`\\`');
        }
      }
      return content.concat(indent).concat(delimiter).concat(docString.mediaType || '').concat('\n').concat(docStringContent).concat('\n').concat(indent).concat(delimiter).concat('\n');
    }
  });
}
exports.default = pretty;
function prettyLanguageHeader(language) {
  return language === 'en' ? '' : `# language: ${language}\n`;
}
function prettyKeywordContainer(stepContainer, syntax, level) {
  const tags = 'tags' in stepContainer ? stepContainer.tags : [];
  const stepCount = 'steps' in stepContainer ? stepContainer.steps.length : 0;
  const description = prettyDescription(stepContainer.description, syntax);
  return ''.concat(level === 0 ? '' : '\n').concat(prettyTags(tags, syntax, level)).concat(keywordPrefix(level, syntax)).concat(stepContainer.keyword).concat(': ').concat(stepContainer.name).concat('\n').concat(description).concat(description && stepCount > 0 ? '\n' : '');
}
function prettyDescription(description, syntax) {
  if (!description) return '';
  if (syntax === 'gherkin') return description + '\n';else return description.replace(/^\s*/gm, '') + '\n';
}
function prettyTags(tags, syntax, level) {
  if (tags === undefined || tags.length == 0) {
    return '';
  }
  const prefix = syntax === 'gherkin' ? spaces(level) : '';
  const tagQuote = syntax === 'gherkin' ? '' : '`';
  return prefix + tags.map(tag => `${tagQuote}${tag.name}${tagQuote}`).join(' ') + '\n';
}
function keywordPrefix(level, syntax) {
  if (syntax === 'markdown') {
    return new Array(level + 2).join('#') + ' ';
  } else {
    return spaces(level);
  }
}
function stepPrefix(level, syntax) {
  if (syntax === 'markdown') {
    return '* ';
  } else {
    return new Array(level + 1).join('  ');
  }
}
function spaces(level) {
  return new Array(level + 1).join('  ');
}
function makeDocStringDelimiter(syntax, docString) {
  if (syntax === 'gherkin') {
    return docString.delimiter.substring(0, 3);
  }
  // The length of the fenced code block delimiter is three backticks when the content inside doesn't have backticks.
  // If the content inside has three or more backticks, the number of backticks in the delimiter must be at least one more
  // https://github.github.com/gfm/#fenced-code-blocks
  const threeOrMoreBackticks = /(```+)/g;
  let maxContentBackTickCount = 2;
  let match;
  do {
    match = threeOrMoreBackticks.exec(docString.content);
    if (match) {
      maxContentBackTickCount = Math.max(maxContentBackTickCount, match[1].length);
    }
  } while (match);
  // Return a delimiter with one more backtick than the max number of backticks in the contents (3 ny default)
  return new Array(maxContentBackTickCount + 2).join('`');
}
function prettyTableRows(tableRows, syntax, level) {
  if (tableRows.length === 0) return '';
  const maxWidths = new Array(tableRows[0].cells.length).fill(0);
  tableRows.forEach(tableRow => {
    tableRow.cells.forEach((tableCell, j) => {
      maxWidths[j] = Math.max(maxWidths[j], escapeCell(tableCell.value).length);
    });
  });
  let n = 0;
  let s = '';
  for (const row of tableRows) {
    s += prettyTableRow(row, level, maxWidths, syntax);
    if (n === 0 && syntax === 'markdown') {
      const separatorRow = {
        location: row.location,
        id: row.id + '-separator',
        cells: row.cells.map((cell, j) => ({
          location: cell.location,
          value: new Array(maxWidths[j] + 1).join('-')
        }))
      };
      s += prettyTableRow(separatorRow, level, maxWidths, syntax);
    }
    n++;
  }
  return s;
}
function prettyTableRow(row, level, maxWidths, syntax) {
  const actualLevel = syntax === 'markdown' ? 1 : level;
  return `${spaces(actualLevel)}| ${row.cells.map((cell, j) => {
    const escapedCellValue = escapeCell(cell.value);
    const spaceCount = maxWidths[j] - escapedCellValue.length;
    const spaces = new Array(spaceCount + 1).join(' ');
    return isNumeric(escapedCellValue) ? spaces + escapedCellValue : escapedCellValue + spaces;
  }).join(' | ')} |\n`;
}
function escapeCell(s) {
  let e = '';
  const characters = s.split('');
  for (const c of characters) {
    switch (c) {
      case '\\':
        e += '\\\\';
        break;
      case '\n':
        e += '\\n';
        break;
      case '|':
        e += '\\|';
        break;
      default:
        e += c;
    }
  }
  return e;
}
exports.escapeCell = escapeCell;
function isNumeric(s) {
  return !isNaN(parseFloat(s));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3YWxrR2hlcmtpbkRvY3VtZW50XzEiLCJyZXF1aXJlIiwicHJldHR5IiwiZ2hlcmtpbkRvY3VtZW50Iiwic3ludGF4Iiwic2NlbmFyaW9MZXZlbCIsIndhbGtHaGVya2luRG9jdW1lbnQiLCJmZWF0dXJlIiwiY29udGVudCIsImNvbmNhdCIsInByZXR0eUxhbmd1YWdlSGVhZGVyIiwibGFuZ3VhZ2UiLCJwcmV0dHlLZXl3b3JkQ29udGFpbmVyIiwicnVsZSIsImJhY2tncm91bmQiLCJzY2VuYXJpbyIsImV4YW1wbGVzIiwidGFibGVSb3dzIiwidGFibGVIZWFkZXIiLCJ0YWJsZUJvZHkiLCJwcmV0dHlUYWJsZVJvd3MiLCJzdGVwIiwic3RlcFByZWZpeCIsImtleXdvcmQiLCJ0ZXh0IiwiZGF0YVRhYmxlIiwibGV2ZWwiLCJyb3dzIiwiZG9jU3RyaW5nIiwiZGVsaW1pdGVyIiwibWFrZURvY1N0cmluZ0RlbGltaXRlciIsImluZGVudCIsInNwYWNlcyIsImRvY1N0cmluZ0NvbnRlbnQiLCJyZXBsYWNlIiwibWVkaWFUeXBlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJzdGVwQ29udGFpbmVyIiwidGFncyIsInN0ZXBDb3VudCIsInN0ZXBzIiwibGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJwcmV0dHlEZXNjcmlwdGlvbiIsInByZXR0eVRhZ3MiLCJrZXl3b3JkUHJlZml4IiwibmFtZSIsInVuZGVmaW5lZCIsInByZWZpeCIsInRhZ1F1b3RlIiwibWFwIiwidGFnIiwiam9pbiIsIkFycmF5Iiwic3Vic3RyaW5nIiwidGhyZWVPck1vcmVCYWNrdGlja3MiLCJtYXhDb250ZW50QmFja1RpY2tDb3VudCIsIm1hdGNoIiwiZXhlYyIsIk1hdGgiLCJtYXgiLCJtYXhXaWR0aHMiLCJjZWxscyIsImZpbGwiLCJmb3JFYWNoIiwidGFibGVSb3ciLCJ0YWJsZUNlbGwiLCJqIiwiZXNjYXBlQ2VsbCIsInZhbHVlIiwibiIsInMiLCJyb3ciLCJwcmV0dHlUYWJsZVJvdyIsInNlcGFyYXRvclJvdyIsImxvY2F0aW9uIiwiaWQiLCJjZWxsIiwiYWN0dWFsTGV2ZWwiLCJlc2NhcGVkQ2VsbFZhbHVlIiwic3BhY2VDb3VudCIsImlzTnVtZXJpYyIsImUiLCJjaGFyYWN0ZXJzIiwic3BsaXQiLCJjIiwiaXNOYU4iLCJwYXJzZUZsb2F0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3ByZXR0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tICdAY3VjdW1iZXIvbWVzc2FnZXMnXG5pbXBvcnQgeyB3YWxrR2hlcmtpbkRvY3VtZW50IH0gZnJvbSAnLi93YWxrR2hlcmtpbkRvY3VtZW50J1xuXG5leHBvcnQgdHlwZSBTeW50YXggPSAnbWFya2Rvd24nIHwgJ2doZXJraW4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZXR0eShcbiAgZ2hlcmtpbkRvY3VtZW50OiBtZXNzYWdlcy5HaGVya2luRG9jdW1lbnQsXG4gIHN5bnRheDogU3ludGF4ID0gJ2doZXJraW4nXG4pOiBzdHJpbmcge1xuICBsZXQgc2NlbmFyaW9MZXZlbCA9IDFcbiAgcmV0dXJuIHdhbGtHaGVya2luRG9jdW1lbnQ8c3RyaW5nPihnaGVya2luRG9jdW1lbnQsICcnLCB7XG4gICAgZmVhdHVyZShmZWF0dXJlLCBjb250ZW50KSB7XG4gICAgICByZXR1cm4gY29udGVudFxuICAgICAgICAuY29uY2F0KHByZXR0eUxhbmd1YWdlSGVhZGVyKGZlYXR1cmUubGFuZ3VhZ2UpKVxuICAgICAgICAuY29uY2F0KHByZXR0eUtleXdvcmRDb250YWluZXIoZmVhdHVyZSwgc3ludGF4LCAwKSlcbiAgICB9LFxuICAgIHJ1bGUocnVsZSwgY29udGVudCkge1xuICAgICAgc2NlbmFyaW9MZXZlbCA9IDJcbiAgICAgIHJldHVybiBjb250ZW50LmNvbmNhdChwcmV0dHlLZXl3b3JkQ29udGFpbmVyKHJ1bGUsIHN5bnRheCwgMSkpXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kKGJhY2tncm91bmQsIGNvbnRlbnQpIHtcbiAgICAgIHJldHVybiBjb250ZW50LmNvbmNhdChwcmV0dHlLZXl3b3JkQ29udGFpbmVyKGJhY2tncm91bmQsIHN5bnRheCwgc2NlbmFyaW9MZXZlbCkpXG4gICAgfSxcbiAgICBzY2VuYXJpbyhzY2VuYXJpbywgY29udGVudCkge1xuICAgICAgcmV0dXJuIGNvbnRlbnQuY29uY2F0KHByZXR0eUtleXdvcmRDb250YWluZXIoc2NlbmFyaW8sIHN5bnRheCwgc2NlbmFyaW9MZXZlbCkpXG4gICAgfSxcbiAgICBleGFtcGxlcyhleGFtcGxlcywgY29udGVudCkge1xuICAgICAgY29uc3QgdGFibGVSb3dzID0gZXhhbXBsZXMudGFibGVIZWFkZXIgPyBbZXhhbXBsZXMudGFibGVIZWFkZXIsIC4uLmV4YW1wbGVzLnRhYmxlQm9keV0gOiBbXVxuICAgICAgcmV0dXJuIGNvbnRlbnRcbiAgICAgICAgLmNvbmNhdChwcmV0dHlLZXl3b3JkQ29udGFpbmVyKGV4YW1wbGVzLCBzeW50YXgsIHNjZW5hcmlvTGV2ZWwgKyAxKSlcbiAgICAgICAgLmNvbmNhdChwcmV0dHlUYWJsZVJvd3ModGFibGVSb3dzLCBzeW50YXgsIHNjZW5hcmlvTGV2ZWwgKyAyKSlcbiAgICB9LFxuICAgIHN0ZXAoc3RlcCwgY29udGVudCkge1xuICAgICAgcmV0dXJuIGNvbnRlbnRcbiAgICAgICAgLmNvbmNhdChzdGVwUHJlZml4KHNjZW5hcmlvTGV2ZWwgKyAxLCBzeW50YXgpKVxuICAgICAgICAuY29uY2F0KHN0ZXAua2V5d29yZClcbiAgICAgICAgLmNvbmNhdChzdGVwLnRleHQpXG4gICAgICAgIC5jb25jYXQoJ1xcbicpXG4gICAgfSxcbiAgICBkYXRhVGFibGUoZGF0YVRhYmxlLCBjb250ZW50KSB7XG4gICAgICBjb25zdCBsZXZlbCA9IHN5bnRheCA9PT0gJ21hcmtkb3duJyA/IDEgOiBzY2VuYXJpb0xldmVsICsgMlxuICAgICAgcmV0dXJuIGNvbnRlbnQuY29uY2F0KHByZXR0eVRhYmxlUm93cyhkYXRhVGFibGUucm93cyB8fCBbXSwgc3ludGF4LCBsZXZlbCkpXG4gICAgfSxcbiAgICBkb2NTdHJpbmcoZG9jU3RyaW5nLCBjb250ZW50KSB7XG4gICAgICBjb25zdCBkZWxpbWl0ZXIgPSBtYWtlRG9jU3RyaW5nRGVsaW1pdGVyKHN5bnRheCwgZG9jU3RyaW5nKVxuICAgICAgY29uc3QgbGV2ZWwgPSBzeW50YXggPT09ICdtYXJrZG93bicgPyAxIDogc2NlbmFyaW9MZXZlbCArIDJcbiAgICAgIGNvbnN0IGluZGVudCA9IHNwYWNlcyhsZXZlbClcbiAgICAgIGxldCBkb2NTdHJpbmdDb250ZW50ID0gZG9jU3RyaW5nLmNvbnRlbnQucmVwbGFjZSgvXi9nbSwgaW5kZW50KVxuICAgICAgaWYgKHN5bnRheCA9PT0gJ2doZXJraW4nKSB7XG4gICAgICAgIGlmIChkb2NTdHJpbmcuZGVsaW1pdGVyID09PSAnXCJcIlwiJykge1xuICAgICAgICAgIGRvY1N0cmluZ0NvbnRlbnQgPSBkb2NTdHJpbmdDb250ZW50LnJlcGxhY2UoL1wiXCJcIi9nbSwgJ1xcXFxcIlxcXFxcIlxcXFxcIicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jU3RyaW5nQ29udGVudCA9IGRvY1N0cmluZ0NvbnRlbnQucmVwbGFjZSgvYGBgL2dtLCAnXFxcXGBcXFxcYFxcXFxgJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnRcbiAgICAgICAgLmNvbmNhdChpbmRlbnQpXG4gICAgICAgIC5jb25jYXQoZGVsaW1pdGVyKVxuICAgICAgICAuY29uY2F0KGRvY1N0cmluZy5tZWRpYVR5cGUgfHwgJycpXG4gICAgICAgIC5jb25jYXQoJ1xcbicpXG4gICAgICAgIC5jb25jYXQoZG9jU3RyaW5nQ29udGVudClcbiAgICAgICAgLmNvbmNhdCgnXFxuJylcbiAgICAgICAgLmNvbmNhdChpbmRlbnQpXG4gICAgICAgIC5jb25jYXQoZGVsaW1pdGVyKVxuICAgICAgICAuY29uY2F0KCdcXG4nKVxuICAgIH0sXG4gIH0pXG59XG5cbmZ1bmN0aW9uIHByZXR0eUxhbmd1YWdlSGVhZGVyKGxhbmd1YWdlOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuICByZXR1cm4gbGFuZ3VhZ2UgPT09ICdlbicgPyAnJyA6IGAjIGxhbmd1YWdlOiAke2xhbmd1YWdlfVxcbmBcbn1cblxuZnVuY3Rpb24gcHJldHR5S2V5d29yZENvbnRhaW5lcihcbiAgc3RlcENvbnRhaW5lcjpcbiAgICB8IG1lc3NhZ2VzLkZlYXR1cmVcbiAgICB8IG1lc3NhZ2VzLlNjZW5hcmlvXG4gICAgfCBtZXNzYWdlcy5SdWxlXG4gICAgfCBtZXNzYWdlcy5FeGFtcGxlc1xuICAgIHwgbWVzc2FnZXMuQmFja2dyb3VuZCxcbiAgc3ludGF4OiBTeW50YXgsXG4gIGxldmVsOiBudW1iZXJcbik6IHN0cmluZyB7XG4gIGNvbnN0IHRhZ3M6IHJlYWRvbmx5IG1lc3NhZ2VzLlRhZ1tdID0gJ3RhZ3MnIGluIHN0ZXBDb250YWluZXIgPyBzdGVwQ29udGFpbmVyLnRhZ3MgOiBbXVxuICBjb25zdCBzdGVwQ291bnQgPSAnc3RlcHMnIGluIHN0ZXBDb250YWluZXIgPyBzdGVwQ29udGFpbmVyLnN0ZXBzLmxlbmd0aCA6IDBcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBwcmV0dHlEZXNjcmlwdGlvbihzdGVwQ29udGFpbmVyLmRlc2NyaXB0aW9uLCBzeW50YXgpXG5cbiAgcmV0dXJuICcnXG4gICAgLmNvbmNhdChsZXZlbCA9PT0gMCA/ICcnIDogJ1xcbicpXG4gICAgLmNvbmNhdChwcmV0dHlUYWdzKHRhZ3MsIHN5bnRheCwgbGV2ZWwpKVxuICAgIC5jb25jYXQoa2V5d29yZFByZWZpeChsZXZlbCwgc3ludGF4KSlcbiAgICAuY29uY2F0KHN0ZXBDb250YWluZXIua2V5d29yZClcbiAgICAuY29uY2F0KCc6ICcpXG4gICAgLmNvbmNhdChzdGVwQ29udGFpbmVyLm5hbWUpXG4gICAgLmNvbmNhdCgnXFxuJylcbiAgICAuY29uY2F0KGRlc2NyaXB0aW9uKVxuICAgIC5jb25jYXQoZGVzY3JpcHRpb24gJiYgc3RlcENvdW50ID4gMCA/ICdcXG4nIDogJycpXG59XG5cbmZ1bmN0aW9uIHByZXR0eURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcsIHN5bnRheDogU3ludGF4KTogc3RyaW5nIHtcbiAgaWYgKCFkZXNjcmlwdGlvbikgcmV0dXJuICcnXG4gIGlmIChzeW50YXggPT09ICdnaGVya2luJykgcmV0dXJuIGRlc2NyaXB0aW9uICsgJ1xcbidcbiAgZWxzZSByZXR1cm4gZGVzY3JpcHRpb24ucmVwbGFjZSgvXlxccyovZ20sICcnKSArICdcXG4nXG59XG5cbmZ1bmN0aW9uIHByZXR0eVRhZ3ModGFnczogcmVhZG9ubHkgbWVzc2FnZXMuVGFnW10sIHN5bnRheDogU3ludGF4LCBsZXZlbDogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKHRhZ3MgPT09IHVuZGVmaW5lZCB8fCB0YWdzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cbiAgY29uc3QgcHJlZml4ID0gc3ludGF4ID09PSAnZ2hlcmtpbicgPyBzcGFjZXMobGV2ZWwpIDogJydcbiAgY29uc3QgdGFnUXVvdGUgPSBzeW50YXggPT09ICdnaGVya2luJyA/ICcnIDogJ2AnXG4gIHJldHVybiBwcmVmaXggKyB0YWdzLm1hcCgodGFnKSA9PiBgJHt0YWdRdW90ZX0ke3RhZy5uYW1lfSR7dGFnUXVvdGV9YCkuam9pbignICcpICsgJ1xcbidcbn1cblxuZnVuY3Rpb24ga2V5d29yZFByZWZpeChsZXZlbDogbnVtYmVyLCBzeW50YXg6IFN5bnRheCk6IHN0cmluZyB7XG4gIGlmIChzeW50YXggPT09ICdtYXJrZG93bicpIHtcbiAgICByZXR1cm4gbmV3IEFycmF5KGxldmVsICsgMikuam9pbignIycpICsgJyAnXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNwYWNlcyhsZXZlbClcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGVwUHJlZml4KGxldmVsOiBudW1iZXIsIHN5bnRheDogU3ludGF4KTogc3RyaW5nIHtcbiAgaWYgKHN5bnRheCA9PT0gJ21hcmtkb3duJykge1xuICAgIHJldHVybiAnKiAnXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheShsZXZlbCArIDEpLmpvaW4oJyAgJylcbiAgfVxufVxuXG5mdW5jdGlvbiBzcGFjZXMobGV2ZWw6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgQXJyYXkobGV2ZWwgKyAxKS5qb2luKCcgICcpXG59XG5cbmZ1bmN0aW9uIG1ha2VEb2NTdHJpbmdEZWxpbWl0ZXIoc3ludGF4OiBTeW50YXgsIGRvY1N0cmluZzogbWVzc2FnZXMuRG9jU3RyaW5nKSB7XG4gIGlmIChzeW50YXggPT09ICdnaGVya2luJykge1xuICAgIHJldHVybiBkb2NTdHJpbmcuZGVsaW1pdGVyLnN1YnN0cmluZygwLCAzKVxuICB9XG5cbiAgLy8gVGhlIGxlbmd0aCBvZiB0aGUgZmVuY2VkIGNvZGUgYmxvY2sgZGVsaW1pdGVyIGlzIHRocmVlIGJhY2t0aWNrcyB3aGVuIHRoZSBjb250ZW50IGluc2lkZSBkb2Vzbid0IGhhdmUgYmFja3RpY2tzLlxuICAvLyBJZiB0aGUgY29udGVudCBpbnNpZGUgaGFzIHRocmVlIG9yIG1vcmUgYmFja3RpY2tzLCB0aGUgbnVtYmVyIG9mIGJhY2t0aWNrcyBpbiB0aGUgZGVsaW1pdGVyIG11c3QgYmUgYXQgbGVhc3Qgb25lIG1vcmVcbiAgLy8gaHR0cHM6Ly9naXRodWIuZ2l0aHViLmNvbS9nZm0vI2ZlbmNlZC1jb2RlLWJsb2Nrc1xuICBjb25zdCB0aHJlZU9yTW9yZUJhY2t0aWNrcyA9IC8oYGBgKykvZ1xuICBsZXQgbWF4Q29udGVudEJhY2tUaWNrQ291bnQgPSAyXG4gIGxldCBtYXRjaFxuICBkbyB7XG4gICAgbWF0Y2ggPSB0aHJlZU9yTW9yZUJhY2t0aWNrcy5leGVjKGRvY1N0cmluZy5jb250ZW50KVxuICAgIGlmIChtYXRjaCkge1xuICAgICAgbWF4Q29udGVudEJhY2tUaWNrQ291bnQgPSBNYXRoLm1heChtYXhDb250ZW50QmFja1RpY2tDb3VudCwgbWF0Y2hbMV0ubGVuZ3RoKVxuICAgIH1cbiAgfSB3aGlsZSAobWF0Y2gpXG4gIC8vIFJldHVybiBhIGRlbGltaXRlciB3aXRoIG9uZSBtb3JlIGJhY2t0aWNrIHRoYW4gdGhlIG1heCBudW1iZXIgb2YgYmFja3RpY2tzIGluIHRoZSBjb250ZW50cyAoMyBueSBkZWZhdWx0KVxuICByZXR1cm4gbmV3IEFycmF5KG1heENvbnRlbnRCYWNrVGlja0NvdW50ICsgMikuam9pbignYCcpXG59XG5cbmZ1bmN0aW9uIHByZXR0eVRhYmxlUm93cyhcbiAgdGFibGVSb3dzOiByZWFkb25seSBtZXNzYWdlcy5UYWJsZVJvd1tdLFxuICBzeW50YXg6IFN5bnRheCxcbiAgbGV2ZWw6IG51bWJlclxuKTogc3RyaW5nIHtcbiAgaWYgKHRhYmxlUm93cy5sZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBjb25zdCBtYXhXaWR0aHM6IG51bWJlcltdID0gbmV3IEFycmF5KHRhYmxlUm93c1swXS5jZWxscy5sZW5ndGgpLmZpbGwoMClcbiAgdGFibGVSb3dzLmZvckVhY2goKHRhYmxlUm93KSA9PiB7XG4gICAgdGFibGVSb3cuY2VsbHMuZm9yRWFjaCgodGFibGVDZWxsLCBqKSA9PiB7XG4gICAgICBtYXhXaWR0aHNbal0gPSBNYXRoLm1heChtYXhXaWR0aHNbal0sIGVzY2FwZUNlbGwodGFibGVDZWxsLnZhbHVlKS5sZW5ndGgpXG4gICAgfSlcbiAgfSlcblxuICBsZXQgbiA9IDBcbiAgbGV0IHMgPSAnJ1xuICBmb3IgKGNvbnN0IHJvdyBvZiB0YWJsZVJvd3MpIHtcbiAgICBzICs9IHByZXR0eVRhYmxlUm93KHJvdywgbGV2ZWwsIG1heFdpZHRocywgc3ludGF4KVxuICAgIGlmIChuID09PSAwICYmIHN5bnRheCA9PT0gJ21hcmtkb3duJykge1xuICAgICAgY29uc3Qgc2VwYXJhdG9yUm93OiBtZXNzYWdlcy5UYWJsZVJvdyA9IHtcbiAgICAgICAgbG9jYXRpb246IHJvdy5sb2NhdGlvbixcbiAgICAgICAgaWQ6IHJvdy5pZCArICctc2VwYXJhdG9yJyxcbiAgICAgICAgY2VsbHM6IHJvdy5jZWxscy5tYXAoKGNlbGwsIGopID0+ICh7XG4gICAgICAgICAgbG9jYXRpb246IGNlbGwubG9jYXRpb24sXG4gICAgICAgICAgdmFsdWU6IG5ldyBBcnJheShtYXhXaWR0aHNbal0gKyAxKS5qb2luKCctJyksXG4gICAgICAgIH0pKSxcbiAgICAgIH1cbiAgICAgIHMgKz0gcHJldHR5VGFibGVSb3coc2VwYXJhdG9yUm93LCBsZXZlbCwgbWF4V2lkdGhzLCBzeW50YXgpXG4gICAgfVxuICAgIG4rK1xuICB9XG4gIHJldHVybiBzXG59XG5cbmZ1bmN0aW9uIHByZXR0eVRhYmxlUm93KFxuICByb3c6IG1lc3NhZ2VzLlRhYmxlUm93LFxuICBsZXZlbDogbnVtYmVyLFxuICBtYXhXaWR0aHM6IHJlYWRvbmx5IG51bWJlcltdLFxuICBzeW50YXg6IFN5bnRheFxuKTogc3RyaW5nIHtcbiAgY29uc3QgYWN0dWFsTGV2ZWwgPSBzeW50YXggPT09ICdtYXJrZG93bicgPyAxIDogbGV2ZWxcbiAgcmV0dXJuIGAke3NwYWNlcyhhY3R1YWxMZXZlbCl9fCAke3Jvdy5jZWxsc1xuICAgIC5tYXAoKGNlbGwsIGopID0+IHtcbiAgICAgIGNvbnN0IGVzY2FwZWRDZWxsVmFsdWUgPSBlc2NhcGVDZWxsKGNlbGwudmFsdWUpXG4gICAgICBjb25zdCBzcGFjZUNvdW50ID0gbWF4V2lkdGhzW2pdIC0gZXNjYXBlZENlbGxWYWx1ZS5sZW5ndGhcbiAgICAgIGNvbnN0IHNwYWNlcyA9IG5ldyBBcnJheShzcGFjZUNvdW50ICsgMSkuam9pbignICcpXG4gICAgICByZXR1cm4gaXNOdW1lcmljKGVzY2FwZWRDZWxsVmFsdWUpID8gc3BhY2VzICsgZXNjYXBlZENlbGxWYWx1ZSA6IGVzY2FwZWRDZWxsVmFsdWUgKyBzcGFjZXNcbiAgICB9KVxuICAgIC5qb2luKCcgfCAnKX0gfFxcbmBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNlbGwoczogc3RyaW5nKSB7XG4gIGxldCBlID0gJydcbiAgY29uc3QgY2hhcmFjdGVycyA9IHMuc3BsaXQoJycpXG4gIGZvciAoY29uc3QgYyBvZiBjaGFyYWN0ZXJzKSB7XG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgZSArPSAnXFxcXFxcXFwnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgICBlICs9ICdcXFxcbidcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3wnOlxuICAgICAgICBlICs9ICdcXFxcfCdcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGUgKz0gY1xuICAgIH1cbiAgfVxuICByZXR1cm4gZVxufVxuXG5mdW5jdGlvbiBpc051bWVyaWMoczogc3RyaW5nKSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChzKSlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsTUFBQUEscUJBQUEsR0FBQUMsT0FBQTtBQUlBLFNBQXdCQyxNQUFNQSxDQUM1QkMsZUFBeUMsRUFDekNDLE1BQUEsR0FBaUIsU0FBUztFQUUxQixJQUFJQyxhQUFhLEdBQUcsQ0FBQztFQUNyQixPQUFPLElBQUFMLHFCQUFBLENBQUFNLG1CQUFtQixFQUFTSCxlQUFlLEVBQUUsRUFBRSxFQUFFO0lBQ3RESSxPQUFPQSxDQUFDQSxPQUFPLEVBQUVDLE9BQU87TUFDdEIsT0FBT0EsT0FBTyxDQUNYQyxNQUFNLENBQUNDLG9CQUFvQixDQUFDSCxPQUFPLENBQUNJLFFBQVEsQ0FBQyxDQUFDLENBQzlDRixNQUFNLENBQUNHLHNCQUFzQixDQUFDTCxPQUFPLEVBQUVILE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0RTLElBQUlBLENBQUNBLElBQUksRUFBRUwsT0FBTztNQUNoQkgsYUFBYSxHQUFHLENBQUM7TUFDakIsT0FBT0csT0FBTyxDQUFDQyxNQUFNLENBQUNHLHNCQUFzQixD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