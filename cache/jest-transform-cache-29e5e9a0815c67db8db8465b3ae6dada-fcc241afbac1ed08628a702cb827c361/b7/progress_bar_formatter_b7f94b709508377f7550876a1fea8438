d5e20bd1b609f28388400c7882b2930d
"use strict";

var __importDefault = void 0 && (void 0).__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
const helpers_1 = require("./helpers");
const _1 = __importDefault(require("./"));
const progress_1 = __importDefault(require("progress"));
const value_checker_1 = require("../value_checker");
const issue_helpers_1 = require("./helpers/issue_helpers");
const time_1 = require("../time");
// Inspired by https://github.com/thekompanee/fuubar and https://github.com/martinciu/fuubar-cucumber
class ProgressBarFormatter extends _1.default {
  constructor(options) {
    super(options);
    options.eventBroadcaster.on('envelope', this.parseEnvelope.bind(this));
    this.numberOfSteps = 0;
    this.issueCount = 0;
  }
  incrementStepCount(pickleId) {
    const pickle = this.eventDataCollector.getPickle(pickleId);
    this.numberOfSteps += pickle.steps.length;
  }
  initializeProgressBar() {
    if ((0, value_checker_1.doesHaveValue)(this.progressBar)) {
      return;
    }
    this.progressBar = new progress_1.default(':current/:total steps [:bar] ', {
      clear: true,
      incomplete: ' ',
      stream: this.stream,
      total: this.numberOfSteps,
      width: (0, value_checker_1.valueOrDefault)(this.stream.columns, 80)
    });
  }
  logProgress({
    testStepId,
    testCaseStartedId
  }) {
    const {
      testCase
    } = this.eventDataCollector.getTestCaseAttempt(testCaseStartedId);
    const testStep = testCase.testSteps.find(s => s.id === testStepId);
    if ((0, value_checker_1.doesHaveValue)(testStep.pickleStepId)) {
      this.progressBar.tick();
    }
  }
  logUndefinedParametertype(parameterType) {
    this.log(`Undefined parameter type: ${(0, issue_helpers_1.formatUndefinedParameterType)(parameterType)}\n`);
  }
  logErrorIfNeeded(testCaseFinished) {
    const {
      worstTestStepResult
    } = this.eventDataCollector.getTestCaseAttempt(testCaseFinished.testCaseStartedId);
    if ((0, helpers_1.isIssue)(worstTestStepResult)) {
      this.issueCount += 1;
      const testCaseAttempt = this.eventDataCollector.getTestCaseAttempt(testCaseFinished.testCaseStartedId);
      this.progressBar.interrupt((0, helpers_1.formatIssue)({
        colorFns: this.colorFns,
        number: this.issueCount,
        snippetBuilder: this.snippetBuilder,
        supportCodeLibrary: this.supportCodeLibrary,
        testCaseAttempt,
        printAttachments: this.printAttachments
      }));
      if (testCaseFinished.willBeRetried) {
        const stepsToRetry = testCaseAttempt.pickle.steps.length;
        this.progressBar.tick(-stepsToRetry);
      }
    }
  }
  logSummary(testRunFinished) {
    const testRunDuration = (0, time_1.durationBetweenTimestamps)(this.testRunStarted.timestamp, testRunFinished.timestamp);
    this.log((0, helpers_1.formatSummary)({
      colorFns: this.colorFns,
      testCaseAttempts: this.eventDataCollector.getTestCaseAttempts(),
      testRunDuration
    }));
  }
  parseEnvelope(envelope) {
    if ((0, value_checker_1.doesHaveValue)(envelope.undefinedParameterType)) {
      this.logUndefinedParametertype(envelope.undefinedParameterType);
    } else if ((0, value_checker_1.doesHaveValue)(envelope.testCase)) {
      this.incrementStepCount(envelope.testCase.pickleId);
    } else if ((0, value_checker_1.doesHaveValue)(envelope.testStepStarted)) {
      this.initializeProgressBar();
    } else if ((0, value_checker_1.doesHaveValue)(envelope.testStepFinished)) {
      this.logProgress(envelope.testStepFinished);
    } else if ((0, value_checker_1.doesHaveValue)(envelope.testCaseFinished)) {
      this.logErrorIfNeeded(envelope.testCaseFinished);
    } else if ((0, value_checker_1.doesHaveValue)(envelope.testRunStarted)) {
      this.testRunStarted = envelope.testRunStarted;
    } else if ((0, value_checker_1.doesHaveValue)(envelope.testRunFinished)) {
      this.logSummary(envelope.testRunFinished);
    }
  }
}
exports.default = ProgressBarFormatter;
ProgressBarFormatter.documentation = 'Similar to the Progress Formatter, but provides a real-time updating progress bar based on the total number of steps to be executed in the test run';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoZWxwZXJzXzEiLCJyZXF1aXJlIiwiXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJwcm9ncmVzc18xIiwidmFsdWVfY2hlY2tlcl8xIiwiaXNzdWVfaGVscGVyc18xIiwidGltZV8xIiwiUHJvZ3Jlc3NCYXJGb3JtYXR0ZXIiLCJkZWZhdWx0IiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiZXZlbnRCcm9hZGNhc3RlciIsIm9uIiwicGFyc2VFbnZlbG9wZSIsImJpbmQiLCJudW1iZXJPZlN0ZXBzIiwiaXNzdWVDb3VudCIsImluY3JlbWVudFN0ZXBDb3VudCIsInBpY2tsZUlkIiwicGlja2xlIiwiZXZlbnREYXRhQ29sbGVjdG9yIiwiZ2V0UGlja2xlIiwic3RlcHMiLCJsZW5ndGgiLCJpbml0aWFsaXplUHJvZ3Jlc3NCYXIiLCJkb2VzSGF2ZVZhbHVlIiwicHJvZ3Jlc3NCYXIiLCJjbGVhciIsImluY29tcGxldGUiLCJzdHJlYW0iLCJ0b3RhbCIsIndpZHRoIiwidmFsdWVPckRlZmF1bHQiLCJjb2x1bW5zIiwibG9nUHJvZ3Jlc3MiLCJ0ZXN0U3RlcElkIiwidGVzdENhc2VTdGFydGVkSWQiLCJ0ZXN0Q2FzZSIsImdldFRlc3RDYXNlQXR0ZW1wdCIsInRlc3RTdGVwIiwidGVzdFN0ZXBzIiwiZmluZCIsInMiLCJpZCIsInBpY2tsZVN0ZXBJZCIsInRpY2siLCJsb2dVbmRlZmluZWRQYXJhbWV0ZXJ0eXBlIiwicGFyYW1ldGVyVHlwZSIsImxvZyIsImZvcm1hdFVuZGVmaW5lZFBhcmFtZXRlclR5cGUiLCJsb2dFcnJvcklmTmVlZGVkIiwidGVzdENhc2VGaW5pc2hlZCIsIndvcnN0VGVzdFN0ZXBSZXN1bHQiLCJpc0lzc3VlIiwidGVzdENhc2VBdHRlbXB0IiwiaW50ZXJydXB0IiwiZm9ybWF0SXNzdWUiLCJjb2xvckZucyIsIm51bWJlciIsInNuaXBwZXRCdWlsZGVyIiwic3VwcG9ydENvZGVMaWJyYXJ5IiwicHJpbnRBdHRhY2htZW50cyIsIndpbGxCZVJldHJpZWQiLCJzdGVwc1RvUmV0cnkiLCJsb2dTdW1tYXJ5IiwidGVzdFJ1bkZpbmlzaGVkIiwidGVzdFJ1bkR1cmF0aW9uIiwiZHVyYXRpb25CZXR3ZWVuVGltZXN0YW1wcyIsInRlc3RSdW5TdGFydGVkIiwidGltZXN0YW1wIiwiZm9ybWF0U3VtbWFyeSIsInRlc3RDYXNlQXR0ZW1wdHMiLCJnZXRUZXN0Q2FzZUF0dGVtcHRzIiwiZW52ZWxvcGUiLCJ1bmRlZmluZWRQYXJhbWV0ZXJUeXBlIiwidGVzdFN0ZXBTdGFydGVkIiwidGVzdFN0ZXBGaW5pc2hlZCIsImV4cG9ydHMiLCJkb2N1bWVudGF0aW9uIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Zvcm1hdHRlci9wcm9ncmVzc19iYXJfZm9ybWF0dGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdElzc3VlLCBmb3JtYXRTdW1tYXJ5LCBpc0lzc3VlIH0gZnJvbSAnLi9oZWxwZXJzJ1xuaW1wb3J0IEZvcm1hdHRlciwgeyBJRm9ybWF0dGVyT3B0aW9ucyB9IGZyb20gJy4vJ1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJ3Byb2dyZXNzJ1xuaW1wb3J0IHsgV3JpdGVTdHJlYW0gYXMgVHR5V3JpdGVTdHJlYW0gfSBmcm9tICd0dHknXG5pbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tICdAY3VjdW1iZXIvbWVzc2FnZXMnXG5pbXBvcnQgeyBkb2VzSGF2ZVZhbHVlLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL3ZhbHVlX2NoZWNrZXInXG5pbXBvcnQgeyBmb3JtYXRVbmRlZmluZWRQYXJhbWV0ZXJUeXBlIH0gZnJvbSAnLi9oZWxwZXJzL2lzc3VlX2hlbHBlcnMnXG5pbXBvcnQgeyBkdXJhdGlvbkJldHdlZW5UaW1lc3RhbXBzIH0gZnJvbSAnLi4vdGltZSdcblxuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL3RoZWtvbXBhbmVlL2Z1dWJhciBhbmQgaHR0cHM6Ly9naXRodWIuY29tL21hcnRpbmNpdS9mdXViYXItY3VjdW1iZXJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2dyZXNzQmFyRm9ybWF0dGVyIGV4dGVuZHMgRm9ybWF0dGVyIHtcbiAgcHJpdmF0ZSBudW1iZXJPZlN0ZXBzOiBudW1iZXJcbiAgcHJpdmF0ZSB0ZXN0UnVuU3RhcnRlZDogbWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWRcbiAgcHJpdmF0ZSBpc3N1ZUNvdW50OiBudW1iZXJcbiAgcHVibGljIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRvY3VtZW50YXRpb246IHN0cmluZyA9XG4gICAgJ1NpbWlsYXIgdG8gdGhlIFByb2dyZXNzIEZvcm1hdHRlciwgYnV0IHByb3ZpZGVzIGEgcmVhbC10aW1lIHVwZGF0aW5nIHByb2dyZXNzIGJhciBiYXNlZCBvbiB0aGUgdG90YWwgbnVtYmVyIG9mIHN0ZXBzIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSB0ZXN0IHJ1bidcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJRm9ybWF0dGVyT3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpXG4gICAgb3B0aW9ucy5ldmVudEJyb2FkY2FzdGVyLm9uKCdlbnZlbG9wZScsIHRoaXMucGFyc2VFbnZlbG9wZS5iaW5kKHRoaXMpKVxuICAgIHRoaXMubnVtYmVyT2ZTdGVwcyA9IDBcbiAgICB0aGlzLmlzc3VlQ291bnQgPSAwXG4gIH1cblxuICBpbmNyZW1lbnRTdGVwQ291bnQocGlja2xlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHBpY2tsZSA9IHRoaXMuZXZlbnREYXRhQ29sbGVjdG9yLmdldFBpY2tsZShwaWNrbGVJZClcbiAgICB0aGlzLm51bWJlck9mU3RlcHMgKz0gcGlja2xlLnN0ZXBzLmxlbmd0aFxuICB9XG5cbiAgaW5pdGlhbGl6ZVByb2dyZXNzQmFyKCk6IHZvaWQge1xuICAgIGlmIChkb2VzSGF2ZVZhbHVlKHRoaXMucHJvZ3Jlc3NCYXIpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0JhcignOmN1cnJlbnQvOnRvdGFsIHN0ZXBzIFs6YmFyXSAnLCB7XG4gICAgICBjbGVhcjogdHJ1ZSxcbiAgICAgIGluY29tcGxldGU6ICcgJyxcbiAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW0sXG4gICAgICB0b3RhbDogdGhpcy5udW1iZXJPZlN0ZXBzLFxuICAgICAgd2lkdGg6IHZhbHVlT3JEZWZhdWx0KCh0aGlzLnN0cmVhbSBhcyBUdHlXcml0ZVN0cmVhbSkuY29sdW1ucywgODApLFxuICAgIH0pXG4gIH1cblxuICBsb2dQcm9ncmVzcyh7XG4gICAgdGVzdFN0ZXBJZCxcbiAgICB0ZXN0Q2FzZVN0YXJ0ZWRJZCxcbiAgfTogbWVzc2FnZXMuVGVzdFN0ZXBGaW5pc2hlZCk6IHZvaWQge1xuICAgIGNvbnN0IHsgdGVzdENhc2UgfSA9XG4gICAgICB0aGlzLmV2ZW50RGF0YUNvbGxlY3Rvci5nZXRUZXN0Q2FzZUF0dGVtcHQodGVzdENhc2VTdGFydGVkSWQpXG4gICAgY29uc3QgdGVzdFN0ZXAgPSB0ZXN0Q2FzZS50ZXN0U3RlcHMuZmluZCgocykgPT4gcy5pZCA9PT0gdGVzdFN0ZXBJZClcbiAgICBpZiAoZG9lc0hhdmVWYWx1ZSh0ZXN0U3RlcC5waWNrbGVTdGVwSWQpKSB7XG4gICAgICB0aGlzLnByb2dyZXNzQmFyLnRpY2soKVxuICAgIH1cbiAgfVxuXG4gIGxvZ1VuZGVmaW5lZFBhcmFtZXRlcnR5cGUoXG4gICAgcGFyYW1ldGVyVHlwZTogbWVzc2FnZXMuVW5kZWZpbmVkUGFyYW1ldGVyVHlwZVxuICApOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhcbiAgICAgIGBVbmRlZmluZWQgcGFyYW1ldGVyIHR5cGU6ICR7Zm9ybWF0VW5kZWZpbmVkUGFyYW1ldGVyVHlwZShcbiAgICAgICAgcGFyYW1ldGVyVHlwZVxuICAgICAgKX1cXG5gXG4gICAgKVxuICB9XG5cbiAgbG9nRXJyb3JJZk5lZWRlZCh0ZXN0Q2FzZUZpbmlzaGVkOiBtZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkKTogdm9pZCB7XG4gICAgY29uc3QgeyB3b3JzdFRlc3RTdGVwUmVzdWx0IH0gPSB0aGlzLmV2ZW50RGF0YUNvbGxlY3Rvci5nZXRUZXN0Q2FzZUF0dGVtcHQoXG4gICAgICB0ZXN0Q2FzZUZpbmlzaGVkLnRlc3RDYXNlU3RhcnRlZElkXG4gICAgKVxuICAgIGlmIChpc0lzc3VlKHdvcnN0VGVzdFN0ZXBSZXN1bHQpKSB7XG4gICAgICB0aGlzLmlzc3VlQ291bnQgKz0gMVxuICAgICAgY29uc3QgdGVzdENhc2VBdHRlbXB0ID0gdGhpcy5ldmVudERhdGFDb2xsZWN0b3IuZ2V0VGVzdENhc2VBdHRlbXB0KFxuICAgICAgICB0ZXN0Q2FzZUZpbmlzaGVkLnRlc3RDYXNlU3RhcnRlZElkXG4gICAgICApXG4gICAgICB0aGlzLnByb2dyZXNzQmFyLmludGVycnVwdChcbiAgICAgICAgZm9ybWF0SXNzdWUoe1xuICAgICAgICAgIGNvbG9yRm5zOiB0aGlzLmNvbG9yRm5zLFxuICAgICAgICAgIG51bWJlcjogdGhpcy5pc3N1ZUNvdW50LFxuICAgICAgICAgIHNuaXBwZXRCdWlsZGVyOiB0aGlzLnNuaXBwZXRCdWlsZGVyLFxuICAgICAgICAgIHN1cHBvcnRDb2RlTGlicmFyeTogdGhpcy5zdXBwb3J0Q29kZUxpYnJhcnksXG4gICAgICAgICAgdGVzdENhc2VBdHRlbXB0LFxuICAgICAgICAgIHByaW50QXR0YWNobWVudHM6IHRoaXMucHJpbnRBdHRhY2htZW50cyxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIGlmICh0ZXN0Q2FzZUZpbmlzaGVkLndpbGxCZVJldHJpZWQpIHtcbiAgICAgICAgY29uc3Qgc3RlcHNUb1JldHJ5ID0gdGVzdENhc2VBdHRlbXB0LnBpY2tsZS5zdGVwcy5sZW5ndGhcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci50aWNrKC1zdGVwc1RvUmV0cnkpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbG9nU3VtbWFyeSh0ZXN0UnVuRmluaXNoZWQ6IG1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZCk6IHZvaWQge1xuICAgIGNvbnN0IHRlc3RSdW5EdXJhdGlvbiA9IGR1cmF0aW9uQmV0d2VlblRpbWVzdGFtcHMoXG4gICAgICB0aGlzLnRlc3RSdW5TdGFydGVkLnRpbWVzdGFtcCxcbiAgICAgIHRlc3RSdW5GaW5pc2hlZC50aW1lc3RhbXBcbiAgICApXG4gICAgdGhpcy5sb2coXG4gICAgICBmb3JtYXRTdW1tYXJ5KHtcbiAgICAgICAgY29sb3JGbnM6IHRoaXMuY29sb3JGbnMsXG4gICAgICAgIHRlc3RDYXNlQXR0ZW1wdHM6IHRoaXMuZXZlbnREYXRhQ29sbGVjdG9yLmdldFRlc3RDYXNlQXR0ZW1wdHMoKSxcbiAgICAgICAgdGVzdFJ1bkR1cmF0aW9uLFxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICBwYXJzZUVudmVsb3BlKGVudmVsb3BlOiBtZXNzYWdlcy5FbnZlbG9wZSk6IHZvaWQge1xuICAgIGlmIChkb2VzSGF2ZVZhbHVlKGVudmVsb3BlLnVuZGVmaW5lZFBhcmFtZXRlclR5cGUpKSB7XG4gICAgICB0aGlzLmxvZ1VuZGVmaW5lZFBhcmFtZXRlcnR5cGUoZW52ZWxvcGUudW5kZWZpbmVkUGFyYW1ldGVyVHlwZSlcbiAgICB9IGVsc2UgaWYgKGRvZXNIYXZlVmFsdWUoZW52ZWxvcGUudGVzdENhc2UpKSB7XG4gICAgICB0aGlzLmluY3JlbWVudFN0ZXBDb3VudChlbnZlbG9wZS50ZXN0Q2FzZS5waWNrbGVJZClcbiAgICB9IGVsc2UgaWYgKGRvZXNIYXZlVmFsdWUoZW52ZWxvcGUudGVzdFN0ZXBTdGFydGVkKSkge1xuICAgICAgdGhpcy5pbml0aWFsaXplUHJvZ3Jlc3NCYXIoKVxuICAgIH0gZWxzZSBpZiAoZG9lc0hhdmVWYWx1ZShlbnZlbG9wZS50ZXN0U3RlcEZpbmlzaGVkKSkge1xuICAgICAgdGhpcy5sb2dQcm9ncmVzcyhlbnZlbG9wZS50ZXN0U3RlcEZpbmlzaGVkKVxuICAgIH0gZWxzZSBpZiAoZG9lc0hhdmVWYWx1ZShlbnZlbG9wZS50ZXN0Q2FzZUZpbmlzaGVkKSkge1xuICAgICAgdGhpcy5sb2dFcnJvcklmTmVlZGVkKGVudmVsb3BlLnRlc3RDYXNlRmluaXNoZWQpXG4gICAgfSBlbHNlIGlmIChkb2VzSGF2ZVZhbHVlKGVudmVsb3BlLnRlc3RSdW5TdGFydGVkKSkge1xuICAgICAgdGhpcy50ZXN0UnVuU3RhcnRlZCA9IGVudmVsb3BlLnRlc3RSdW5TdGFydGVkXG4gICAgfSBlbHNlIGlmIChkb2VzSGF2ZVZhbHVlKGVudmVsb3BlLnRlc3RSdW5GaW5pc2hlZCkpIHtcbiAgICAgIHRoaXMubG9nU3VtbWFyeShlbnZlbG9wZS50ZXN0UnVuRmluaXNoZWQpXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxTQUFBLEdBQUFDLE9BQUE7QUFDQSxNQUFBQyxFQUFBLEdBQUFDLGVBQUEsQ0FBQUYsT0FBQTtBQUNBLE1BQUFHLFVBQUEsR0FBQUQsZUFBQSxDQUFBRixPQUFBO0FBR0EsTUFBQUksZUFBQSxHQUFBSixPQUFBO0FBQ0EsTUFBQUssZUFBQSxHQUFBTCxPQUFBO0FBQ0EsTUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBRUE7QUFDQSxNQUFxQk8sb0JBQXFCLFNBQVFOLEVBQUEsQ0FBQU8sT0FBUztFQVF6REMsWUFBWUMsT0FBMEI7SUFDcEMsS0FBSyxDQUFDQSxPQUFPLENBQUM7SUFDZEEsT0FBTyxDQUFDQyxnQkFBZ0IsQ0FBQ0MsRUFBRSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3RFLElBQUksQ0FBQ0MsYUFBYSxHQUFHLENBQUM7SUFDdEIsSUFBSSxDQUFDQyxVQUFVLEdBQUcsQ0FBQztFQUNyQjtFQUVBQyxrQkFBa0JBLENBQUNDLFFBQWdCO0lBQ2pDLE1BQU1DLE1BQU0sR0FBRyxJQUFJLENBQUNDLGtCQUFrQixDQUFDQyxTQUFTLENBQUNILFFBQVEsQ0FBQztJQUMxRCxJQUFJLENBQUNILGFBQWEs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