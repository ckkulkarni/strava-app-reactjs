433da5c48194e3e803f8a320c091b2e1
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPickleLocation = exports.getPickleStepMap = exports.getStepKeyword = exports.getScenarioDescription = void 0;
const gherkin_document_parser_1 = require("./gherkin_document_parser");
function getScenarioDescription({
  pickle,
  gherkinScenarioMap
}) {
  return pickle.astNodeIds.map(id => gherkinScenarioMap[id]).filter(x => x != null)[0].description;
}
exports.getScenarioDescription = getScenarioDescription;
function getStepKeyword({
  pickleStep,
  gherkinStepMap
}) {
  return pickleStep.astNodeIds.map(id => gherkinStepMap[id]).filter(x => x != null)[0].keyword;
}
exports.getStepKeyword = getStepKeyword;
function getPickleStepMap(pickle) {
  const result = {};
  pickle.steps.forEach(pickleStep => result[pickleStep.id] = pickleStep);
  return result;
}
exports.getPickleStepMap = getPickleStepMap;
function getPickleLocation({
  gherkinDocument,
  pickle
}) {
  const gherkinScenarioLocationMap = (0, gherkin_document_parser_1.getGherkinScenarioLocationMap)(gherkinDocument);
  return gherkinScenarioLocationMap[pickle.astNodeIds[pickle.astNodeIds.length - 1]];
}
exports.getPickleLocation = getPickleLocation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnaGVya2luX2RvY3VtZW50X3BhcnNlcl8xIiwicmVxdWlyZSIsImdldFNjZW5hcmlvRGVzY3JpcHRpb24iLCJwaWNrbGUiLCJnaGVya2luU2NlbmFyaW9NYXAiLCJhc3ROb2RlSWRzIiwibWFwIiwiaWQiLCJmaWx0ZXIiLCJ4IiwiZGVzY3JpcHRpb24iLCJleHBvcnRzIiwiZ2V0U3RlcEtleXdvcmQiLCJwaWNrbGVTdGVwIiwiZ2hlcmtpblN0ZXBNYXAiLCJrZXl3b3JkIiwiZ2V0UGlja2xlU3RlcE1hcCIsInJlc3VsdCIsInN0ZXBzIiwiZm9yRWFjaCIsImdldFBpY2tsZUxvY2F0aW9uIiwiZ2hlcmtpbkRvY3VtZW50IiwiZ2hlcmtpblNjZW5hcmlvTG9jYXRpb25NYXAiLCJnZXRHaGVya2luU2NlbmFyaW9Mb2NhdGlvbk1hcCIsImxlbmd0aCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9mb3JtYXR0ZXIvaGVscGVycy9waWNrbGVfcGFyc2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEdoZXJraW5TY2VuYXJpb0xvY2F0aW9uTWFwIH0gZnJvbSAnLi9naGVya2luX2RvY3VtZW50X3BhcnNlcidcbmltcG9ydCAqIGFzIG1lc3NhZ2VzIGZyb20gJ0BjdWN1bWJlci9tZXNzYWdlcydcblxuZXhwb3J0IGludGVyZmFjZSBJR2V0UGlja2xlTG9jYXRpb25SZXF1ZXN0IHtcbiAgZ2hlcmtpbkRvY3VtZW50OiBtZXNzYWdlcy5HaGVya2luRG9jdW1lbnRcbiAgcGlja2xlOiBtZXNzYWdlcy5QaWNrbGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJR2V0U3RlcEtleXdvcmRSZXF1ZXN0IHtcbiAgcGlja2xlU3RlcDogbWVzc2FnZXMuUGlja2xlU3RlcFxuICBnaGVya2luU3RlcE1hcDogUmVjb3JkPHN0cmluZywgbWVzc2FnZXMuU3RlcD5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJR2V0U2NlbmFyaW9EZXNjcmlwdGlvblJlcXVlc3Qge1xuICBwaWNrbGU6IG1lc3NhZ2VzLlBpY2tsZVxuICBnaGVya2luU2NlbmFyaW9NYXA6IFJlY29yZDxzdHJpbmcsIG1lc3NhZ2VzLlNjZW5hcmlvPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NlbmFyaW9EZXNjcmlwdGlvbih7XG4gIHBpY2tsZSxcbiAgZ2hlcmtpblNjZW5hcmlvTWFwLFxufTogSUdldFNjZW5hcmlvRGVzY3JpcHRpb25SZXF1ZXN0KTogc3RyaW5nIHtcbiAgcmV0dXJuIHBpY2tsZS5hc3ROb2RlSWRzXG4gICAgLm1hcCgoaWQpID0+IGdoZXJraW5TY2VuYXJpb01hcFtpZF0pXG4gICAgLmZpbHRlcigoeCkgPT4geCAhPSBudWxsKVswXS5kZXNjcmlwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RlcEtleXdvcmQoe1xuICBwaWNrbGVTdGVwLFxuICBnaGVya2luU3RlcE1hcCxcbn06IElHZXRTdGVwS2V5d29yZFJlcXVlc3QpOiBzdHJpbmcge1xuICByZXR1cm4gcGlja2xlU3RlcC5hc3ROb2RlSWRzXG4gICAgLm1hcCgoaWQpID0+IGdoZXJraW5TdGVwTWFwW2lkXSlcbiAgICAuZmlsdGVyKCh4KSA9PiB4ICE9IG51bGwpWzBdLmtleXdvcmRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpY2tsZVN0ZXBNYXAoXG4gIHBpY2tsZTogbWVzc2FnZXMuUGlja2xlXG4pOiBSZWNvcmQ8c3RyaW5nLCBtZXNzYWdlcy5QaWNrbGVTdGVwPiB7XG4gIGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgbWVzc2FnZXMuUGlja2xlU3RlcD4gPSB7fVxuICBwaWNrbGUuc3RlcHMuZm9yRWFjaCgocGlja2xlU3RlcCkgPT4gKHJlc3VsdFtwaWNrbGVTdGVwLmlkXSA9IHBpY2tsZVN0ZXApKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaWNrbGVMb2NhdGlvbih7XG4gIGdoZXJraW5Eb2N1bWVudCxcbiAgcGlja2xlLFxufTogSUdldFBpY2tsZUxvY2F0aW9uUmVxdWVzdCk6IG1lc3NhZ2VzLkxvY2F0aW9uIHtcbiAgY29uc3QgZ2hlcmtpblNjZW5hcmlvTG9jYXRpb25NYXAgPVxuICAgIGdldEdoZXJraW5TY2VuYXJpb0xvY2F0aW9uTWFwKGdoZXJraW5Eb2N1bWVudClcbiAgcmV0dXJuIGdoZXJraW5TY2VuYXJpb0xvY2F0aW9uTWFwW1xuICAgIHBpY2tsZS5hc3ROb2RlSWRzW3BpY2tsZS5hc3ROb2RlSWRzLmxlbmd0aCAtIDFdXG4gIF1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBQUEseUJBQUEsR0FBQUMsT0FBQTtBQWtCQSxTQUFnQkMsc0JBQXNCQSxDQUFDO0VBQ3JDQyxNQUFNO0VBQ05DO0FBQWtCLENBQ2E7RUFDL0IsT0FBT0QsTUFBTSxDQUFDRSxVQUFVLENBQ3JCQyxHQUFHLENBQUVDLEVBQUUsSUFBS0gsa0JBQWtCLENBQUNHLEVBQUUsQ0FBQyxDQUFDLENBQ25DQyxNQUFNLENBQUVDLENBQUMsSUFBS0EsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxXQUFXO0FBQzVDO0FBUEFDLE9BQUEsQ0FBQVQsc0JBQUEsR0FBQUEsc0JBQUE7QUFTQSxTQUFnQlUsY0FBY0EsQ0FBQztFQUM3QkMsVUFBVTtFQUNWQztBQUFjLENBQ1M7RUFDdkIsT0FBT0QsVUFBVSxDQUFDUixVQUFVLENBQ3pCQyxHQUFHLENBQUVDLEVBQUUsSUFBS08sY0FBYyxDQUFDUCxFQUFFLENBQUMsQ0FBQyxDQUMvQkMsTUFBTSxDQUFFQyxDQUFDLElBQUtBLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ00sT0FBTztBQUN4QztBQVBBSixPQUFBLENBQUFDLGNBQUEsR0FBQUEsY0FBQTtBQVNBLFNBQWdCSSxnQkFBZ0JBLENBQzlCYixNQUF1QjtFQUV2QixNQUFNYyxNQUFNLEdBQXdDLEVBQUU7RUFDdERkLE1BQU0sQ0FBQ2UsS0FBSyxDQUFDQyxPQUFPLENBQUVOLFVBQVUsSUFBTUksTUFBTSxDQUFDSixVQUFVLENBQUNOLEVBQUUsQ0FBQyxHQUFHTSxVQUFXLENBQUM7RUFDMUUsT0FBT0ksTUFBTTtBQUNmO0FBTkFOLE9BQUEsQ0FBQUssZ0JBQUEsR0FBQUEsZ0JBQUE7QUFRQSxTQUFnQkksaUJBQWlCQSxDQUFDO0VBQ2hDQyxlQUFlO0VBQ2ZsQjtBQUFNLENBQ29CO0VBQzFCLE1BQU1tQiwwQkFBMEIsR0FDOUIsSUFBQXRCLHlCQUFBLENBQUF1Qiw2QkFBNkIsRUFBQ0YsZUFBZSxDQUFDO0VBQ2hELE9BQU9DLDBCQUEwQixDQUMvQm5CLE1BQU0sQ0FBQ0UsVUFBVSxDQUFDRixNQUFNLENBQUNFLFVBQVUsQ0FBQ21CLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FDaEQ7QUFDSDtBQVRBYixPQUFBLENBQUFTLGlCQUFBLEdBQUFBLGlCQUFBIn0=