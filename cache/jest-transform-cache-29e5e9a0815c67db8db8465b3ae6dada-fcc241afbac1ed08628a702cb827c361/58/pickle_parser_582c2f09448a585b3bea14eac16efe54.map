{"version":3,"names":["gherkin_document_parser_1","require","getScenarioDescription","pickle","gherkinScenarioMap","astNodeIds","map","id","filter","x","description","exports","getStepKeyword","pickleStep","gherkinStepMap","keyword","getPickleStepMap","result","steps","forEach","getPickleLocation","gherkinDocument","gherkinScenarioLocationMap","getGherkinScenarioLocationMap","length"],"sources":["../../../src/formatter/helpers/pickle_parser.ts"],"sourcesContent":["import { getGherkinScenarioLocationMap } from './gherkin_document_parser'\nimport * as messages from '@cucumber/messages'\n\nexport interface IGetPickleLocationRequest {\n  gherkinDocument: messages.GherkinDocument\n  pickle: messages.Pickle\n}\n\nexport interface IGetStepKeywordRequest {\n  pickleStep: messages.PickleStep\n  gherkinStepMap: Record<string, messages.Step>\n}\n\nexport interface IGetScenarioDescriptionRequest {\n  pickle: messages.Pickle\n  gherkinScenarioMap: Record<string, messages.Scenario>\n}\n\nexport function getScenarioDescription({\n  pickle,\n  gherkinScenarioMap,\n}: IGetScenarioDescriptionRequest): string {\n  return pickle.astNodeIds\n    .map((id) => gherkinScenarioMap[id])\n    .filter((x) => x != null)[0].description\n}\n\nexport function getStepKeyword({\n  pickleStep,\n  gherkinStepMap,\n}: IGetStepKeywordRequest): string {\n  return pickleStep.astNodeIds\n    .map((id) => gherkinStepMap[id])\n    .filter((x) => x != null)[0].keyword\n}\n\nexport function getPickleStepMap(\n  pickle: messages.Pickle\n): Record<string, messages.PickleStep> {\n  const result: Record<string, messages.PickleStep> = {}\n  pickle.steps.forEach((pickleStep) => (result[pickleStep.id] = pickleStep))\n  return result\n}\n\nexport function getPickleLocation({\n  gherkinDocument,\n  pickle,\n}: IGetPickleLocationRequest): messages.Location {\n  const gherkinScenarioLocationMap =\n    getGherkinScenarioLocationMap(gherkinDocument)\n  return gherkinScenarioLocationMap[\n    pickle.astNodeIds[pickle.astNodeIds.length - 1]\n  ]\n}\n"],"mappings":";;;;;;AAAA,MAAAA,yBAAA,GAAAC,OAAA;AAkBA,SAAgBC,sBAAsBA,CAAC;EACrCC,MAAM;EACNC;AAAkB,CACa;EAC/B,OAAOD,MAAM,CAACE,UAAU,CACrBC,GAAG,CAAEC,EAAE,IAAKH,kBAAkB,CAACG,EAAE,CAAC,CAAC,CACnCC,MAAM,CAAEC,CAAC,IAAKA,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW;AAC5C;AAPAC,OAAA,CAAAT,sBAAA,GAAAA,sBAAA;AASA,SAAgBU,cAAcA,CAAC;EAC7BC,UAAU;EACVC;AAAc,CACS;EACvB,OAAOD,UAAU,CAACR,UAAU,CACzBC,GAAG,CAAEC,EAAE,IAAKO,cAAc,CAACP,EAAE,CAAC,CAAC,CAC/BC,MAAM,CAAEC,CAAC,IAAKA,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAACM,OAAO;AACxC;AAPAJ,OAAA,CAAAC,cAAA,GAAAA,cAAA;AASA,SAAgBI,gBAAgBA,CAC9Bb,MAAuB;EAEvB,MAAMc,MAAM,GAAwC,EAAE;EACtDd,MAAM,CAACe,KAAK,CAACC,OAAO,CAAEN,UAAU,IAAMI,MAAM,CAACJ,UAAU,CAACN,EAAE,CAAC,GAAGM,UAAW,CAAC;EAC1E,OAAOI,MAAM;AACf;AANAN,OAAA,CAAAK,gBAAA,GAAAA,gBAAA;AAQA,SAAgBI,iBAAiBA,CAAC;EAChCC,eAAe;EACflB;AAAM,CACoB;EAC1B,MAAMmB,0BAA0B,GAC9B,IAAAtB,yBAAA,CAAAuB,6BAA6B,EAACF,eAAe,CAAC;EAChD,OAAOC,0BAA0B,CAC/BnB,MAAM,CAACE,UAAU,CAACF,MAAM,CAACE,UAAU,CAACmB,MAAM,GAAG,CAAC,CAAC,CAChD;AACH;AATAb,OAAA,CAAAS,iBAAA,GAAAA,iBAAA"}