54c67f221dfa59acde757dca67df9353
'use strict';

var Collection = require('../nodes/Collection.js');
var Node = require('../nodes/Node.js');
var stringify = require('./stringify.js');
var stringifyComment = require('./stringifyComment.js');
function stringifyCollection(collection, ctx, options) {
  const flow = ctx.inFlow ?? collection.flow;
  const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;
  return stringify(collection, ctx, options);
}
function stringifyBlockCollection({
  comment,
  items
}, ctx, {
  blockItemPrefix,
  flowChars,
  itemIndent,
  onChompKeep,
  onComment
}) {
  const {
    indent,
    options: {
      commentString
    }
  } = ctx;
  const itemCtx = Object.assign({}, ctx, {
    indent: itemIndent,
    type: null
  });
  let chompKeep = false; // flag for the preceding node's status
  const lines = [];
  for (let i = 0; i < items.length; ++i) {
    const item = items[i];
    let comment = null;
    if (Node.isNode(item)) {
      if (!chompKeep && item.spaceBefore) lines.push('');
      addCommentBefore(ctx, lines, item.commentBefore, chompKeep);
      if (item.comment) comment = item.comment;
    } else if (Node.isPair(item)) {
      const ik = Node.isNode(item.key) ? item.key : null;
      if (ik) {
        if (!chompKeep && ik.spaceBefore) lines.push('');
        addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);
      }
    }
    chompKeep = false;
    let str = stringify.stringify(item, itemCtx, () => comment = null, () => chompKeep = true);
    if (comment) str += stringifyComment.lineComment(str, itemIndent, commentString(comment));
    if (chompKeep && comment) chompKeep = false;
    lines.push(blockItemPrefix + str);
  }
  let str;
  if (lines.length === 0) {
    str = flowChars.start + flowChars.end;
  } else {
    str = lines[0];
    for (let i = 1; i < lines.length; ++i) {
      const line = lines[i];
      str += line ? `\n${indent}${line}` : '\n';
    }
  }
  if (comment) {
    str += '\n' + stringifyComment.indentComment(commentString(comment), indent);
    if (onComment) onComment();
  } else if (chompKeep && onChompKeep) onChompKeep();
  return str;
}
function stringifyFlowCollection({
  comment,
  items
}, ctx, {
  flowChars,
  itemIndent,
  onComment
}) {
  const {
    indent,
    indentStep,
    flowCollectionPadding: fcPadding,
    options: {
      commentString
    }
  } = ctx;
  itemIndent += indentStep;
  const itemCtx = Object.assign({}, ctx, {
    indent: itemIndent,
    inFlow: true,
    type: null
  });
  let reqNewline = false;
  let linesAtValue = 0;
  const lines = [];
  for (let i = 0; i < items.length; ++i) {
    const item = items[i];
    let comment = null;
    if (Node.isNode(item)) {
      if (item.spaceBefore) lines.push('');
      addCommentBefore(ctx, lines, item.commentBefore, false);
      if (item.comment) comment = item.comment;
    } else if (Node.isPair(item)) {
      const ik = Node.isNode(item.key) ? item.key : null;
      if (ik) {
        if (ik.spaceBefore) lines.push('');
        addCommentBefore(ctx, lines, ik.commentBefore, false);
        if (ik.comment) reqNewline = true;
      }
      const iv = Node.isNode(item.value) ? item.value : null;
      if (iv) {
        if (iv.comment) comment = iv.comment;
        if (iv.commentBefore) reqNewline = true;
      } else if (item.value == null && ik && ik.comment) {
        comment = ik.comment;
      }
    }
    if (comment) reqNewline = true;
    let str = stringify.stringify(item, itemCtx, () => comment = null);
    if (i < items.length - 1) str += ',';
    if (comment) str += stringifyComment.lineComment(str, itemIndent, commentString(comment));
    if (!reqNewline && (lines.length > linesAtValue || str.includes('\n'))) reqNewline = true;
    lines.push(str);
    linesAtValue = lines.length;
  }
  let str;
  const {
    start,
    end
  } = flowChars;
  if (lines.length === 0) {
    str = start + end;
  } else {
    if (!reqNewline) {
      const len = lines.reduce((sum, line) => sum + line.length + 2, 2);
      reqNewline = len > Collection.Collection.maxFlowStringSingleLineLength;
    }
    if (reqNewline) {
      str = start;
      for (const line of lines) str += line ? `\n${indentStep}${indent}${line}` : '\n';
      str += `\n${indent}${end}`;
    } else {
      str = `${start}${fcPadding}${lines.join(' ')}${fcPadding}${end}`;
    }
  }
  if (comment) {
    str += stringifyComment.lineComment(str, commentString(comment), indent);
    if (onComment) onComment();
  }
  return str;
}
function addCommentBefore({
  indent,
  options: {
    commentString
  }
}, lines, comment, chompKeep) {
  if (comment && chompKeep) comment = comment.replace(/^\n+/, '');
  if (comment) {
    const ic = stringifyComment.indentComment(commentString(comment), indent);
    lines.push(ic.trimStart()); // Avoid double indent on first line
  }
}

exports.stringifyCollection = stringifyCollection;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb2xsZWN0aW9uIiwicmVxdWlyZSIsIk5vZGUiLCJzdHJpbmdpZnkiLCJzdHJpbmdpZnlDb21tZW50Iiwic3RyaW5naWZ5Q29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJjdHgiLCJvcHRpb25zIiwiZmxvdyIsImluRmxvdyIsInN0cmluZ2lmeUZsb3dDb2xsZWN0aW9uIiwic3RyaW5naWZ5QmxvY2tDb2xsZWN0aW9uIiwiY29tbWVudCIsIml0ZW1zIiwiYmxvY2tJdGVtUHJlZml4IiwiZmxvd0NoYXJzIiwiaXRlbUluZGVudCIsIm9uQ2hvbXBLZWVwIiwib25Db21tZW50IiwiaW5kZW50IiwiY29tbWVudFN0cmluZyIsIml0ZW1DdHgiLCJPYmplY3QiLCJhc3NpZ24iLCJ0eXBlIiwiY2hvbXBLZWVwIiwibGluZXMiLCJpIiwibGVuZ3RoIiwiaXRlbSIsImlzTm9kZSIsInNwYWNlQmVmb3JlIiwicHVzaCIsImFkZENvbW1lbnRCZWZvcmUiLCJjb21tZW50QmVmb3JlIiwiaXNQYWlyIiwiaWsiLCJrZXkiLCJzdHIiLCJsaW5lQ29tbWVudCIsInN0YXJ0IiwiZW5kIiwibGluZSIsImluZGVudENvbW1lbnQiLCJpbmRlbnRTdGVwIiwiZmxvd0NvbGxlY3Rpb25QYWRkaW5nIiwiZmNQYWRkaW5nIiwicmVxTmV3bGluZSIsImxpbmVzQXRWYWx1ZSIsIml2IiwidmFsdWUiLCJpbmNsdWRlcyIsImxlbiIsInJlZHVjZSIsInN1bSIsIm1heEZsb3dTdHJpbmdTaW5nbGVMaW5lTGVuZ3RoIiwiam9pbiIsInJlcGxhY2UiLCJpYyIsInRyaW1TdGFydCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzdHJpbmdpZnlDb2xsZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCcuLi9ub2Rlcy9Db2xsZWN0aW9uLmpzJyk7XG52YXIgTm9kZSA9IHJlcXVpcmUoJy4uL25vZGVzL05vZGUuanMnKTtcbnZhciBzdHJpbmdpZnkgPSByZXF1aXJlKCcuL3N0cmluZ2lmeS5qcycpO1xudmFyIHN0cmluZ2lmeUNvbW1lbnQgPSByZXF1aXJlKCcuL3N0cmluZ2lmeUNvbW1lbnQuanMnKTtcblxuZnVuY3Rpb24gc3RyaW5naWZ5Q29sbGVjdGlvbihjb2xsZWN0aW9uLCBjdHgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmbG93ID0gY3R4LmluRmxvdyA/PyBjb2xsZWN0aW9uLmZsb3c7XG4gICAgY29uc3Qgc3RyaW5naWZ5ID0gZmxvdyA/IHN0cmluZ2lmeUZsb3dDb2xsZWN0aW9uIDogc3RyaW5naWZ5QmxvY2tDb2xsZWN0aW9uO1xuICAgIHJldHVybiBzdHJpbmdpZnkoY29sbGVjdGlvbiwgY3R4LCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUJsb2NrQ29sbGVjdGlvbih7IGNvbW1lbnQsIGl0ZW1zIH0sIGN0eCwgeyBibG9ja0l0ZW1QcmVmaXgsIGZsb3dDaGFycywgaXRlbUluZGVudCwgb25DaG9tcEtlZXAsIG9uQ29tbWVudCB9KSB7XG4gICAgY29uc3QgeyBpbmRlbnQsIG9wdGlvbnM6IHsgY29tbWVudFN0cmluZyB9IH0gPSBjdHg7XG4gICAgY29uc3QgaXRlbUN0eCA9IE9iamVjdC5hc3NpZ24oe30sIGN0eCwgeyBpbmRlbnQ6IGl0ZW1JbmRlbnQsIHR5cGU6IG51bGwgfSk7XG4gICAgbGV0IGNob21wS2VlcCA9IGZhbHNlOyAvLyBmbGFnIGZvciB0aGUgcHJlY2VkaW5nIG5vZGUncyBzdGF0dXNcbiAgICBjb25zdCBsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICBsZXQgY29tbWVudCA9IG51bGw7XG4gICAgICAgIGlmIChOb2RlLmlzTm9kZShpdGVtKSkge1xuICAgICAgICAgICAgaWYgKCFjaG9tcEtlZXAgJiYgaXRlbS5zcGFjZUJlZm9yZSlcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgIGFkZENvbW1lbnRCZWZvcmUoY3R4LCBsaW5lcywgaXRlbS5jb21tZW50QmVmb3JlLCBjaG9tcEtlZXApO1xuICAgICAgICAgICAgaWYgKGl0ZW0uY29tbWVudClcbiAgICAgICAgICAgICAgICBjb21tZW50ID0gaXRlbS5jb21tZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE5vZGUuaXNQYWlyKGl0ZW0pKSB7XG4gICAgICAgICAgICBjb25zdCBpayA9IE5vZGUuaXNOb2RlKGl0ZW0ua2V5KSA/IGl0ZW0ua2V5IDogbnVsbDtcbiAgICAgICAgICAgIGlmIChpaykge1xuICAgICAgICAgICAgICAgIGlmICghY2hvbXBLZWVwICYmIGlrLnNwYWNlQmVmb3JlKVxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICBhZGRDb21tZW50QmVmb3JlKGN0eCwgbGluZXMsIGlrLmNvbW1lbnRCZWZvcmUsIGNob21wS2VlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hvbXBLZWVwID0gZmFsc2U7XG4gICAgICAgIGxldCBzdHIgPSBzdHJpbmdpZnkuc3RyaW5naWZ5KGl0ZW0sIGl0ZW1DdHgsICgpID0+IChjb21tZW50ID0gbnVsbCksICgpID0+IChjaG9tcEtlZXAgPSB0cnVlKSk7XG4gICAgICAgIGlmIChjb21tZW50KVxuICAgICAgICAgICAgc3RyICs9IHN0cmluZ2lmeUNvbW1lbnQubGluZUNvbW1lbnQoc3RyLCBpdGVtSW5kZW50LCBjb21tZW50U3RyaW5nKGNvbW1lbnQpKTtcbiAgICAgICAgaWYgKGNob21wS2VlcCAmJiBjb21tZW50KVxuICAgICAgICAgICAgY2hvbXBLZWVwID0gZmFsc2U7XG4gICAgICAgIGxpbmVzLnB1c2goYmxvY2tJdGVtUHJlZml4ICsgc3RyKTtcbiAgICB9XG4gICAgbGV0IHN0cjtcbiAgICBpZiAobGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0ciA9IGZsb3dDaGFycy5zdGFydCArIGZsb3dDaGFycy5lbmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdHIgPSBsaW5lc1swXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICAgICAgc3RyICs9IGxpbmUgPyBgXFxuJHtpbmRlbnR9JHtsaW5lfWAgOiAnXFxuJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tbWVudCkge1xuICAgICAgICBzdHIgKz0gJ1xcbicgKyBzdHJpbmdpZnlDb21tZW50LmluZGVudENvbW1lbnQoY29tbWVudFN0cmluZyhjb21tZW50KSwgaW5kZW50KTtcbiAgICAgICAgaWYgKG9uQ29tbWVudClcbiAgICAgICAgICAgIG9uQ29tbWVudCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaG9tcEtlZXAgJiYgb25DaG9tcEtlZXApXG4gICAgICAgIG9uQ2hvbXBLZWVwKCk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUZsb3dDb2xsZWN0aW9uKHsgY29tbWVudCwgaXRlbXMgfSwgY3R4LCB7IGZsb3dDaGFycywgaXRlbUluZGVudCwgb25Db21tZW50IH0pIHtcbiAgICBjb25zdCB7IGluZGVudCwgaW5kZW50U3RlcCwgZmxvd0NvbGxlY3Rpb25QYWRkaW5nOiBmY1BhZGRpbmcsIG9wdGlvbnM6IHsgY29tbWVudFN0cmluZyB9IH0gPSBjdHg7XG4gICAgaXRlbUluZGVudCArPSBpbmRlbnRTdGVwO1xuICAgIGNvbnN0IGl0ZW1DdHggPSBPYmplY3QuYXNzaWduKHt9LCBjdHgsIHtcbiAgICAgICAgaW5kZW50OiBpdGVtSW5kZW50LFxuICAgICAgICBpbkZsb3c6IHRydWUsXG4gICAgICAgIHR5cGU6IG51bGxcbiAgICB9KTtcbiAgICBsZXQgcmVxTmV3bGluZSA9IGZhbHNlO1xuICAgIGxldCBsaW5lc0F0VmFsdWUgPSAwO1xuICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIGxldCBjb21tZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKE5vZGUuaXNOb2RlKGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zcGFjZUJlZm9yZSlcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgIGFkZENvbW1lbnRCZWZvcmUoY3R4LCBsaW5lcywgaXRlbS5jb21tZW50QmVmb3JlLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoaXRlbS5jb21tZW50KVxuICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBpdGVtLmNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoTm9kZS5pc1BhaXIoaXRlbSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlrID0gTm9kZS5pc05vZGUoaXRlbS5rZXkpID8gaXRlbS5rZXkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGlrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlrLnNwYWNlQmVmb3JlKVxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICBhZGRDb21tZW50QmVmb3JlKGN0eCwgbGluZXMsIGlrLmNvbW1lbnRCZWZvcmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaWsuY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgcmVxTmV3bGluZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpdiA9IE5vZGUuaXNOb2RlKGl0ZW0udmFsdWUpID8gaXRlbS52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoaXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXYuY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGl2LmNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGl2LmNvbW1lbnRCZWZvcmUpXG4gICAgICAgICAgICAgICAgICAgIHJlcU5ld2xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS52YWx1ZSA9PSBudWxsICYmIGlrICYmIGlrLmNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb21tZW50ID0gaWsuY29tbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tbWVudClcbiAgICAgICAgICAgIHJlcU5ld2xpbmUgPSB0cnVlO1xuICAgICAgICBsZXQgc3RyID0gc3RyaW5naWZ5LnN0cmluZ2lmeShpdGVtLCBpdGVtQ3R4LCAoKSA9PiAoY29tbWVudCA9IG51bGwpKTtcbiAgICAgICAgaWYgKGkgPCBpdGVtcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgc3RyICs9ICcsJztcbiAgICAgICAgaWYgKGNvbW1lbnQpXG4gICAgICAgICAgICBzdHIgKz0gc3RyaW5naWZ5Q29tbWVudC5saW5lQ29tbWVudChzdHIsIGl0ZW1JbmRlbnQsIGNvbW1lbnRTdHJpbmcoY29tbWVudCkpO1xuICAgICAgICBpZiAoIXJlcU5ld2xpbmUgJiYgKGxpbmVzLmxlbmd0aCA+IGxpbmVzQXRWYWx1ZSB8fCBzdHIuaW5jbHVkZXMoJ1xcbicpKSlcbiAgICAgICAgICAgIHJlcU5ld2xpbmUgPSB0cnVlO1xuICAgICAgICBsaW5lcy5wdXNoKHN0cik7XG4gICAgICAgIGxpbmVzQXRWYWx1ZSA9IGxpbmVzLmxlbmd0aDtcbiAgICB9XG4gICAgbGV0IHN0cjtcbiAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IGZsb3dDaGFycztcbiAgICBpZiAobGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0ciA9IHN0YXJ0ICsgZW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFyZXFOZXdsaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBsaW5lcy5yZWR1Y2UoKHN1bSwgbGluZSkgPT4gc3VtICsgbGluZS5sZW5ndGggKyAyLCAyKTtcbiAgICAgICAgICAgIHJlcU5ld2xpbmUgPSBsZW4gPiBDb2xsZWN0aW9uLkNvbGxlY3Rpb24ubWF4Rmxvd1N0cmluZ1NpbmdsZUxpbmVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcU5ld2xpbmUpIHtcbiAgICAgICAgICAgIHN0ciA9IHN0YXJ0O1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKVxuICAgICAgICAgICAgICAgIHN0ciArPSBsaW5lID8gYFxcbiR7aW5kZW50U3RlcH0ke2luZGVudH0ke2xpbmV9YCA6ICdcXG4nO1xuICAgICAgICAgICAgc3RyICs9IGBcXG4ke2luZGVudH0ke2VuZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RyID0gYCR7c3RhcnR9JHtmY1BhZGRpbmd9JHtsaW5lcy5qb2luKCcgJyl9JHtmY1BhZGRpbmd9JHtlbmR9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tbWVudCkge1xuICAgICAgICBzdHIgKz0gc3RyaW5naWZ5Q29tbWVudC5saW5lQ29tbWVudChzdHIsIGNvbW1lbnRTdHJpbmcoY29tbWVudCksIGluZGVudCk7XG4gICAgICAgIGlmIChvbkNvbW1lbnQpXG4gICAgICAgICAgICBvbkNvbW1lbnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIGFkZENvbW1lbnRCZWZvcmUoeyBpbmRlbnQsIG9wdGlvbnM6IHsgY29tbWVudFN0cmluZyB9IH0sIGxpbmVzLCBjb21tZW50LCBjaG9tcEtlZXApIHtcbiAgICBpZiAoY29tbWVudCAmJiBjaG9tcEtlZXApXG4gICAgICAgIGNvbW1lbnQgPSBjb21tZW50LnJlcGxhY2UoL15cXG4rLywgJycpO1xuICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgIGNvbnN0IGljID0gc3RyaW5naWZ5Q29tbWVudC5pbmRlbnRDb21tZW50KGNvbW1lbnRTdHJpbmcoY29tbWVudCksIGluZGVudCk7XG4gICAgICAgIGxpbmVzLnB1c2goaWMudHJpbVN0YXJ0KCkpOyAvLyBBdm9pZCBkb3VibGUgaW5kZW50IG9uIGZpcnN0IGxpbmVcbiAgICB9XG59XG5cbmV4cG9ydHMuc3RyaW5naWZ5Q29sbGVjdGlvbiA9IHN0cmluZ2lmeUNvbGxlY3Rpb247XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFDbEQsSUFBSUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDdEMsSUFBSUUsU0FBUyxHQUFHRixPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDekMsSUFBSUcsZ0JBQWdCLEdBQUdILE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUV2RCxTQUFTSSxtQkFBbUJBLENBQUNDLFVBQVUsRUFBRUMsR0FBRyxFQUFFQyxPQUFPLEVBQUU7RUFDbkQsTUFBTUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLE1BQU0sSUFBSUosVUFBVSxDQUFDRyxJQUFJO0VBQzFDLE1BQU1OLFNBQVMsR0FBR00sSUFBSSxHQUFHRSx1QkFBdUIsR0FBR0Msd0JBQXdCO0VBQzNFLE9BQU9ULFNBQVMsQ0FBQ0csVUFBVSxFQUFFQyxHQUFHLEVBQUVDLE9BQU8sQ0FBQztBQUM5QztBQUNBLFNBQVNJLHdCQUF3QkEsQ0FBQztFQUFFQyxPQUFPO0VBQUVDO0FBQU0sQ0FBQyxFQUFFUCxHQUFHLEVBQUU7RUFBRVEsZUFBZTtFQUFFQyxTQUFTO0VBQUVDLFVBQVU7RUFBRUMsV0FBVztFQUFFQztBQUFVLENBQUMsRUFBRTtFQUMzSCxNQUFNO0lBQUVDLE1BQU07SUFBRVosT0FBTyxFQUFFO01BQUVhO0lBQWM7RUFBRSxDQUFDLEdBQUdkLEdBQUc7RUFDbEQsTUFBTWUsT0FBTyxHQUFHQyxNQUFNLENBQUNDLE1B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