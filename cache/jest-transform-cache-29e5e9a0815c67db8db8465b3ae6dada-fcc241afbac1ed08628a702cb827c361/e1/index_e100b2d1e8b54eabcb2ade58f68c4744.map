{"version":3,"names":["thenify","require","module","exports","thenifyAll","withCallback","source","destination","methods","promisifyAll","promisify","Object","keys","Array","isArray","forEach","name","deprecated","desc","getOwnPropertyDescriptor","get"],"sources":["index.js"],"sourcesContent":["\nvar thenify = require('thenify')\n\nmodule.exports = thenifyAll\nthenifyAll.withCallback = withCallback\nthenifyAll.thenify = thenify\n\n/**\n * Promisifies all the selected functions in an object.\n *\n * @param {Object} source the source object for the async functions\n * @param {Object} [destination] the destination to set all the promisified methods\n * @param {Array} [methods] an array of method names of `source`\n * @return {Object}\n * @api public\n */\n\nfunction thenifyAll(source, destination, methods) {\n  return promisifyAll(source, destination, methods, thenify)\n}\n\n/**\n * Promisifies all the selected functions in an object and backward compatible with callback.\n *\n * @param {Object} source the source object for the async functions\n * @param {Object} [destination] the destination to set all the promisified methods\n * @param {Array} [methods] an array of method names of `source`\n * @return {Object}\n * @api public\n */\n\nfunction withCallback(source, destination, methods) {\n  return promisifyAll(source, destination, methods, thenify.withCallback)\n}\n\nfunction promisifyAll(source, destination, methods, promisify) {\n  if (!destination) {\n    destination = {};\n    methods = Object.keys(source)\n  }\n\n  if (Array.isArray(destination)) {\n    methods = destination\n    destination = {}\n  }\n\n  if (!methods) {\n    methods = Object.keys(source)\n  }\n\n  if (typeof source === 'function') destination = promisify(source)\n\n  methods.forEach(function (name) {\n    // promisify only if it's a function\n    if (typeof source[name] === 'function') destination[name] = promisify(source[name])\n  })\n\n  // proxy the rest\n  Object.keys(source).forEach(function (name) {\n    if (deprecated(source, name)) return\n    if (destination[name]) return\n    destination[name] = source[name]\n  })\n\n  return destination\n}\n\nfunction deprecated(source, name) {\n  var desc = Object.getOwnPropertyDescriptor(source, name)\n  if (!desc || !desc.get) return false\n  if (desc.get.name === 'deprecated') return true\n  return false\n}\n"],"mappings":";;AACA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAEhCC,MAAM,CAACC,OAAO,GAAGC,UAAU;AAC3BA,UAAU,CAACC,YAAY,GAAGA,YAAY;AACtCD,UAAU,CAACJ,OAAO,GAAGA,OAAO;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASI,UAAUA,CAACE,MAAM,EAAEC,WAAW,EAAEC,OAAO,EAAE;EAChD,OAAOC,YAAY,CAACH,MAAM,EAAEC,WAAW,EAAEC,OAAO,EAAER,OAAO,CAAC;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASK,YAAYA,CAACC,MAAM,EAAEC,WAAW,EAAEC,OAAO,EAAE;EAClD,OAAOC,YAAY,CAACH,MAAM,EAAEC,WAAW,EAAEC,OAAO,EAAER,OAAO,CAACK,YAAY,CAAC;AACzE;AAEA,SAASI,YAAYA,CAACH,MAAM,EAAEC,WAAW,EAAEC,OAAO,EAAEE,SAAS,EAAE;EAC7D,IAAI,CAACH,WAAW,EAAE;IAChBA,WAAW,GAAG,CAAC,CAAC;IAChBC,OAAO,GAAGG,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC;EAC/B;EAEA,IAAIO,KAAK,CAACC,OAAO,CAACP,WAAW,CAAC,EAAE;IAC9BC,OAAO,GAAGD,WAAW;IACrBA,WAAW,GAAG,CAAC,CAAC;EAClB;EAEA,IAAI,CAACC,OAAO,EAAE;IACZA,OAAO,GAAGG,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC;EAC/B;EAEA,IAAI,OAAOA,MAAM,KAAK,UAAU,EAAEC,WAAW,GAAGG,SAAS,CAACJ,MAAM,CAAC;EAEjEE,OAAO,CAACO,OAAO,CAAC,UAAUC,IAAI,EAAE;IAC9B;IACA,IAAI,OAAOV,MAAM,CAACU,IAAI,CAAC,KAAK,UAAU,EAAET,WAAW,CAACS,IAAI,CAAC,GAAGN,SAAS,CAACJ,MAAM,CAACU,IAAI,CAAC,CAAC;EACrF,CAAC,CAAC;;EAEF;EACAL,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC,CAACS,OAAO,CAAC,UAAUC,IAAI,EAAE;IAC1C,IAAIC,UAAU,CAACX,MAAM,EAAEU,IAAI,CAAC,EAAE;IAC9B,IAAIT,WAAW,CAACS,IAAI,CAAC,EAAE;IACvBT,WAAW,CAACS,IAAI,CAAC,GAAGV,MAAM,CAACU,IAAI,CAAC;EAClC,CAAC,CAAC;EAEF,OAAOT,WAAW;AACpB;AAEA,SAASU,UAAUA,CAACX,MAAM,EAAEU,IAAI,EAAE;EAChC,IAAIE,IAAI,GAAGP,MAAM,CAACQ,wBAAwB,CAACb,MAAM,EAAEU,IAAI,CAAC;EACxD,IAAI,CAACE,IAAI,IAAI,CAACA,IAAI,CAACE,GAAG,EAAE,OAAO,KAAK;EACpC,IAAIF,IAAI,CAACE,GAAG,CAACJ,IAAI,KAAK,YAAY,EAAE,OAAO,IAAI;EAC/C,OAAO,KAAK;AACd"}