{"version":3,"names":["Object","defineProperty","exports","value","create","default","_isSchema","_interopRequireDefault","require","obj","__esModule","builder","Lazy","constructor","type","__isYupSchema__","__inputType","__outputType","_resolve","options","schema","TypeError","resolve","cast","validate","maybeCb","validateSync","validateAt","path","validateSyncAt","describe","isValid","isValidSync","_default"],"sources":["Lazy.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.default = void 0;\n\nvar _isSchema = _interopRequireDefault(require(\"./util/isSchema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction create(builder) {\n  return new Lazy(builder);\n}\n\nclass Lazy {\n  constructor(builder) {\n    this.type = 'lazy';\n    this.__isYupSchema__ = true;\n    this.__inputType = void 0;\n    this.__outputType = void 0;\n\n    this._resolve = (value, options = {}) => {\n      let schema = this.builder(value, options);\n      if (!(0, _isSchema.default)(schema)) throw new TypeError('lazy() functions must return a valid schema');\n      return schema.resolve(options);\n    };\n\n    this.builder = builder;\n  }\n\n  resolve(options) {\n    return this._resolve(options.value, options);\n  }\n\n  cast(value, options) {\n    return this._resolve(value, options).cast(value, options);\n  }\n\n  validate(value, options, maybeCb) {\n    // @ts-expect-error missing public callback on type\n    return this._resolve(value, options).validate(value, options, maybeCb);\n  }\n\n  validateSync(value, options) {\n    return this._resolve(value, options).validateSync(value, options);\n  }\n\n  validateAt(path, value, options) {\n    return this._resolve(value, options).validateAt(path, value, options);\n  }\n\n  validateSyncAt(path, value, options) {\n    return this._resolve(value, options).validateSyncAt(path, value, options);\n  }\n\n  describe() {\n    return null;\n  }\n\n  isValid(value, options) {\n    return this._resolve(value, options).isValid(value, options);\n  }\n\n  isValidSync(value, options) {\n    return this._resolve(value, options).isValidSync(value, options);\n  }\n\n}\n\nvar _default = Lazy;\nexports.default = _default;"],"mappings":"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"}