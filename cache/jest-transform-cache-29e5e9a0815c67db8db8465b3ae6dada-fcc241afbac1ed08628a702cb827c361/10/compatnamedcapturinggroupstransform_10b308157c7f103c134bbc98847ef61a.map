{"version":3,"names":["module","exports","_groupNames","init","getExtra","Group","path","node","name","number","nameRaw","Backreference","kind","reference","referenceRaw"],"sources":["compat-named-capturing-groups-transform.js"],"sourcesContent":["/**\n * The MIT License (MIT)\n * Copyright (c) 2017-present Dmitry Soshnikov <dmitry.soshnikov@gmail.com>\n */\n\n'use strict';\n\n/**\n * A regexp-tree plugin to translate `/(?<name>a)\\k<name>/` to `/(a)\\1/`.\n */\n\nmodule.exports = {\n  // To track the names of the groups, and return them\n  // in the transform result state.\n  //\n  // A map from name to number: {foo: 2, bar: 4}\n  _groupNames: {},\n\n  /**\n   * Initialises the trasnform.\n   */\n  init: function init() {\n    this._groupNames = {};\n  },\n\n\n  /**\n   * Returns extra state, which eventually is returned to\n   */\n  getExtra: function getExtra() {\n    return this._groupNames;\n  },\n  Group: function Group(path) {\n    var node = path.node;\n\n\n    if (!node.name) {\n      return;\n    }\n\n    // Record group name.\n    this._groupNames[node.name] = node.number;\n\n    delete node.name;\n    delete node.nameRaw;\n  },\n  Backreference: function Backreference(path) {\n    var node = path.node;\n\n\n    if (node.kind !== 'name') {\n      return;\n    }\n\n    node.kind = 'number';\n    node.reference = node.number;\n    delete node.referenceRaw;\n  }\n};"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA;AAEAA,MAAM,CAACC,OAAO,GAAG;EACf;EACA;EACA;EACA;EACAC,WAAW,EAAE,CAAC,CAAC;EAEf;AACF;AACA;EACEC,IAAI,EAAE,SAASA,IAAIA,CAAA,EAAG;IACpB,IAAI,CAACD,WAAW,GAAG,CAAC,CAAC;EACvB,CAAC;EAGD;AACF;AACA;EACEE,QAAQ,EAAE,SAASA,QAAQA,CAAA,EAAG;IAC5B,OAAO,IAAI,CAACF,WAAW;EACzB,CAAC;EACDG,KAAK,EAAE,SAASA,KAAKA,CAACC,IAAI,EAAE;IAC1B,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;IAGpB,IAAI,CAACA,IAAI,CAACC,IAAI,EAAE;MACd;IACF;;IAEA;IACA,IAAI,CAACN,WAAW,CAACK,IAAI,CAACC,IAAI,CAAC,GAAGD,IAAI,CAACE,MAAM;IAEzC,OAAOF,IAAI,CAACC,IAAI;IAChB,OAAOD,IAAI,CAACG,OAAO;EACrB,CAAC;EACDC,aAAa,EAAE,SAASA,aAAaA,CAACL,IAAI,EAAE;IAC1C,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;IAGpB,IAAIA,IAAI,CAACK,IAAI,KAAK,MAAM,EAAE;MACxB;IACF;IAEAL,IAAI,CAACK,IAAI,GAAG,QAAQ;IACpBL,IAAI,CAACM,SAAS,GAAGN,IAAI,CAACE,MAAM;IAC5B,OAAOF,IAAI,CAACO,YAAY;EAC1B;AACF,CAAC"}