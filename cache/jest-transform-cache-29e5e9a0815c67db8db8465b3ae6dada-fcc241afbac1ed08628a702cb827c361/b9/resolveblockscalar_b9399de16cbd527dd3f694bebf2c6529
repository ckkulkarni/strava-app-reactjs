73f0e94784a049fea886aa40fb961b85
'use strict';

var Scalar = require('../nodes/Scalar.js');
function resolveBlockScalar(scalar, strict, onError) {
  const start = scalar.offset;
  const header = parseBlockScalarHeader(scalar, strict, onError);
  if (!header) return {
    value: '',
    type: null,
    comment: '',
    range: [start, start, start]
  };
  const type = header.mode === '>' ? Scalar.Scalar.BLOCK_FOLDED : Scalar.Scalar.BLOCK_LITERAL;
  const lines = scalar.source ? splitLines(scalar.source) : [];
  // determine the end of content & start of chomping
  let chompStart = lines.length;
  for (let i = lines.length - 1; i >= 0; --i) {
    const content = lines[i][1];
    if (content === '' || content === '\r') chompStart = i;else break;
  }
  // shortcut for empty contents
  if (chompStart === 0) {
    const value = header.chomp === '+' && lines.length > 0 ? '\n'.repeat(Math.max(1, lines.length - 1)) : '';
    let end = start + header.length;
    if (scalar.source) end += scalar.source.length;
    return {
      value,
      type,
      comment: header.comment,
      range: [start, end, end]
    };
  }
  // find the indentation level to trim from start
  let trimIndent = scalar.indent + header.indent;
  let offset = scalar.offset + header.length;
  let contentStart = 0;
  for (let i = 0; i < chompStart; ++i) {
    const [indent, content] = lines[i];
    if (content === '' || content === '\r') {
      if (header.indent === 0 && indent.length > trimIndent) trimIndent = indent.length;
    } else {
      if (indent.length < trimIndent) {
        const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';
        onError(offset + indent.length, 'MISSING_CHAR', message);
      }
      if (header.indent === 0) trimIndent = indent.length;
      contentStart = i;
      break;
    }
    offset += indent.length + content.length + 1;
  }
  // include trailing more-indented empty lines in content
  for (let i = lines.length - 1; i >= chompStart; --i) {
    if (lines[i][0].length > trimIndent) chompStart = i + 1;
  }
  let value = '';
  let sep = '';
  let prevMoreIndented = false;
  // leading whitespace is kept intact
  for (let i = 0; i < contentStart; ++i) value += lines[i][0].slice(trimIndent) + '\n';
  for (let i = contentStart; i < chompStart; ++i) {
    let [indent, content] = lines[i];
    offset += indent.length + content.length + 1;
    const crlf = content[content.length - 1] === '\r';
    if (crlf) content = content.slice(0, -1);
    /* istanbul ignore if already caught in lexer */
    if (content && indent.length < trimIndent) {
      const src = header.indent ? 'explicit indentation indicator' : 'first line';
      const message = `Block scalar lines must not be less indented than their ${src}`;
      onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);
      indent = '';
    }
    if (type === Scalar.Scalar.BLOCK_LITERAL) {
      value += sep + indent.slice(trimIndent) + content;
      sep = '\n';
    } else if (indent.length > trimIndent || content[0] === '\t') {
      // more-indented content within a folded block
      if (sep === ' ') sep = '\n';else if (!prevMoreIndented && sep === '\n') sep = '\n\n';
      value += sep + indent.slice(trimIndent) + content;
      sep = '\n';
      prevMoreIndented = true;
    } else if (content === '') {
      // empty line
      if (sep === '\n') value += '\n';else sep = '\n';
    } else {
      value += sep + content;
      sep = ' ';
      prevMoreIndented = false;
    }
  }
  switch (header.chomp) {
    case '-':
      break;
    case '+':
      for (let i = chompStart; i < lines.length; ++i) value += '\n' + lines[i][0].slice(trimIndent);
      if (value[value.length - 1] !== '\n') value += '\n';
      break;
    default:
      value += '\n';
  }
  const end = start + header.length + scalar.source.length;
  return {
    value,
    type,
    comment: header.comment,
    range: [start, end, end]
  };
}
function parseBlockScalarHeader({
  offset,
  props
}, strict, onError) {
  /* istanbul ignore if should not happen */
  if (props[0].type !== 'block-scalar-header') {
    onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');
    return null;
  }
  const {
    source
  } = props[0];
  const mode = source[0];
  let indent = 0;
  let chomp = '';
  let error = -1;
  for (let i = 1; i < source.length; ++i) {
    const ch = source[i];
    if (!chomp && (ch === '-' || ch === '+')) chomp = ch;else {
      const n = Number(ch);
      if (!indent && n) indent = n;else if (error === -1) error = offset + i;
    }
  }
  if (error !== -1) onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);
  let hasSpace = false;
  let comment = '';
  let length = source.length;
  for (let i = 1; i < props.length; ++i) {
    const token = props[i];
    switch (token.type) {
      case 'space':
        hasSpace = true;
      // fallthrough
      case 'newline':
        length += token.source.length;
        break;
      case 'comment':
        if (strict && !hasSpace) {
          const message = 'Comments must be separated from other tokens by white space characters';
          onError(token, 'MISSING_CHAR', message);
        }
        length += token.source.length;
        comment = token.source.substring(1);
        break;
      case 'error':
        onError(token, 'UNEXPECTED_TOKEN', token.message);
        length += token.source.length;
        break;
      /* istanbul ignore next should not happen */
      default:
        {
          const message = `Unexpected token in block scalar header: ${token.type}`;
          onError(token, 'UNEXPECTED_TOKEN', message);
          const ts = token.source;
          if (ts && typeof ts === 'string') length += ts.length;
        }
    }
  }
  return {
    mode,
    indent,
    chomp,
    comment,
    length
  };
}
/** @returns Array of lines split up as `[indent, content]` */
function splitLines(source) {
  const split = source.split(/\n( *)/);
  const first = split[0];
  const m = first.match(/^( *)/);
  const line0 = m?.[1] ? [m[1], first.slice(m[1].length)] : ['', first];
  const lines = [line0];
  for (let i = 1; i < split.length; i += 2) lines.push([split[i], split[i + 1]]);
  return lines;
}
exports.resolveBlockScalar = resolveBlockScalar;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2FsYXIiLCJyZXF1aXJlIiwicmVzb2x2ZUJsb2NrU2NhbGFyIiwic2NhbGFyIiwic3RyaWN0Iiwib25FcnJvciIsInN0YXJ0Iiwib2Zmc2V0IiwiaGVhZGVyIiwicGFyc2VCbG9ja1NjYWxhckhlYWRlciIsInZhbHVlIiwidHlwZSIsImNvbW1lbnQiLCJyYW5nZSIsIm1vZGUiLCJCTE9DS19GT0xERUQiLCJCTE9DS19MSVRFUkFMIiwibGluZXMiLCJzb3VyY2UiLCJzcGxpdExpbmVzIiwiY2hvbXBTdGFydCIsImxlbmd0aCIsImkiLCJjb250ZW50IiwiY2hvbXAiLCJyZXBlYXQiLCJNYXRoIiwibWF4IiwiZW5kIiwidHJpbUluZGVudCIsImluZGVudCIsImNvbnRlbnRTdGFydCIsIm1lc3NhZ2UiLCJzZXAiLCJwcmV2TW9yZUluZGVudGVkIiwic2xpY2UiLCJjcmxmIiwic3JjIiwicHJvcHMiLCJlcnJvciIsImNoIiwibiIsIk51bWJlciIsImhhc1NwYWNlIiwidG9rZW4iLCJzdWJzdHJpbmciLCJ0cyIsInNwbGl0IiwiZmlyc3QiLCJtIiwibWF0Y2giLCJsaW5lMCIsInB1c2giLCJleHBvcnRzIl0sInNvdXJjZXMiOlsicmVzb2x2ZS1ibG9jay1zY2FsYXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVCbG9ja1NjYWxhcihzY2FsYXIsIHN0cmljdCwgb25FcnJvcikge1xuICAgIGNvbnN0IHN0YXJ0ID0gc2NhbGFyLm9mZnNldDtcbiAgICBjb25zdCBoZWFkZXIgPSBwYXJzZUJsb2NrU2NhbGFySGVhZGVyKHNjYWxhciwgc3RyaWN0LCBvbkVycm9yKTtcbiAgICBpZiAoIWhlYWRlcilcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6ICcnLCB0eXBlOiBudWxsLCBjb21tZW50OiAnJywgcmFuZ2U6IFtzdGFydCwgc3RhcnQsIHN0YXJ0XSB9O1xuICAgIGNvbnN0IHR5cGUgPSBoZWFkZXIubW9kZSA9PT0gJz4nID8gU2NhbGFyLlNjYWxhci5CTE9DS19GT0xERUQgOiBTY2FsYXIuU2NhbGFyLkJMT0NLX0xJVEVSQUw7XG4gICAgY29uc3QgbGluZXMgPSBzY2FsYXIuc291cmNlID8gc3BsaXRMaW5lcyhzY2FsYXIuc291cmNlKSA6IFtdO1xuICAgIC8vIGRldGVybWluZSB0aGUgZW5kIG9mIGNvbnRlbnQgJiBzdGFydCBvZiBjaG9tcGluZ1xuICAgIGxldCBjaG9tcFN0YXJ0ID0gbGluZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSBsaW5lcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gbGluZXNbaV1bMV07XG4gICAgICAgIGlmIChjb250ZW50ID09PSAnJyB8fCBjb250ZW50ID09PSAnXFxyJylcbiAgICAgICAgICAgIGNob21wU3RhcnQgPSBpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gc2hvcnRjdXQgZm9yIGVtcHR5IGNvbnRlbnRzXG4gICAgaWYgKGNob21wU3RhcnQgPT09IDApIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXIuY2hvbXAgPT09ICcrJyAmJiBsaW5lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/ICdcXG4nLnJlcGVhdChNYXRoLm1heCgxLCBsaW5lcy5sZW5ndGggLSAxKSlcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxldCBlbmQgPSBzdGFydCArIGhlYWRlci5sZW5ndGg7XG4gICAgICAgIGlmIChzY2FsYXIuc291cmNlKVxuICAgICAgICAgICAgZW5kICs9IHNjYWxhci5zb3VyY2UubGVuZ3RoO1xuICAgICAgICByZXR1cm4geyB2YWx1ZSwgdHlwZSwgY29tbWVudDogaGVhZGVyLmNvbW1lbnQsIHJhbmdlOiBbc3RhcnQsIGVuZCwgZW5kXSB9O1xuICAgIH1cbiAgICAvLyBmaW5kIHRoZSBpbmRlbnRhdGlvbiBsZXZlbCB0byB0cmltIGZyb20gc3RhcnRcbiAgICBsZXQgdHJpbUluZGVudCA9IHNjYWxhci5pbmRlbnQgKyBoZWFkZXIuaW5kZW50O1xuICAgIGxldCBvZmZzZXQgPSBzY2FsYXIub2Zmc2V0ICsgaGVhZGVyLmxlbmd0aDtcbiAgICBsZXQgY29udGVudFN0YXJ0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNob21wU3RhcnQ7ICsraSkge1xuICAgICAgICBjb25zdCBbaW5kZW50LCBjb250ZW50XSA9IGxpbmVzW2ldO1xuICAgICAgICBpZiAoY29udGVudCA9PT0gJycgfHwgY29udGVudCA9PT0gJ1xccicpIHtcbiAgICAgICAgICAgIGlmIChoZWFkZXIuaW5kZW50ID09PSAwICYmIGluZGVudC5sZW5ndGggPiB0cmltSW5kZW50KVxuICAgICAgICAgICAgICAgIHRyaW1JbmRlbnQgPSBpbmRlbnQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGluZGVudC5sZW5ndGggPCB0cmltSW5kZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdCbG9jayBzY2FsYXJzIHdpdGggbW9yZS1pbmRlbnRlZCBsZWFkaW5nIGVtcHR5IGxpbmVzIG11c3QgdXNlIGFuIGV4cGxpY2l0IGluZGVudGF0aW9uIGluZGljYXRvcic7XG4gICAgICAgICAgICAgICAgb25FcnJvcihvZmZzZXQgKyBpbmRlbnQubGVuZ3RoLCAnTUlTU0lOR19DSEFSJywgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmluZGVudCA9PT0gMClcbiAgICAgICAgICAgICAgICB0cmltSW5kZW50ID0gaW5kZW50Lmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnRlbnRTdGFydCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXQgKz0gaW5kZW50Lmxlbmd0aCArIGNvbnRlbnQubGVuZ3RoICsgMTtcbiAgICB9XG4gICAgLy8gaW5jbHVkZSB0cmFpbGluZyBtb3JlLWluZGVudGVkIGVtcHR5IGxpbmVzIGluIGNvbnRlbnRcbiAgICBmb3IgKGxldCBpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSBjaG9tcFN0YXJ0OyAtLWkpIHtcbiAgICAgICAgaWYgKGxpbmVzW2ldWzBdLmxlbmd0aCA+IHRyaW1JbmRlbnQpXG4gICAgICAgICAgICBjaG9tcFN0YXJ0ID0gaSArIDE7XG4gICAgfVxuICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgIGxldCBzZXAgPSAnJztcbiAgICBsZXQgcHJldk1vcmVJbmRlbnRlZCA9IGZhbHNlO1xuICAgIC8vIGxlYWRpbmcgd2hpdGVzcGFjZSBpcyBrZXB0IGludGFjdFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudFN0YXJ0OyArK2kpXG4gICAgICAgIHZhbHVlICs9IGxpbmVzW2ldWzBdLnNsaWNlKHRyaW1JbmRlbnQpICsgJ1xcbic7XG4gICAgZm9yIChsZXQgaSA9IGNvbnRlbnRTdGFydDsgaSA8IGNob21wU3RhcnQ7ICsraSkge1xuICAgICAgICBsZXQgW2luZGVudCwgY29udGVudF0gPSBsaW5lc1tpXTtcbiAgICAgICAgb2Zmc2V0ICs9IGluZGVudC5sZW5ndGggKyBjb250ZW50Lmxlbmd0aCArIDE7XG4gICAgICAgIGNvbnN0IGNybGYgPSBjb250ZW50W2NvbnRlbnQubGVuZ3RoIC0gMV0gPT09ICdcXHInO1xuICAgICAgICBpZiAoY3JsZilcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIGFscmVhZHkgY2F1Z2h0IGluIGxleGVyICovXG4gICAgICAgIGlmIChjb250ZW50ICYmIGluZGVudC5sZW5ndGggPCB0cmltSW5kZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSBoZWFkZXIuaW5kZW50XG4gICAgICAgICAgICAgICAgPyAnZXhwbGljaXQgaW5kZW50YXRpb24gaW5kaWNhdG9yJ1xuICAgICAgICAgICAgICAgIDogJ2ZpcnN0IGxpbmUnO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBCbG9jayBzY2FsYXIgbGluZXMgbXVzdCBub3QgYmUgbGVzcyBpbmRlbnRlZCB0aGFuIHRoZWlyICR7c3JjfWA7XG4gICAgICAgICAgICBvbkVycm9yKG9mZnNldCAtIGNvbnRlbnQubGVuZ3RoIC0gKGNybGYgPyAyIDogMSksICdCQURfSU5ERU5UJywgbWVzc2FnZSk7XG4gICAgICAgICAgICBpbmRlbnQgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gU2NhbGFyLlNjYWxhci5CTE9DS19MSVRFUkFMKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBzZXAgKyBpbmRlbnQuc2xpY2UodHJpbUluZGVudCkgKyBjb250ZW50O1xuICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZW50Lmxlbmd0aCA+IHRyaW1JbmRlbnQgfHwgY29udGVudFswXSA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIC8vIG1vcmUtaW5kZW50ZWQgY29udGVudCB3aXRoaW4gYSBmb2xkZWQgYmxvY2tcbiAgICAgICAgICAgIGlmIChzZXAgPT09ICcgJylcbiAgICAgICAgICAgICAgICBzZXAgPSAnXFxuJztcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwcmV2TW9yZUluZGVudGVkICYmIHNlcCA9PT0gJ1xcbicpXG4gICAgICAgICAgICAgICAgc2VwID0gJ1xcblxcbic7XG4gICAgICAgICAgICB2YWx1ZSArPSBzZXAgKyBpbmRlbnQuc2xpY2UodHJpbUluZGVudCkgKyBjb250ZW50O1xuICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgICAgICBwcmV2TW9yZUluZGVudGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb250ZW50ID09PSAnJykge1xuICAgICAgICAgICAgLy8gZW1wdHkgbGluZVxuICAgICAgICAgICAgaWYgKHNlcCA9PT0gJ1xcbicpXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gJ1xcbic7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBzZXAgKyBjb250ZW50O1xuICAgICAgICAgICAgc2VwID0gJyAnO1xuICAgICAgICAgICAgcHJldk1vcmVJbmRlbnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoaGVhZGVyLmNob21wKSB7XG4gICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNob21wU3RhcnQ7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSAnXFxuJyArIGxpbmVzW2ldWzBdLnNsaWNlKHRyaW1JbmRlbnQpO1xuICAgICAgICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSAnXFxuJylcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSAnXFxuJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFsdWUgKz0gJ1xcbic7XG4gICAgfVxuICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgaGVhZGVyLmxlbmd0aCArIHNjYWxhci5zb3VyY2UubGVuZ3RoO1xuICAgIHJldHVybiB7IHZhbHVlLCB0eXBlLCBjb21tZW50OiBoZWFkZXIuY29tbWVudCwgcmFuZ2U6IFtzdGFydCwgZW5kLCBlbmRdIH07XG59XG5mdW5jdGlvbiBwYXJzZUJsb2NrU2NhbGFySGVhZGVyKHsgb2Zmc2V0LCBwcm9wcyB9LCBzdHJpY3QsIG9uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICBpZiAocHJvcHNbMF0udHlwZSAhPT0gJ2Jsb2NrLXNjYWxhci1oZWFkZXInKSB7XG4gICAgICAgIG9uRXJyb3IocHJvcHNbMF0sICdJTVBPU1NJQkxFJywgJ0Jsb2NrIHNjYWxhciBoZWFkZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHNvdXJjZSB9ID0gcHJvcHNbMF07XG4gICAgY29uc3QgbW9kZSA9IHNvdXJjZVswXTtcbiAgICBsZXQgaW5kZW50ID0gMDtcbiAgICBsZXQgY2hvbXAgPSAnJztcbiAgICBsZXQgZXJyb3IgPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBjaCA9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKCFjaG9tcCAmJiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSlcbiAgICAgICAgICAgIGNob21wID0gY2g7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbiA9IE51bWJlcihjaCk7XG4gICAgICAgICAgICBpZiAoIWluZGVudCAmJiBuKVxuICAgICAgICAgICAgICAgIGluZGVudCA9IG47XG4gICAgICAgICAgICBlbHNlIGlmIChlcnJvciA9PT0gLTEpXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBvZmZzZXQgKyBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlcnJvciAhPT0gLTEpXG4gICAgICAgIG9uRXJyb3IoZXJyb3IsICdVTkVYUEVDVEVEX1RPS0VOJywgYEJsb2NrIHNjYWxhciBoZWFkZXIgaW5jbHVkZXMgZXh0cmEgY2hhcmFjdGVyczogJHtzb3VyY2V9YCk7XG4gICAgbGV0IGhhc1NwYWNlID0gZmFsc2U7XG4gICAgbGV0IGNvbW1lbnQgPSAnJztcbiAgICBsZXQgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcHJvcHNbaV07XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICAgICAgICAgIGhhc1NwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gdG9rZW4uc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIWhhc1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnQ29tbWVudHMgbXVzdCBiZSBzZXBhcmF0ZWQgZnJvbSBvdGhlciB0b2tlbnMgYnkgd2hpdGUgc3BhY2UgY2hhcmFjdGVycyc7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdNSVNTSU5HX0NIQVInLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVuZ3RoICs9IHRva2VuLnNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29tbWVudCA9IHRva2VuLnNvdXJjZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ1VORVhQRUNURURfVE9LRU4nLCB0b2tlbi5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gdG9rZW4uc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IHNob3VsZCBub3QgaGFwcGVuICovXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBVbmV4cGVjdGVkIHRva2VuIGluIGJsb2NrIHNjYWxhciBoZWFkZXI6ICR7dG9rZW4udHlwZX1gO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdVTkVYUEVDVEVEX1RPS0VOJywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHMgPSB0b2tlbi5zb3VyY2U7XG4gICAgICAgICAgICAgICAgaWYgKHRzICYmIHR5cGVvZiB0cyA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCArPSB0cy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbW9kZSwgaW5kZW50LCBjaG9tcCwgY29tbWVudCwgbGVuZ3RoIH07XG59XG4vKiogQHJldHVybnMgQXJyYXkgb2YgbGluZXMgc3BsaXQgdXAgYXMgYFtpbmRlbnQsIGNvbnRlbnRdYCAqL1xuZnVuY3Rpb24gc3BsaXRMaW5lcyhzb3VyY2UpIHtcbiAgICBjb25zdCBzcGxpdCA9IHNvdXJjZS5zcGxpdCgvXFxuKCAqKS8pO1xuICAgIGNvbnN0IGZpcnN0ID0gc3BsaXRbMF07XG4gICAgY29uc3QgbSA9IGZpcnN0Lm1hdGNoKC9eKCAqKS8pO1xuICAgIGNvbnN0IGxpbmUwID0gbT8uWzFdXG4gICAgICAgID8gW21bMV0sIGZpcnN0LnNsaWNlKG1bMV0ubGVuZ3RoKV1cbiAgICAgICAgOiBbJycsIGZpcnN0XTtcbiAgICBjb25zdCBsaW5lcyA9IFtsaW5lMF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzcGxpdC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgbGluZXMucHVzaChbc3BsaXRbaV0sIHNwbGl0W2kgKyAxXV0pO1xuICAgIHJldHVybiBsaW5lcztcbn1cblxuZXhwb3J0cy5yZXNvbHZlQmxvY2tTY2FsYXIgPSByZXNvbHZlQmxvY2tTY2FsYXI7XG4iXSwibWFwcGluZ3Mi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