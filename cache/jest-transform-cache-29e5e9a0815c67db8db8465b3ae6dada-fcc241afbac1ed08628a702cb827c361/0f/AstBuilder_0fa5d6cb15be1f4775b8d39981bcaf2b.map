{"version":3,"names":["AstNode_1","__importDefault","require","Parser_1","Errors_1","AstBuilder","constructor","newId","Error","reset","stack","default","RuleType","None","comments","startRule","ruleType","push","endRule","node","pop","transformedNode","transformNode","currentNode","add","build","token","matchedType","TokenType","Comment","location","getLocation","text","matchedText","getResult","getSingle","GherkinDocument","length","column","line","getTags","tags","tagsNode","Tags","tokens","getTokens","TagLine","tagItem","matchedItems","name","id","getCells","tableRowToken","map","cellItem","value","getDescription","Description","getSteps","getItems","Step","getTableRows","rows","TableRow","cells","ensureCellCount","cellCount","forEach","row","AstBuilderException","create","stepLine","getToken","StepLine","dataTable","DataTable","docString","DocString","step","keyword","matchedKeyword","keywordType","matchedKeywordType","separatorToken","DocStringSeparator","mediaType","undefined","lineTokens","Other","content","t","join","result","delimiter","Background","backgroundLine","BackgroundLine","description","steps","background","ScenarioDefinition","scenarioNode","Scenario","scenarioLine","ScenarioLine","examples","ExamplesDefinition","scenario","examplesNode","Examples","examplesLine","ExamplesLine","examplesTable","ExamplesTable","tableHeader","tableBody","slice","end","trimmedLineText","Feature","header","FeatureHeader","featureLine","FeatureLine","children","rule","Rule","language","matchedGherkinDialect","feature","RuleHeader","ruleLine","RuleLine","gherkinDocument","exports"],"sources":["../../src/AstBuilder.ts"],"sourcesContent":[null],"mappings":"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"}