7b45a10119fed6e5a074b759b371caed
"use strict";

var _jestCucumber = require("jest-cucumber");
var _react = require("@testing-library/react");
var _Base = _interopRequireDefault(require("../../Base"));
var _react2 = _interopRequireDefault(require("react"));
require("text-encoding");
var _parkingSlice = _interopRequireDefault(require("../../redux/reducer/parkingSlice"));
var _reactRedux = require("react-redux");
var _toolkit = require("@reduxjs/toolkit");
var _reactRouterDom = require("react-router-dom");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const feature = (0, _jestCucumber.loadFeature)("src/components/features/base.feature");
let store;
let rendered;
(0, _jestCucumber.defineFeature)(feature, test => {
  test("User enters the number of spaces", ({
    given,
    when,
    then,
    and
  }) => {
    store = (0, _toolkit.configureStore)({
      reducer: {
        parking: _parkingSlice.default
      }
    });
    given("the user is on the home page", () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      expect(screen).toBeTruthy();
    });
    when("the user enters some input in the input field and submits", () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      const input = screen.getByTestId("Enter the Spaces");
      const button = screen.getByText("Submit");
      _react.fireEvent.change(input, {
        target: {
          value: 10
        }
      });
      _react.fireEvent.click(button);
      expect(window.alert).toHaveBeenCalledWith("10 Spaces selected");
    });
    then('an alert is displayed with "10 Spaces selected"', () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      const input = screen.getByTestId("Enter the Spaces");
      const button = screen.getByText("Submit");
      _react.fireEvent.change(input, {
        target: {
          value: 15
        }
      });
      _react.fireEvent.click(button);
      expect(window.alert).toHaveBeenCalledWith("10 Spaces selected");
    });
    and("the parking lot should be initialized with 10 spaces", () => {
      const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.BrowserRouter, null, /*#__PURE__*/_react2.default.createElement(_Base.default, null))));
      const input = screen.getByTestId("input");
      const button = screen.getByText("Submit");
      _react.fireEvent.change(input, {
        target: {
          value: 15
        }
      });
      _react.fireEvent.click(button);
      expect(store.getState().parking.numSpaces).toEqual(10);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfamVzdEN1Y3VtYmVyIiwicmVxdWlyZSIsIl9yZWFjdCIsIl9CYXNlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9yZWFjdDIiLCJfcGFya2luZ1NsaWNlIiwiX3JlYWN0UmVkdXgiLCJfdG9vbGtpdCIsIl9yZWFjdFJvdXRlckRvbSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZmVhdHVyZSIsImxvYWRGZWF0dXJlIiwic3RvcmUiLCJyZW5kZXJlZCIsImRlZmluZUZlYXR1cmUiLCJ0ZXN0IiwiZ2l2ZW4iLCJ3aGVuIiwidGhlbiIsImFuZCIsImNvbmZpZ3VyZVN0b3JlIiwicmVkdWNlciIsInBhcmtpbmciLCJwYXJraW5nU2xpY2UiLCJzY3JlZW4iLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJCcm93c2VyUm91dGVyIiwiZXhwZWN0IiwidG9CZVRydXRoeSIsImlucHV0IiwiZ2V0QnlUZXN0SWQiLCJidXR0b24iLCJnZXRCeVRleHQiLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsImNsaWNrIiwid2luZG93IiwiYWxlcnQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImdldFN0YXRlIiwibnVtU3BhY2VzIiwidG9FcXVhbCJdLCJzb3VyY2VzIjpbImJhc2Uuc3RlcHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmluZUZlYXR1cmUsIGxvYWRGZWF0dXJlIH0gZnJvbSBcImplc3QtY3VjdW1iZXJcIjtcclxuaW1wb3J0IHsgZmlyZUV2ZW50LCByZW5kZXIsIHdhaXRGb3IgfSBmcm9tIFwiQHRlc3RpbmctbGlicmFyeS9yZWFjdFwiO1xyXG5pbXBvcnQgQmFzZSBmcm9tIFwiLi4vLi4vQmFzZVwiO1xyXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBcInRleHQtZW5jb2RpbmdcIjtcclxuaW1wb3J0IHBhcmtpbmdTbGljZSwge1xyXG4gIGluaXRpYWxpemVQYXJraW5nTG90LFxyXG59IGZyb20gXCIuLi8uLi9yZWR1eC9yZWR1Y2VyL3BhcmtpbmdTbGljZVwiO1xyXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgeyBjb25maWd1cmVTdG9yZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XHJcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyLCBSb3V0ZXMsIFJvdXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcclxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XHJcbmNvbnN0IGZlYXR1cmUgPSBsb2FkRmVhdHVyZShcInNyYy9jb21wb25lbnRzL2ZlYXR1cmVzL2Jhc2UuZmVhdHVyZVwiKTtcclxubGV0IHN0b3JlOiBhbnk7XHJcbmxldCByZW5kZXJlZDogYW55O1xyXG5kZWZpbmVGZWF0dXJlKGZlYXR1cmUsICh0ZXN0KSA9PiB7XHJcbiAgdGVzdChcIlVzZXIgZW50ZXJzIHRoZSBudW1iZXIgb2Ygc3BhY2VzXCIsICh7IGdpdmVuLCB3aGVuLCB0aGVuLCBhbmQgfSkgPT4ge1xyXG4gICAgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XHJcbiAgICAgIHJlZHVjZXI6IHtcclxuICAgICAgICBwYXJraW5nOiBwYXJraW5nU2xpY2UsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIGdpdmVuKFwidGhlIHVzZXIgaXMgb24gdGhlIGhvbWUgcGFnZVwiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNjcmVlbiA9IHJlbmRlcihcclxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cclxuICAgICAgICAgIDxSb3V0ZXI+XHJcbiAgICAgICAgICAgIDxCYXNlIC8+XHJcbiAgICAgICAgICA8L1JvdXRlcj5cclxuICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICApO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICAgIHdoZW4oXCJ0aGUgdXNlciBlbnRlcnMgc29tZSBpbnB1dCBpbiB0aGUgaW5wdXQgZmllbGQgYW5kIHN1Ym1pdHNcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzY3JlZW4gPSByZW5kZXIoXHJcbiAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgICA8Um91dGVyPlxyXG4gICAgICAgICAgICA8QmFzZSAvPlxyXG4gICAgICAgICAgPC9Sb3V0ZXI+XHJcbiAgICAgICAgPC9Qcm92aWRlcj5cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoXCJFbnRlciB0aGUgU3BhY2VzXCIpO1xyXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KFwiU3VibWl0XCIpO1xyXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogMTAgfSB9KTtcclxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJ1dHRvbik7XHJcbiAgICAgIGV4cGVjdCh3aW5kb3cuYWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFwiMTAgU3BhY2VzIHNlbGVjdGVkXCIpO1xyXG4gICAgfSk7XHJcbiAgICB0aGVuKCdhbiBhbGVydCBpcyBkaXNwbGF5ZWQgd2l0aCBcIjEwIFNwYWNlcyBzZWxlY3RlZFwiJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzY3JlZW4gPSByZW5kZXIoXHJcbiAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgICA8Um91dGVyPlxyXG4gICAgICAgICAgICA8QmFzZSAvPlxyXG4gICAgICAgICAgPC9Sb3V0ZXI+XHJcbiAgICAgICAgPC9Qcm92aWRlcj5cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoXCJFbnRlciB0aGUgU3BhY2VzXCIpO1xyXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KFwiU3VibWl0XCIpO1xyXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogMTUgfSB9KTtcclxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJ1dHRvbik7XHJcbiAgICAgIGV4cGVjdCh3aW5kb3cuYWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFwiMTAgU3BhY2VzIHNlbGVjdGVkXCIpO1xyXG4gICAgfSk7XHJcbiAgICBhbmQoXCJ0aGUgcGFya2luZyBsb3Qgc2hvdWxkIGJlIGluaXRpYWxpemVkIHdpdGggMTAgc3BhY2VzXCIsICgpID0+IHtcclxuICAgICAgY29uc3Qgc2NyZWVuID0gcmVuZGVyKFxyXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgICAgPFJvdXRlcj5cclxuICAgICAgICAgICAgPEJhc2UgLz5cclxuICAgICAgICAgIDwvUm91dGVyPlxyXG4gICAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoXCJTdWJtaXRcIik7XHJcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoaW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAxNSB9IH0pO1xyXG4gICAgICBmaXJlRXZlbnQuY2xpY2soYnV0dG9uKTtcclxuICAgICAgZXhwZWN0KHN0b3JlLmdldFN0YXRlKCkucGFya2luZy5udW1TcGFjZXMpLnRvRXF1YWwoMTApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBQyxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBRCxzQkFBQSxDQUFB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