{"version":3,"names":["module","exports","Quantifier","path","node","kind","rewriteOpenZero","rewriteOpenOne","rewriteExactOne","from","to","parentPath","replace","expression"],"sources":["quantifier-range-to-symbol-transform.js"],"sourcesContent":["/**\n * The MIT License (MIT)\n * Copyright (c) 2017-present Dmitry Soshnikov <dmitry.soshnikov@gmail.com>\n */\n\n'use strict';\n\n/**\n * A regexp-tree plugin to replace different range-based quantifiers\n * with their symbol equivalents.\n *\n * a{0,} -> a*\n * a{1,} -> a+\n * a{1} -> a\n *\n * NOTE: the following is automatically handled in the generator:\n *\n * a{3,3} -> a{3}\n */\n\nmodule.exports = {\n  Quantifier: function Quantifier(path) {\n    var node = path.node;\n\n\n    if (node.kind !== 'Range') {\n      return;\n    }\n\n    // a{0,} -> a*\n    rewriteOpenZero(path);\n\n    // a{1,} -> a+\n    rewriteOpenOne(path);\n\n    // a{1} -> a\n    rewriteExactOne(path);\n  }\n};\n\nfunction rewriteOpenZero(path) {\n  var node = path.node;\n\n\n  if (node.from !== 0 || node.to) {\n    return;\n  }\n\n  node.kind = '*';\n  delete node.from;\n}\n\nfunction rewriteOpenOne(path) {\n  var node = path.node;\n\n\n  if (node.from !== 1 || node.to) {\n    return;\n  }\n\n  node.kind = '+';\n  delete node.from;\n}\n\nfunction rewriteExactOne(path) {\n  var node = path.node;\n\n\n  if (node.from !== 1 || node.to !== 1) {\n    return;\n  }\n\n  path.parentPath.replace(path.parentPath.node.expression);\n}"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,MAAM,CAACC,OAAO,GAAG;EACfC,UAAU,EAAE,SAASA,UAAUA,CAACC,IAAI,EAAE;IACpC,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;IAGpB,IAAIA,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;MACzB;IACF;;IAEA;IACAC,eAAe,CAACH,IAAI,CAAC;;IAErB;IACAI,cAAc,CAACJ,IAAI,CAAC;;IAEpB;IACAK,eAAe,CAACL,IAAI,CAAC;EACvB;AACF,CAAC;AAED,SAASG,eAAeA,CAACH,IAAI,EAAE;EAC7B,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;EAGpB,IAAIA,IAAI,CAACK,IAAI,KAAK,CAAC,IAAIL,IAAI,CAACM,EAAE,EAAE;IAC9B;EACF;EAEAN,IAAI,CAACC,IAAI,GAAG,GAAG;EACf,OAAOD,IAAI,CAACK,IAAI;AAClB;AAEA,SAASF,cAAcA,CAACJ,IAAI,EAAE;EAC5B,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;EAGpB,IAAIA,IAAI,CAACK,IAAI,KAAK,CAAC,IAAIL,IAAI,CAACM,EAAE,EAAE;IAC9B;EACF;EAEAN,IAAI,CAACC,IAAI,GAAG,GAAG;EACf,OAAOD,IAAI,CAACK,IAAI;AAClB;AAEA,SAASD,eAAeA,CAACL,IAAI,EAAE;EAC7B,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;EAGpB,IAAIA,IAAI,CAACK,IAAI,KAAK,CAAC,IAAIL,IAAI,CAACM,EAAE,KAAK,CAAC,EAAE;IACpC;EACF;EAEAP,IAAI,CAACQ,UAAU,CAACC,OAAO,CAACT,IAAI,CAACQ,UAAU,CAACP,IAAI,CAACS,UAAU,CAAC;AAC1D"}