{"version":3,"names":["Object","defineProperty","exports","value","default","canonicalize","_has_property","_interopRequireDefault","require","_type","obj","__esModule","stack","withStack","fn","push","result","pop","indexOf","map","item","canonicalizedObj","keys","sort","key","toString"],"sources":["canonicalize.js"],"sourcesContent":["\"use strict\";Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = canonicalize;var _has_property = _interopRequireDefault(require(\"./has_property\"));\nvar _type = _interopRequireDefault(require(\"./type\"));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}\n\nfunction canonicalize(value, stack) {\n  stack = stack || [];\n\n  function withStack(fn) {\n    stack.push(value);\n    const result = fn();\n    stack.pop();\n    return result;\n  }\n\n  if (stack.indexOf(value) !== -1) {\n    return '[Circular]';\n  }\n\n  switch ((0, _type.default)(value)) {\n    case 'array':\n      return withStack(function () {\n        return value.map(function (item) {\n          return canonicalize(item, stack);\n        });\n      });\n    case 'function':\n      if (!(0, _has_property.default)(value)) {\n        return '[Function]';\n      }\n    /* falls through */\n    case 'object':\n      return withStack(function () {\n        const canonicalizedObj = {};\n        Object.keys(value).\n        sort().\n        map(function (key) {\n          canonicalizedObj[key] = canonicalize(value[key], stack);\n        });\n        return canonicalizedObj;\n      });\n    case 'boolean':\n    case 'buffer':\n    case 'date':\n    case 'null':\n    case 'number':\n    case 'regexp':\n    case 'symbol':\n    case 'undefined':\n      return value;\n    default:\n      return value.toString();}\n\n}"],"mappings":"AAAA,YAAY;;AAACA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAACD,OAAO,CAACE,OAAO,GAAGC,YAAY;AAAC,IAAIC,aAAa,GAAGC,sBAAsB,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC/K,IAAIC,KAAK,GAAGF,sBAAsB,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAAC,SAASD,sBAAsBA,CAACG,GAAG,EAAE;EAAC,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEN,OAAO,EAAEM;EAAI,CAAC;AAAC;AAElJ,SAASL,YAAYA,CAACF,KAAK,EAAES,KAAK,EAAE;EAClCA,KAAK,GAAGA,KAAK,IAAI,EAAE;EAEnB,SAASC,SAASA,CAACC,EAAE,EAAE;IACrBF,KAAK,CAACG,IAAI,CAACZ,KAAK,CAAC;IACjB,MAAMa,MAAM,GAAGF,EAAE,EAAE;IACnBF,KAAK,CAACK,GAAG,EAAE;IACX,OAAOD,MAAM;EACf;EAEA,IAAIJ,KAAK,CAACM,OAAO,CAACf,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;IAC/B,OAAO,YAAY;EACrB;EAEA,QAAQ,CAAC,CAAC,EAAEM,KAAK,CAACL,OAAO,EAAED,KAAK,CAAC;IAC/B,KAAK,OAAO;MACV,OAAOU,SAAS,CAAC,YAAY;QAC3B,OAAOV,KAAK,CAACgB,GAAG,CAAC,UAAUC,IAAI,EAAE;UAC/B,OAAOf,YAAY,CAACe,IAAI,EAAER,KAAK,CAAC;QAClC,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,KAAK,UAAU;MACb,IAAI,CAAC,CAAC,CAAC,EAAEN,aAAa,CAACF,OAAO,EAAED,KAAK,CAAC,EAAE;QACtC,OAAO,YAAY;MACrB;IACF;IACA,KAAK,QAAQ;MACX,OAAOU,SAAS,CAAC,YAAY;QAC3B,MAAMQ,gBAAgB,GAAG,CAAC,CAAC;QAC3BrB,MAAM,CAACsB,IAAI,CAACnB,KAAK,CAAC,CAClBoB,IAAI,EAAE,CACNJ,GAAG,CAAC,UAAUK,GAAG,EAAE;UACjBH,gBAAgB,CAACG,GAAG,CAAC,GAAGnB,YAAY,CAACF,KAAK,CAACqB,GAAG,CAAC,EAAEZ,KAAK,CAAC;QACzD,CAAC,CAAC;QACF,OAAOS,gBAAgB;MACzB,CAAC,CAAC;IACJ,KAAK,SAAS;IACd,KAAK,QAAQ;IACb,KAAK,MAAM;IACX,KAAK,MAAM;IACX,KAAK,QAAQ;IACb,KAAK,QAAQ;IACb,KAAK,QAAQ;IACb,KAAK,WAAW;MACd,OAAOlB,KAAK;IACd;MACE,OAAOA,KAAK,CAACsB,QAAQ,EAAE;EAAC;AAE9B"}