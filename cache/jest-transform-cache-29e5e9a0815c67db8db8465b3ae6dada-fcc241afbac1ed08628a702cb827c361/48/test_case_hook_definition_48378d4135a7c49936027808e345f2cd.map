{"version":3,"names":["pickle_filter_1","require","definition_1","__importDefault","TestCaseHookDefinition","default","constructor","data","name","options","tagExpression","tags","pickleTagFilter","PickleTagFilter","appliesToTestCase","pickle","matchesAllTagExpressions","getInvocationParameters","hookParameter","Promise","resolve","getInvalidCodeLengthMessage","buildInvalidCodeLengthMessage","parameters","validCodeLengths","exports"],"sources":["../../src/models/test_case_hook_definition.ts"],"sourcesContent":["import { PickleTagFilter } from '../pickle_filter'\nimport Definition, {\n  IDefinition,\n  IDefinitionParameters,\n  IGetInvocationDataRequest,\n  IGetInvocationDataResponse,\n  IHookDefinitionOptions,\n} from './definition'\nimport * as messages from '@cucumber/messages'\n\nexport default class TestCaseHookDefinition\n  extends Definition\n  implements IDefinition\n{\n  public readonly name: string\n  public readonly tagExpression: string\n  private readonly pickleTagFilter: PickleTagFilter\n\n  constructor(data: IDefinitionParameters<IHookDefinitionOptions>) {\n    super(data)\n    this.name = data.options.name\n    this.tagExpression = data.options.tags\n    this.pickleTagFilter = new PickleTagFilter(data.options.tags)\n  }\n\n  appliesToTestCase(pickle: messages.Pickle): boolean {\n    return this.pickleTagFilter.matchesAllTagExpressions(pickle)\n  }\n\n  async getInvocationParameters({\n    hookParameter,\n  }: IGetInvocationDataRequest): Promise<IGetInvocationDataResponse> {\n    return await Promise.resolve({\n      getInvalidCodeLengthMessage: () =>\n        this.buildInvalidCodeLengthMessage('0 or 1', '2'),\n      parameters: [hookParameter],\n      validCodeLengths: [0, 1, 2],\n    })\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,OAAA;AACA,MAAAC,YAAA,GAAAC,eAAA,CAAAF,OAAA;AASA,MAAqBG,sBACnB,SAAQF,YAAA,CAAAG,OAAU;EAOlBC,YAAYC,IAAmD;IAC7D,KAAK,CAACA,IAAI,CAAC;IACX,IAAI,CAACC,IAAI,GAAGD,IAAI,CAACE,OAAO,CAACD,IAAI;IAC7B,IAAI,CAACE,aAAa,GAAGH,IAAI,CAACE,OAAO,CAACE,IAAI;IACtC,IAAI,CAACC,eAAe,GAAG,IAAIZ,eAAA,CAAAa,eAAe,CAACN,IAAI,CAACE,OAAO,CAACE,IAAI,CAAC;EAC/D;EAEAG,iBAAiBA,CAACC,MAAuB;IACvC,OAAO,IAAI,CAACH,eAAe,CAACI,wBAAwB,CAACD,MAAM,CAAC;EAC9D;EAEA,MAAME,uBAAuBA,CAAC;IAC5BC;EAAa,CACa;IAC1B,OAAO,MAAMC,OAAO,CAACC,OAAO,CAAC;MAC3BC,2BAA2B,EAAEA,CAAA,KAC3B,IAAI,CAACC,6BAA6B,CAAC,QAAQ,EAAE,GAAG,CAAC;MACnDC,UAAU,EAAE,CAACL,aAAa,CAAC;MAC3BM,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;KAC3B,CAAC;EACJ;;AA5BFC,OAAA,CAAApB,OAAA,GAAAD,sBAAA"}