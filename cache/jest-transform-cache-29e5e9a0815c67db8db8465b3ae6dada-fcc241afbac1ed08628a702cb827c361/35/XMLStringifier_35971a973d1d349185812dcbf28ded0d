9bf227cbce2db372a4736e2221920613
"use strict";

// Generated by CoffeeScript 2.4.1
(function () {
  // Converts values to strings
  var XMLStringifier,
    hasProp = {}.hasOwnProperty;
  module.exports = XMLStringifier = function () {
    class XMLStringifier {
      // Initializes a new instance of `XMLStringifier`

      // `options.version` The version number string of the XML spec to validate against, e.g. 1.0
      // `options.noDoubleEncoding` whether existing html entities are encoded: true or false
      // `options.stringify` a set of functions to use for converting values to strings
      // `options.noValidation` whether values will be validated and escaped or returned as is
      // `options.invalidCharReplacement` a character to replace invalid characters and disable character validation
      constructor(options) {
        var key, ref, value;
        // Checks whether the given string contains legal characters
        // Fails with an exception on error

        // `str` the string to check
        this.assertLegalChar = this.assertLegalChar.bind(this);
        // Checks whether the given string contains legal characters for a name
        // Fails with an exception on error

        // `str` the string to check
        this.assertLegalName = this.assertLegalName.bind(this);
        options || (options = {});
        this.options = options;
        if (!this.options.version) {
          this.options.version = '1.0';
        }
        ref = options.stringify || {};
        for (key in ref) {
          if (!hasProp.call(ref, key)) continue;
          value = ref[key];
          this[key] = value;
        }
      }

      // Defaults
      name(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalName('' + val || '');
      }
      text(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar(this.textEscape('' + val || ''));
      }
      cdata(val) {
        if (this.options.noValidation) {
          return val;
        }
        val = '' + val || '';
        val = val.replace(']]>', ']]]]><![CDATA[>');
        return this.assertLegalChar(val);
      }
      comment(val) {
        if (this.options.noValidation) {
          return val;
        }
        val = '' + val || '';
        if (val.match(/--/)) {
          throw new Error("Comment text cannot contain double-hypen: " + val);
        }
        return this.assertLegalChar(val);
      }
      raw(val) {
        if (this.options.noValidation) {
          return val;
        }
        return '' + val || '';
      }
      attValue(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar(this.attEscape(val = '' + val || ''));
      }
      insTarget(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      insValue(val) {
        if (this.options.noValidation) {
          return val;
        }
        val = '' + val || '';
        if (val.match(/\?>/)) {
          throw new Error("Invalid processing instruction value: " + val);
        }
        return this.assertLegalChar(val);
      }
      xmlVersion(val) {
        if (this.options.noValidation) {
          return val;
        }
        val = '' + val || '';
        if (!val.match(/1\.[0-9]+/)) {
          throw new Error("Invalid version number: " + val);
        }
        return val;
      }
      xmlEncoding(val) {
        if (this.options.noValidation) {
          return val;
        }
        val = '' + val || '';
        if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {
          throw new Error("Invalid encoding: " + val);
        }
        return this.assertLegalChar(val);
      }
      xmlStandalone(val) {
        if (this.options.noValidation) {
          return val;
        }
        if (val) {
          return "yes";
        } else {
          return "no";
        }
      }
      dtdPubID(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      dtdSysID(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      dtdElementValue(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      dtdAttType(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      dtdAttDefault(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      dtdEntityValue(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      dtdNData(val) {
        if (this.options.noValidation) {
          return val;
        }
        return this.assertLegalChar('' + val || '');
      }
      assertLegalChar(str) {
        var regex, res;
        if (this.options.noValidation) {
          return str;
        }
        if (this.options.version === '1.0') {
          // Valid characters from https://www.w3.org/TR/xml/#charsets
          // any Unicode character, excluding the surrogate blocks, FFFE, and FFFF.
          // #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]
          // This ES5 compatible Regexp has been generated using the "regenerate" NPM module:
          //   let xml_10_InvalidChars = regenerate()
          //     .addRange(0x0000, 0x0008)
          //     .add(0x000B, 0x000C)
          //     .addRange(0x000E, 0x001F)
          //     .addRange(0xD800, 0xDFFF)
          //     .addRange(0xFFFE, 0xFFFF)
          regex = /[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g;
          if (this.options.invalidCharReplacement !== void 0) {
            str = str.replace(regex, this.options.invalidCharReplacement);
          } else if (res = str.match(regex)) {
            throw new Error(`Invalid character in string: ${str} at index ${res.index}`);
          }
        } else if (this.options.version === '1.1') {
          // Valid characters from https://www.w3.org/TR/xml11/#charsets
          // any Unicode character, excluding the surrogate blocks, FFFE, and FFFF.
          // [#x1-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]
          // This ES5 compatible Regexp has been generated using the "regenerate" NPM module:
          //   let xml_11_InvalidChars = regenerate()
          //     .add(0x0000)
          //     .addRange(0xD800, 0xDFFF)
          //     .addRange(0xFFFE, 0xFFFF)
          regex = /[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g;
          if (this.options.invalidCharReplacement !== void 0) {
            str = str.replace(regex, this.options.invalidCharReplacement);
          } else if (res = str.match(regex)) {
            throw new Error(`Invalid character in string: ${str} at index ${res.index}`);
          }
        }
        return str;
      }
      assertLegalName(str) {
        var regex;
        if (this.options.noValidation) {
          return str;
        }
        str = this.assertLegalChar(str);
        regex = /^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;
        if (!str.match(regex)) {
          throw new Error(`Invalid character in name: ${str}`);
        }
        return str;
      }

      // Escapes special characters in text

      // See http://www.w3.org/TR/2000/WD-xml-c14n-20000119.html#charescaping

      // `str` the string to escape
      textEscape(str) {
        var ampregex;
        if (this.options.noValidation) {
          return str;
        }
        ampregex = this.options.noDoubleEncoding ? /(?!&(lt|gt|amp|apos|quot);)&/g : /&/g;
        return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\r/g, '&#xD;');
      }

      // Escapes special characters in attribute values

      // See http://www.w3.org/TR/2000/WD-xml-c14n-20000119.html#charescaping

      // `str` the string to escape
      attEscape(str) {
        var ampregex;
        if (this.options.noValidation) {
          return str;
        }
        ampregex = this.options.noDoubleEncoding ? /(?!&(lt|gt|amp|apos|quot);)&/g : /&/g;
        return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/"/g, '&quot;').replace(/\t/g, '&#x9;').replace(/\n/g, '&#xA;').replace(/\r/g, '&#xD;');
      }
    }
    ;

    // strings to match while converting from JS objects
    XMLStringifier.prototype.convertAttKey = '@';
    XMLStringifier.prototype.convertPIKey = '?';
    XMLStringifier.prototype.convertTextKey = '#text';
    XMLStringifier.prototype.convertCDataKey = '#cdata';
    XMLStringifier.prototype.convertCommentKey = '#comment';
    XMLStringifier.prototype.convertRawKey = '#raw';
    return XMLStringifier;
  }.call(this);
}).call(void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJYTUxTdHJpbmdpZmllciIsImhhc1Byb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIm1vZHVsZSIsImV4cG9ydHMiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJrZXkiLCJyZWYiLCJ2YWx1ZSIsImFzc2VydExlZ2FsQ2hhciIsImJpbmQiLCJhc3NlcnRMZWdhbE5hbWUiLCJ2ZXJzaW9uIiwic3RyaW5naWZ5IiwiY2FsbCIsIm5hbWUiLCJ2YWwiLCJub1ZhbGlkYXRpb24iLCJ0ZXh0IiwidGV4dEVzY2FwZSIsImNkYXRhIiwicmVwbGFjZSIsImNvbW1lbnQiLCJtYXRjaCIsIkVycm9yIiwicmF3IiwiYXR0VmFsdWUiLCJhdHRFc2NhcGUiLCJpbnNUYXJnZXQiLCJpbnNWYWx1ZSIsInhtbFZlcnNpb24iLCJ4bWxFbmNvZGluZyIsInhtbFN0YW5kYWxvbmUiLCJkdGRQdWJJRCIsImR0ZFN5c0lEIiwiZHRkRWxlbWVudFZhbHVlIiwiZHRkQXR0VHlwZSIsImR0ZEF0dERlZmF1bHQiLCJkdGRFbnRpdHlWYWx1ZSIsImR0ZE5EYXRhIiwic3RyIiwicmVnZXgiLCJyZXMiLCJpbnZhbGlkQ2hhclJlcGxhY2VtZW50IiwiaW5kZXgiLCJhbXByZWdleCIsIm5vRG91YmxlRW5jb2RpbmciLCJwcm90b3R5cGUiLCJjb252ZXJ0QXR0S2V5IiwiY29udmVydFBJS2V5IiwiY29udmVydFRleHRLZXkiLCJjb252ZXJ0Q0RhdGFLZXkiLCJjb252ZXJ0Q29tbWVudEtleSIsImNvbnZlcnRSYXdLZXkiXSwic291cmNlcyI6WyJYTUxTdHJpbmdpZmllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDIuNC4xXG4oZnVuY3Rpb24oKSB7XG4gIC8vIENvbnZlcnRzIHZhbHVlcyB0byBzdHJpbmdzXG4gIHZhciBYTUxTdHJpbmdpZmllcixcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxTdHJpbmdpZmllciA9IChmdW5jdGlvbigpIHtcbiAgICBjbGFzcyBYTUxTdHJpbmdpZmllciB7XG4gICAgICAvLyBJbml0aWFsaXplcyBhIG5ldyBpbnN0YW5jZSBvZiBgWE1MU3RyaW5naWZpZXJgXG5cbiAgICAgIC8vIGBvcHRpb25zLnZlcnNpb25gIFRoZSB2ZXJzaW9uIG51bWJlciBzdHJpbmcgb2YgdGhlIFhNTCBzcGVjIHRvIHZhbGlkYXRlIGFnYWluc3QsIGUuZy4gMS4wXG4gICAgICAvLyBgb3B0aW9ucy5ub0RvdWJsZUVuY29kaW5nYCB3aGV0aGVyIGV4aXN0aW5nIGh0bWwgZW50aXRpZXMgYXJlIGVuY29kZWQ6IHRydWUgb3IgZmFsc2VcbiAgICAgIC8vIGBvcHRpb25zLnN0cmluZ2lmeWAgYSBzZXQgb2YgZnVuY3Rpb25zIHRvIHVzZSBmb3IgY29udmVydGluZyB2YWx1ZXMgdG8gc3RyaW5nc1xuICAgICAgLy8gYG9wdGlvbnMubm9WYWxpZGF0aW9uYCB3aGV0aGVyIHZhbHVlcyB3aWxsIGJlIHZhbGlkYXRlZCBhbmQgZXNjYXBlZCBvciByZXR1cm5lZCBhcyBpc1xuICAgICAgLy8gYG9wdGlvbnMuaW52YWxpZENoYXJSZXBsYWNlbWVudGAgYSBjaGFyYWN0ZXIgdG8gcmVwbGFjZSBpbnZhbGlkIGNoYXJhY3RlcnMgYW5kIGRpc2FibGUgY2hhcmFjdGVyIHZhbGlkYXRpb25cbiAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGtleSwgcmVmLCB2YWx1ZTtcbiAgICAgICAgLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIHN0cmluZyBjb250YWlucyBsZWdhbCBjaGFyYWN0ZXJzXG4gICAgICAgIC8vIEZhaWxzIHdpdGggYW4gZXhjZXB0aW9uIG9uIGVycm9yXG5cbiAgICAgICAgLy8gYHN0cmAgdGhlIHN0cmluZyB0byBjaGVja1xuICAgICAgICB0aGlzLmFzc2VydExlZ2FsQ2hhciA9IHRoaXMuYXNzZXJ0TGVnYWxDaGFyLmJpbmQodGhpcyk7XG4gICAgICAgIC8vIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBzdHJpbmcgY29udGFpbnMgbGVnYWwgY2hhcmFjdGVycyBmb3IgYSBuYW1lXG4gICAgICAgIC8vIEZhaWxzIHdpdGggYW4gZXhjZXB0aW9uIG9uIGVycm9yXG5cbiAgICAgICAgLy8gYHN0cmAgdGhlIHN0cmluZyB0byBjaGVja1xuICAgICAgICB0aGlzLmFzc2VydExlZ2FsTmFtZSA9IHRoaXMuYXNzZXJ0TGVnYWxOYW1lLmJpbmQodGhpcyk7XG4gICAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnZlcnNpb24pIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMudmVyc2lvbiA9ICcxLjAnO1xuICAgICAgICB9XG4gICAgICAgIHJlZiA9IG9wdGlvbnMuc3RyaW5naWZ5IHx8IHt9O1xuICAgICAgICBmb3IgKGtleSBpbiByZWYpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRGVmYXVsdHNcbiAgICAgIG5hbWUodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbE5hbWUoJycgKyB2YWwgfHwgJycpO1xuICAgICAgfVxuXG4gICAgICB0ZXh0KHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHRoaXMudGV4dEVzY2FwZSgnJyArIHZhbCB8fCAnJykpO1xuICAgICAgfVxuXG4gICAgICBjZGF0YSh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgICB2YWwgPSB2YWwucmVwbGFjZSgnXV0+JywgJ11dXV0+PCFbQ0RBVEFbPicpO1xuICAgICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIodmFsKTtcbiAgICAgIH1cblxuICAgICAgY29tbWVudCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgICBpZiAodmFsLm1hdGNoKC8tLS8pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tbWVudCB0ZXh0IGNhbm5vdCBjb250YWluIGRvdWJsZS1oeXBlbjogXCIgKyB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgICAgfVxuXG4gICAgICByYXcodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgICB9XG5cbiAgICAgIGF0dFZhbHVlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHRoaXMuYXR0RXNjYXBlKHZhbCA9ICcnICsgdmFsIHx8ICcnKSk7XG4gICAgICB9XG5cbiAgICAgIGluc1RhcmdldCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgICB9XG5cbiAgICAgIGluc1ZhbHVlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICAgIGlmICh2YWwubWF0Y2goL1xcPz4vKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiB2YWx1ZTogXCIgKyB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgICAgfVxuXG4gICAgICB4bWxWZXJzaW9uKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICAgIGlmICghdmFsLm1hdGNoKC8xXFwuWzAtOV0rLykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZlcnNpb24gbnVtYmVyOiBcIiArIHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cblxuICAgICAgeG1sRW5jb2RpbmcodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgICAgaWYgKCF2YWwubWF0Y2goL15bQS1aYS16XSg/OltBLVphLXowLTkuXy1dKSokLykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVuY29kaW5nOiBcIiArIHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHZhbCk7XG4gICAgICB9XG5cbiAgICAgIHhtbFN0YW5kYWxvbmUodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIFwieWVzXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwibm9cIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkdGRQdWJJRCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgICB9XG5cbiAgICAgIGR0ZFN5c0lEKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKCcnICsgdmFsIHx8ICcnKTtcbiAgICAgIH1cblxuICAgICAgZHRkRWxlbWVudFZhbHVlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKCcnICsgdmFsIHx8ICcnKTtcbiAgICAgIH1cblxuICAgICAgZHRkQXR0VHlwZSh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgICB9XG5cbiAgICAgIGR0ZEF0dERlZmF1bHQodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIoJycgKyB2YWwgfHwgJycpO1xuICAgICAgfVxuXG4gICAgICBkdGRFbnRpdHlWYWx1ZSh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgICB9XG5cbiAgICAgIGR0ZE5EYXRhKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKCcnICsgdmFsIHx8ICcnKTtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0TGVnYWxDaGFyKHN0cikge1xuICAgICAgICB2YXIgcmVnZXgsIHJlcztcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmVyc2lvbiA9PT0gJzEuMCcpIHtcbiAgICAgICAgICAvLyBWYWxpZCBjaGFyYWN0ZXJzIGZyb20gaHR0cHM6Ly93d3cudzMub3JnL1RSL3htbC8jY2hhcnNldHNcbiAgICAgICAgICAvLyBhbnkgVW5pY29kZSBjaGFyYWN0ZXIsIGV4Y2x1ZGluZyB0aGUgc3Vycm9nYXRlIGJsb2NrcywgRkZGRSwgYW5kIEZGRkYuXG4gICAgICAgICAgLy8gI3g5IHwgI3hBIHwgI3hEIHwgWyN4MjAtI3hEN0ZGXSB8IFsjeEUwMDAtI3hGRkZEXSB8IFsjeDEwMDAwLSN4MTBGRkZGXVxuICAgICAgICAgIC8vIFRoaXMgRVM1IGNvbXBhdGlibGUgUmVnZXhwIGhhcyBiZWVuIGdlbmVyYXRlZCB1c2luZyB0aGUgXCJyZWdlbmVyYXRlXCIgTlBNIG1vZHVsZTpcbiAgICAgICAgICAvLyAgIGxldCB4bWxfMTBfSW52YWxpZENoYXJzID0gcmVnZW5lcmF0ZSgpXG4gICAgICAgICAgLy8gICAgIC5hZGRSYW5nZSgweDAwMDAsIDB4MDAwOClcbiAgICAgICAgICAvLyAgICAgLmFkZCgweDAwMEIsIDB4MDAwQylcbiAgICAgICAgICAvLyAgICAgLmFkZFJhbmdlKDB4MDAwRSwgMHgwMDFGKVxuICAgICAgICAgIC8vICAgICAuYWRkUmFuZ2UoMHhEODAwLCAweERGRkYpXG4gICAgICAgICAgLy8gICAgIC5hZGRSYW5nZSgweEZGRkUsIDB4RkZGRilcbiAgICAgICAgICByZWdleCA9IC9bXFwwLVxceDA4XFx4MEJcXGZcXHgwRS1cXHgxRlxcdUZGRkVcXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXS9nO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW52YWxpZENoYXJSZXBsYWNlbWVudCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZWdleCwgdGhpcy5vcHRpb25zLmludmFsaWRDaGFyUmVwbGFjZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVzID0gc3RyLm1hdGNoKHJlZ2V4KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNoYXJhY3RlciBpbiBzdHJpbmc6ICR7c3RyfSBhdCBpbmRleCAke3Jlcy5pbmRleH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnZlcnNpb24gPT09ICcxLjEnKSB7XG4gICAgICAgICAgLy8gVmFsaWQgY2hhcmFjdGVycyBmcm9tIGh0dHBzOi8vd3d3LnczLm9yZy9UUi94bWwxMS8jY2hhcnNldHNcbiAgICAgICAgICAvLyBhbnkgVW5pY29kZSBjaGFyYWN0ZXIsIGV4Y2x1ZGluZyB0aGUgc3Vycm9nYXRlIGJsb2NrcywgRkZGRSwgYW5kIEZGRkYuXG4gICAgICAgICAgLy8gWyN4MS0jeEQ3RkZdIHwgWyN4RTAwMC0jeEZGRkRdIHwgWyN4MTAwMDAtI3gxMEZGRkZdXG4gICAgICAgICAgLy8gVGhpcyBFUzUgY29tcGF0aWJsZSBSZWdleHAgaGFzIGJlZW4gZ2VuZXJhdGVkIHVzaW5nIHRoZSBcInJlZ2VuZXJhdGVcIiBOUE0gbW9kdWxlOlxuICAgICAgICAgIC8vICAgbGV0IHhtbF8xMV9JbnZhbGlkQ2hhcnMgPSByZWdlbmVyYXRlKClcbiAgICAgICAgICAvLyAgICAgLmFkZCgweDAwMDApXG4gICAgICAgICAgLy8gICAgIC5hZGRSYW5nZSgweEQ4MDAsIDB4REZGRilcbiAgICAgICAgICAvLyAgICAgLmFkZFJhbmdlKDB4RkZGRSwgMHhGRkZGKVxuICAgICAgICAgIHJlZ2V4ID0gL1tcXDBcXHVGRkZFXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0vZztcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludmFsaWRDaGFyUmVwbGFjZW1lbnQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmVnZXgsIHRoaXMub3B0aW9ucy5pbnZhbGlkQ2hhclJlcGxhY2VtZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcyA9IHN0ci5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjaGFyYWN0ZXIgaW4gc3RyaW5nOiAke3N0cn0gYXQgaW5kZXggJHtyZXMuaW5kZXh9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG5cbiAgICAgIGFzc2VydExlZ2FsTmFtZShzdHIpIHtcbiAgICAgICAgdmFyIHJlZ2V4O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICAgICAgc3RyID0gdGhpcy5hc3NlcnRMZWdhbENoYXIoc3RyKTtcbiAgICAgICAgcmVnZXggPSAvXihbOkEtWl9hLXpcXHhDMC1cXHhENlxceEQ4LVxceEY2XFx4RjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMENcXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXXxbXFx1RDgwMC1cXHVEQjdGXVtcXHVEQzAwLVxcdURGRkZdKShbXFx4MkRcXC4wLTpBLVpfYS16XFx4QjdcXHhDMC1cXHhENlxceEQ4LVxceEY2XFx4RjgtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMENcXHUyMDBEXFx1MjAzRlxcdTIwNDBcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdfFtcXHVEODAwLVxcdURCN0ZdW1xcdURDMDAtXFx1REZGRl0pKiQvO1xuICAgICAgICBpZiAoIXN0ci5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyIGluIG5hbWU6ICR7c3RyfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG5cbiAgICAgIC8vIEVzY2FwZXMgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIHRleHRcblxuICAgICAgLy8gU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDAvV0QteG1sLWMxNG4tMjAwMDAxMTkuaHRtbCNjaGFyZXNjYXBpbmdcblxuICAgICAgLy8gYHN0cmAgdGhlIHN0cmluZyB0byBlc2NhcGVcbiAgICAgIHRleHRFc2NhcGUoc3RyKSB7XG4gICAgICAgIHZhciBhbXByZWdleDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgICAgIGFtcHJlZ2V4ID0gdGhpcy5vcHRpb25zLm5vRG91YmxlRW5jb2RpbmcgPyAvKD8hJihsdHxndHxhbXB8YXBvc3xxdW90KTspJi9nIDogLyYvZztcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKGFtcHJlZ2V4LCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoL1xcci9nLCAnJiN4RDsnKTtcbiAgICAgIH1cblxuICAgICAgLy8gRXNjYXBlcyBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gYXR0cmlidXRlIHZhbHVlc1xuXG4gICAgICAvLyBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMC9XRC14bWwtYzE0bi0yMDAwMDExOS5odG1sI2NoYXJlc2NhcGluZ1xuXG4gICAgICAvLyBgc3RyYCB0aGUgc3RyaW5nIHRvIGVzY2FwZVxuICAgICAgYXR0RXNjYXBlKHN0cikge1xuICAgICAgICB2YXIgYW1wcmVnZXg7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfVxuICAgICAgICBhbXByZWdleCA9IHRoaXMub3B0aW9ucy5ub0RvdWJsZUVuY29kaW5nID8gLyg/ISYobHR8Z3R8YW1wfGFwb3N8cXVvdCk7KSYvZyA6IC8mL2c7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZShhbXByZWdleCwgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC9cXHQvZywgJyYjeDk7JykucmVwbGFjZSgvXFxuL2csICcmI3hBOycpLnJlcGxhY2UoL1xcci9nLCAnJiN4RDsnKTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICAvLyBzdHJpbmdzIHRvIG1hdGNoIHdoaWxlIGNvbnZlcnRpbmcgZnJvbSBKUyBvYmplY3RzXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRBdHRLZXkgPSAnQCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydFBJS2V5ID0gJz8nO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRUZXh0S2V5ID0gJyN0ZXh0JztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0Q0RhdGFLZXkgPSAnI2NkYXRhJztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0Q29tbWVudEtleSA9ICcjY29tbWVudCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydFJhd0tleSA9ICcjcmF3JztcblxuICAgIHJldHVybiBYTUxTdHJpbmdpZmllcjtcblxuICB9KS5jYWxsKHRoaXMpO1xuXG59KS5jYWxsKHRoaXMpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0EsQ0FBQyxZQUFXO0VBQ1Y7RUFDQSxJQUFJQSxjQUFjO0lBQ2hCQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUNDLGNBQWM7RUFFN0JDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSixjQUFjLEdBQUksWUFBVztJQUM1QyxNQUFNQSxjQUFjLENBQUM7TUFDbkI7O01BRUE7TUFDQTtNQUNBO01BQ0E7TUFDQTtN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