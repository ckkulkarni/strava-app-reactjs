501e652cfadf9e66033e03b4fb2bd38b
"use strict";

exports.__esModule = true;
exports.default = exports.modes = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _Transition = require("./Transition");
var _TransitionGroupContext = _interopRequireDefault(require("./TransitionGroupContext"));
var _leaveRenders, _enterRenders;
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}
function areChildrenDifferent(oldChildren, newChildren) {
  if (oldChildren === newChildren) return false;
  if (_react.default.isValidElement(oldChildren) && _react.default.isValidElement(newChildren) && oldChildren.key != null && oldChildren.key === newChildren.key) {
    return false;
  }
  return true;
}
/**
 * Enum of modes for SwitchTransition component
 * @enum { string }
 */

var modes = {
  out: 'out-in',
  in: 'in-out'
};
exports.modes = modes;
var callHook = function callHook(element, name, cb) {
  return function () {
    var _element$props;
    element.props[name] && (_element$props = element.props)[name].apply(_element$props, arguments);
    cb();
  };
};
var leaveRenders = (_leaveRenders = {}, _leaveRenders[modes.out] = function (_ref) {
  var current = _ref.current,
    changeState = _ref.changeState;
  return _react.default.cloneElement(current, {
    in: false,
    onExited: callHook(current, 'onExited', function () {
      changeState(_Transition.ENTERING, null);
    })
  });
}, _leaveRenders[modes.in] = function (_ref2) {
  var current = _ref2.current,
    changeState = _ref2.changeState,
    children = _ref2.children;
  return [current, _react.default.cloneElement(children, {
    in: true,
    onEntered: callHook(children, 'onEntered', function () {
      changeState(_Transition.ENTERING);
    })
  })];
}, _leaveRenders);
var enterRenders = (_enterRenders = {}, _enterRenders[modes.out] = function (_ref3) {
  var children = _ref3.children,
    changeState = _ref3.changeState;
  return _react.default.cloneElement(children, {
    in: true,
    onEntered: callHook(children, 'onEntered', function () {
      changeState(_Transition.ENTERED, _react.default.cloneElement(children, {
        in: true
      }));
    })
  });
}, _enterRenders[modes.in] = function (_ref4) {
  var current = _ref4.current,
    children = _ref4.children,
    changeState = _ref4.changeState;
  return [_react.default.cloneElement(current, {
    in: false,
    onExited: callHook(current, 'onExited', function () {
      changeState(_Transition.ENTERED, _react.default.cloneElement(children, {
        in: true
      }));
    })
  }), _react.default.cloneElement(children, {
    in: true
  })];
}, _enterRenders);
/**
 * A transition component inspired by the [vue transition modes](https://vuejs.org/v2/guide/transitions.html#Transition-Modes).
 * You can use it when you want to control the render between state transitions.
 * Based on the selected mode and the child's key which is the `Transition` or `CSSTransition` component, the `SwitchTransition` makes a consistent transition between them.
 *
 * If the `out-in` mode is selected, the `SwitchTransition` waits until the old child leaves and then inserts a new child.
 * If the `in-out` mode is selected, the `SwitchTransition` inserts a new child first, waits for the new child to enter and then removes the old child.
 *
 * **Note**: If you want the animation to happen simultaneously
 * (that is, to have the old child removed and a new child inserted **at the same time**),
 * you should use
 * [`TransitionGroup`](https://reactcommunity.org/react-transition-group/transition-group)
 * instead.
 *
 * ```jsx
 * function App() {
 *  const [state, setState] = useState(false);
 *  return (
 *    <SwitchTransition>
 *      <CSSTransition
 *        key={state ? "Goodbye, world!" : "Hello, world!"}
 *        addEndListener={(node, done) => node.addEventListener("transitionend", done, false)}
 *        classNames='fade'
 *      >
 *        <button onClick={() => setState(state => !state)}>
 *          {state ? "Goodbye, world!" : "Hello, world!"}
 *        </button>
 *      </CSSTransition>
 *    </SwitchTransition>
 *  );
 * }
 * ```
 *
 * ```css
 * .fade-enter{
 *    opacity: 0;
 * }
 * .fade-exit{
 *    opacity: 1;
 * }
 * .fade-enter-active{
 *    opacity: 1;
 * }
 * .fade-exit-active{
 *    opacity: 0;
 * }
 * .fade-enter-active,
 * .fade-exit-active{
 *    transition: opacity 500ms;
 * }
 * ```
 */

var SwitchTransition = /*#__PURE__*/function (_React$Component) {
  _inheritsLoose(SwitchTransition, _React$Component);
  function SwitchTransition() {
    var _this;
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
    _this.state = {
      status: _Transition.ENTERED,
      current: null
    };
    _this.appeared = false;
    _this.changeState = function (status, current) {
      if (current === void 0) {
        current = _this.state.current;
      }
      _this.setState({
        status: status,
        current: current
      });
    };
    return _this;
  }
  var _proto = SwitchTransition.prototype;
  _proto.componentDidMount = function componentDidMount() {
    this.appeared = true;
  };
  SwitchTransition.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {
    if (props.children == null) {
      return {
        current: null
      };
    }
    if (state.status === _Transition.ENTERING && props.mode === modes.in) {
      return {
        status: _Transition.ENTERING
      };
    }
    if (state.current && areChildrenDifferent(state.current, props.children)) {
      return {
        status: _Transition.EXITING
      };
    }
    return {
      current: _react.default.cloneElement(props.children, {
        in: true
      })
    };
  };
  _proto.render = function render() {
    var _this$props = this.props,
      children = _this$props.children,
      mode = _this$props.mode,
      _this$state = this.state,
      status = _this$state.status,
      current = _this$state.current;
    var data = {
      children: children,
      current: current,
      changeState: this.changeState,
      status: status
    };
    var component;
    switch (status) {
      case _Transition.ENTERING:
        component = enterRenders[mode](data);
        break;
      case _Transition.EXITING:
        component = leaveRenders[mode](data);
        break;
      case _Transition.ENTERED:
        component = current;
    }
    return /*#__PURE__*/_react.default.createElement(_TransitionGroupContext.default.Provider, {
      value: {
        isMounting: !this.appeared
      }
    }, component);
  };
  return SwitchTransition;
}(_react.default.Component);
SwitchTransition.propTypes = process.env.NODE_ENV !== "production" ? {
  /**
   * Transition modes.
   * `out-in`: Current element transitions out first, then when complete, the new element transitions in.
   * `in-out`: New element transitions in first, then when complete, the current element transitions out.
   *
   * @type {'out-in'|'in-out'}
   */
  mode: _propTypes.default.oneOf([modes.in, modes.out]),
  /**
   * Any `Transition` or `CSSTransition` component.
   */
  children: _propTypes.default.oneOfType([_propTypes.default.element.isRequired])
} : {};
SwitchTransition.defaultProps = {
  mode: modes.out
};
var _default = SwitchTransition;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb2RlcyIsIl9yZWFjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb3BUeXBlcyIsIl9UcmFuc2l0aW9uIiwiX1RyYW5zaXRpb25Hcm91cENvbnRleHQiLCJfbGVhdmVSZW5kZXJzIiwiX2VudGVyUmVuZGVycyIsIm9iaiIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfX3Byb3RvX18iLCJhcmVDaGlsZHJlbkRpZmZlcmVudCIsIm9sZENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJpc1ZhbGlkRWxlbWVudCIsImtleSIsIm91dCIsImluIiwiY2FsbEhvb2siLCJlbGVtZW50IiwibmFtZSIsImNiIiwiX2VsZW1lbnQkcHJvcHMiLCJwcm9wcyIsImFwcGx5IiwiYXJndW1lbnRzIiwibGVhdmVSZW5kZXJzIiwiX3JlZiIsImN1cnJlbnQiLCJjaGFuZ2VTdGF0ZSIsImNsb25lRWxlbWVudCIsIm9uRXhpdGVkIiwiRU5URVJJTkciLCJfcmVmMiIsImNoaWxkcmVuIiwib25FbnRlcmVkIiwiZW50ZXJSZW5kZXJzIiwiX3JlZjMiLCJFTlRFUkVEIiwiX3JlZjQiLCJTd2l0Y2hUcmFuc2l0aW9uIiwiX1JlYWN0JENvbXBvbmVudCIsIl90aGlzIiwiX2xlbiIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiY29uY2F0Iiwic3RhdGUiLCJzdGF0dXMiLCJhcHBlYXJlZCIsInNldFN0YXRlIiwiX3Byb3RvIiwiY29tcG9uZW50RGlkTW91bnQiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJtb2RlIiwiRVhJVElORyIsInJlbmRlciIsIl90aGlzJHByb3BzIiwiX3RoaXMkc3RhdGUiLCJkYXRhIiwiY29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwidmFsdWUiLCJpc01vdW50aW5nIiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwib25lT2YiLCJvbmVPZlR5cGUiLCJpc1JlcXVpcmVkIiwiZGVmYXVsdFByb3BzIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJTd2l0Y2hUcmFuc2l0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5tb2RlcyA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpKTtcblxudmFyIF9UcmFuc2l0aW9uID0gcmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXBDb250ZXh0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9UcmFuc2l0aW9uR3JvdXBDb250ZXh0XCIpKTtcblxudmFyIF9sZWF2ZVJlbmRlcnMsIF9lbnRlclJlbmRlcnM7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBhcmVDaGlsZHJlbkRpZmZlcmVudChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4pIHtcbiAgaWYgKG9sZENoaWxkcmVuID09PSBuZXdDaGlsZHJlbikgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChfcmVhY3QuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChvbGRDaGlsZHJlbikgJiYgX3JlYWN0LmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQobmV3Q2hpbGRyZW4pICYmIG9sZENoaWxkcmVuLmtleSAhPSBudWxsICYmIG9sZENoaWxkcmVuLmtleSA9PT0gbmV3Q2hpbGRyZW4ua2V5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEVudW0gb2YgbW9kZXMgZm9yIFN3aXRjaFRyYW5zaXRpb24gY29tcG9uZW50XG4gKiBAZW51bSB7IHN0cmluZyB9XG4gKi9cblxuXG52YXIgbW9kZXMgPSB7XG4gIG91dDogJ291dC1pbicsXG4gIGluOiAnaW4tb3V0J1xufTtcbmV4cG9ydHMubW9kZXMgPSBtb2RlcztcblxudmFyIGNhbGxIb29rID0gZnVuY3Rpb24gY2FsbEhvb2soZWxlbWVudCwgbmFtZSwgY2IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2VsZW1lbnQkcHJvcHM7XG5cbiAgICBlbGVtZW50LnByb3BzW25hbWVdICYmIChfZWxlbWVudCRwcm9wcyA9IGVsZW1lbnQucHJvcHMpW25hbWVdLmFwcGx5KF9lbGVtZW50JHByb3BzLCBhcmd1bWVudHMpO1xuICAgIGNiKCk7XG4gIH07XG59O1xuXG52YXIgbGVhdmVSZW5kZXJzID0gKF9sZWF2ZVJlbmRlcnMgPSB7fSwgX2xlYXZlUmVuZGVyc1ttb2Rlcy5vdXRdID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGN1cnJlbnQgPSBfcmVmLmN1cnJlbnQsXG4gICAgICBjaGFuZ2VTdGF0ZSA9IF9yZWYuY2hhbmdlU3RhdGU7XG4gIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY3VycmVudCwge1xuICAgIGluOiBmYWxzZSxcbiAgICBvbkV4aXRlZDogY2FsbEhvb2soY3VycmVudCwgJ29uRXhpdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgY2hhbmdlU3RhdGUoX1RyYW5zaXRpb24uRU5URVJJTkcsIG51bGwpO1xuICAgIH0pXG4gIH0pO1xufSwgX2xlYXZlUmVuZGVyc1ttb2Rlcy5pbl0gPSBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGN1cnJlbnQgPSBfcmVmMi5jdXJyZW50LFxuICAgICAgY2hhbmdlU3RhdGUgPSBfcmVmMi5jaGFuZ2VTdGF0ZSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW47XG4gIHJldHVybiBbY3VycmVudCwgX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgaW46IHRydWUsXG4gICAgb25FbnRlcmVkOiBjYWxsSG9vayhjaGlsZHJlbiwgJ29uRW50ZXJlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZVN0YXRlKF9UcmFuc2l0aW9uLkVOVEVSSU5HKTtcbiAgICB9KVxuICB9KV07XG59LCBfbGVhdmVSZW5kZXJzKTtcbnZhciBlbnRlclJlbmRlcnMgPSAoX2VudGVyUmVuZGVycyA9IHt9LCBfZW50ZXJSZW5kZXJzW21vZGVzLm91dF0gPSBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjMuY2hpbGRyZW4sXG4gICAgICBjaGFuZ2VTdGF0ZSA9IF9yZWYzLmNoYW5nZVN0YXRlO1xuICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgaW46IHRydWUsXG4gICAgb25FbnRlcmVkOiBjYWxsSG9vayhjaGlsZHJlbiwgJ29uRW50ZXJlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZVN0YXRlKF9UcmFuc2l0aW9uLkVOVEVSRUQsIF9yZWFjdC5kZWZhdWx0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICBpbjogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pXG4gIH0pO1xufSwgX2VudGVyUmVuZGVyc1ttb2Rlcy5pbl0gPSBmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIGN1cnJlbnQgPSBfcmVmNC5jdXJyZW50LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmNC5jaGlsZHJlbixcbiAgICAgIGNoYW5nZVN0YXRlID0gX3JlZjQuY2hhbmdlU3RhdGU7XG4gIHJldHVybiBbX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGN1cnJlbnQsIHtcbiAgICBpbjogZmFsc2UsXG4gICAgb25FeGl0ZWQ6IGNhbGxIb29rKGN1cnJlbnQsICdvbkV4aXRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZVN0YXRlKF9UcmFuc2l0aW9uLkVOVEVSRUQsIF9yZWFjdC5kZWZhdWx0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICBpbjogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pXG4gIH0pLCBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICBpbjogdHJ1ZVxuICB9KV07XG59LCBfZW50ZXJSZW5kZXJzKTtcbi8qKlxuICogQSB0cmFuc2l0aW9uIGNvbXBvbmVudCBpbnNwaXJlZCBieSB0aGUgW3Z1ZSB0cmFuc2l0aW9uIG1vZGVzXShodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS90cmFuc2l0aW9ucy5odG1sI1RyYW5zaXRpb24tTW9kZXMpLlxuICogWW91IGNhbiB1c2UgaXQgd2hlbiB5b3Ugd2FudCB0byBjb250cm9sIHRoZSByZW5kZXIgYmV0d2VlbiBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAqIEJhc2VkIG9uIHRoZSBzZWxlY3RlZCBtb2RlIGFuZCB0aGUgY2hpbGQncyBrZXkgd2hpY2ggaXMgdGhlIGBUcmFuc2l0aW9uYCBvciBgQ1NTVHJhbnNpdGlvbmAgY29tcG9uZW50LCB0aGUgYFN3aXRjaFRyYW5zaXRpb25gIG1ha2VzIGEgY29uc2lzdGVudCB0cmFuc2l0aW9uIGJldHdlZW4gdGhlbS5cbiAqXG4gKiBJZiB0aGUgYG91dC1pbmAgbW9kZSBpcyBzZWxlY3RlZCwgdGhlIGBTd2l0Y2hUcmFuc2l0aW9uYCB3YWl0cyB1bnRpbCB0aGUgb2xkIGNoaWxkIGxlYXZlcyBhbmQgdGhlbiBpbnNlcnRzIGEgbmV3IGNoaWxkLlxuICogSWYgdGhlIGBpbi1vdXRgIG1vZGUgaXMgc2VsZWN0ZWQsIHRoZSBgU3dpdGNoVHJhbnNpdGlvbmAgaW5zZXJ0cyBhIG5ldyBjaGlsZCBmaXJzdCwgd2FpdHMgZm9yIHRoZSBuZXcgY2hpbGQgdG8gZW50ZXIgYW5kIHRoZW4gcmVtb3ZlcyB0aGUgb2xkIGNoaWxkLlxuICpcbiAqICoqTm90ZSoqOiBJZiB5b3Ugd2FudCB0aGUgYW5pbWF0aW9uIHRvIGhhcHBlbiBzaW11bHRhbmVvdXNseVxuICogKHRoYXQgaXMsIHRvIGhhdmUgdGhlIG9sZCBjaGlsZCByZW1vdmVkIGFuZCBhIG5ldyBjaGlsZCBpbnNlcnRlZCAqKmF0IHRoZSBzYW1lIHRpbWUqKiksXG4gKiB5b3Ugc2hvdWxkIHVzZVxuICogW2BUcmFuc2l0aW9uR3JvdXBgXShodHRwczovL3JlYWN0Y29tbXVuaXR5Lm9yZy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3RyYW5zaXRpb24tZ3JvdXApXG4gKiBpbnN0ZWFkLlxuICpcbiAqIGBgYGpzeFxuICogZnVuY3Rpb24gQXBwKCkge1xuICogIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICogIHJldHVybiAoXG4gKiAgICA8U3dpdGNoVHJhbnNpdGlvbj5cbiAqICAgICAgPENTU1RyYW5zaXRpb25cbiAqICAgICAgICBrZXk9e3N0YXRlID8gXCJHb29kYnllLCB3b3JsZCFcIiA6IFwiSGVsbG8sIHdvcmxkIVwifVxuICogICAgICAgIGFkZEVuZExpc3RlbmVyPXsobm9kZSwgZG9uZSkgPT4gbm9kZS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBkb25lLCBmYWxzZSl9XG4gKiAgICAgICAgY2xhc3NOYW1lcz0nZmFkZSdcbiAqICAgICAgPlxuICogICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U3RhdGUoc3RhdGUgPT4gIXN0YXRlKX0+XG4gKiAgICAgICAgICB7c3RhdGUgPyBcIkdvb2RieWUsIHdvcmxkIVwiIDogXCJIZWxsbywgd29ybGQhXCJ9XG4gKiAgICAgICAgPC9idXR0b24+XG4gKiAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAqICAgIDwvU3dpdGNoVHJhbnNpdGlvbj5cbiAqICApO1xuICogfVxuICogYGBgXG4gKlxuICogYGBgY3NzXG4gKiAuZmFkZS1lbnRlcntcbiAqICAgIG9wYWNpdHk6IDA7XG4gKiB9XG4gKiAuZmFkZS1leGl0e1xuICogICAgb3BhY2l0eTogMTtcbiAqIH1cbiAqIC5mYWRlLWVudGVyLWFjdGl2ZXtcbiAqICAgIG9wYWNpdHk6IDE7XG4gKiB9XG4gKiAuZmFkZS1leGl0LWFjdGl2ZXtcbiAqICAgIG9wYWNpdHk6IDA7XG4gKiB9XG4gKiAuZmFkZS1lbnRlci1hY3RpdmUsXG4gKiAuZmFkZS1leGl0LWFjdGl2ZXtcbiAqICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7XG4gKiB9XG4gKiBgYGBcbiAqL1xuXG52YXIgU3dpdGNoVHJhbnNpdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShTd2l0Y2hUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTd2l0Y2hUcmFuc2l0aW9uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3RhdHVzOiBfVHJhbnNpdGlvbi5FTlRFUkVELFxuICAgICAgY3VycmVudDogbnVsbFxuICAgIH07XG4gICAgX3RoaXMuYXBwZWFyZWQgPSBmYWxzZTtcblxuICAgIF90aGlzLmNoYW5nZVN0YXRlID0gZnVuY3Rpb24gKHN0YXR1cywgY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjdXJyZW50ID0gX3RoaXMuc3RhdGUuY3VycmVudDtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgY3VycmVudDogY3VycmVudFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTd2l0Y2hUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmFwcGVhcmVkID0gdHJ1ZTtcbiAgfTtcblxuICBTd2l0Y2hUcmFuc2l0aW9uLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICBpZiAocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3VycmVudDogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuc3RhdHVzID09PSBfVHJhbnNpdGlvbi5FTlRFUklORyAmJiBwcm9wcy5tb2RlID09PSBtb2Rlcy5pbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBfVHJhbnNpdGlvbi5FTlRFUklOR1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuY3VycmVudCAmJiBhcmVDaGlsZHJlbkRpZmZlcmVudChzdGF0ZS5jdXJyZW50LCBwcm9wcy5jaGlsZHJlbikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogX1RyYW5zaXRpb24uRVhJVElOR1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudDogX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KHByb3BzLmNoaWxkcmVuLCB7XG4gICAgICAgIGluOiB0cnVlXG4gICAgICB9KVxuICAgIH07XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBtb2RlID0gX3RoaXMkcHJvcHMubW9kZSxcbiAgICAgICAgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBzdGF0dXMgPSBfdGhpcyRzdGF0ZS5zdGF0dXMsXG4gICAgICAgIGN1cnJlbnQgPSBfdGhpcyRzdGF0ZS5jdXJyZW50O1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgIGNoYW5nZVN0YXRlOiB0aGlzLmNoYW5nZVN0YXRlLFxuICAgICAgc3RhdHVzOiBzdGF0dXNcbiAgICB9O1xuICAgIHZhciBjb21wb25lbnQ7XG5cbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSBfVHJhbnNpdGlvbi5FTlRFUklORzpcbiAgICAgICAgY29tcG9uZW50ID0gZW50ZXJSZW5kZXJzW21vZGVdKGRhdGEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBfVHJhbnNpdGlvbi5FWElUSU5HOlxuICAgICAgICBjb21wb25lbnQgPSBsZWF2ZVJlbmRlcnNbbW9kZV0oZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIF9UcmFuc2l0aW9uLkVOVEVSRUQ6XG4gICAgICAgIGNvbXBvbmVudCA9IGN1cnJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXBDb250ZXh0LmRlZmF1bHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGlzTW91bnRpbmc6ICF0aGlzLmFwcGVhcmVkXG4gICAgICB9XG4gICAgfSwgY29tcG9uZW50KTtcbiAgfTtcblxuICByZXR1cm4gU3dpdGNoVHJhbnNpdGlvbjtcbn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTtcblxuU3dpdGNoVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIG1vZGVzLlxuICAgKiBgb3V0LWluYDogQ3VycmVudCBlbGVtZW50IHRyYW5zaXRpb25zIG91dCBmaXJzdCwgdGhlbiB3aGVuIGNvbXBsZXRlLCB0aGUgbmV3IGVsZW1lbnQgdHJhbnNpdGlvbnMgaW4uXG4gICAqIGBpbi1vdXRgOiBOZXcgZWxlbWVudCB0cmFuc2l0aW9ucyBpbiBmaXJzdCwgdGhlbiB3aGVuIGNvbXBsZXRlLCB0aGUgY3VycmVudCBlbGVtZW50IHRyYW5zaXRpb25zIG91dC5cbiAgICpcbiAgICogQHR5cGUgeydvdXQtaW4nfCdpbi1vdXQnfVxuICAgKi9cbiAgbW9kZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFttb2Rlcy5pbiwgbW9kZXMub3V0XSksXG5cbiAgLyoqXG4gICAqIEFueSBgVHJhbnNpdGlvbmAgb3IgYENTU1RyYW5zaXRpb25gIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuZWxlbWVudC5pc1JlcXVpcmVkXSlcbn0gOiB7fTtcblN3aXRjaFRyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBtb2RlOiBtb2Rlcy5vdXRcbn07XG52YXIgX2RlZmF1bHQgPSBTd2l0Y2hUcmFuc2l0aW9uO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxPQUFPLENBQUNDLFVBQVUsR0FBRyxJQUFJO0FBQ3pCRCxPQUFPLENBQUNFLE9BQU8sR0FBR0YsT0FBTyxDQUFDRyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBRXhDLElBQUlDLE1BQU0sR0FBR0Msc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUVyRCxJQUFJQyxVQUFVLEdBQUdGLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFFOUQsSUFBSUUsV0FBVyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBRXpDLElBQUlHLHVCQUF1QixHQUFHSixzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFFekYsSUFBSUksYUFBYSxFQUFFQyxhQUFhO0FBRWhDLFNBQVNOLHNCQUFzQkEsQ0FBQ08sR0FBRyxFQUFFO0VBQUUsT0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNYLFVBQVUsR0FBR1csR0FBRyxHQUFHO0lBQUVWLE9BQU8sRUFBRVU7RUFBSSxDQUFDO0FBQUU7QUFFOUYsU0FBU0MsY0FBY0EsQ0FBQ0MsUUFBUSxFQUFFQyxVQUFVLEVBQUU7RUFBRUQsUUFBUSxDQUFDRSxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDSCxVQUFVLENBQUNDLFNBQVMsQ0FBQztFQUFFRixRQUFRLENBQUNFLFNBQVMsQ0FBQ0csV0FBVyxHQUFHTCxRQUFRO0VBQUVBLFFBQVEsQ0FBQ00sU0FBUyxHQUFHTCxVQUFVO0FBQUU7QUFFdEwsU0FBU00sb0JBQW9CQSxDQUFDQyxXQUFXLEVBQUVDLFdBQVcsRUFBRTtFQUN0RCxJQUFJRCxXQUFXLEtBQUtD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