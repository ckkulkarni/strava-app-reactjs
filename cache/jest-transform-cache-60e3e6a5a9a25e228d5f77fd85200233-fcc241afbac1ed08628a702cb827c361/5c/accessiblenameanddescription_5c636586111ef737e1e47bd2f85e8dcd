9b5300feb913b531f489e0e57b9b22a0
"use strict";

exports.__esModule = true;
exports.computeTextAlternative = computeTextAlternative;
var _array = _interopRequireDefault(require("./polyfills/array.from"));
var _SetLike = _interopRequireDefault(require("./polyfills/SetLike"));
var _util = require("./util");
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
/**
 * implements https://w3c.github.io/accname/
 */

/**
 *
 * @param {string} string -
 * @returns {FlatString} -
 */
function asFlatString(s) {
  return s.trim().replace(/\s\s+/g, " ");
}

/**
 *
 * @param node -
 * @param options - These are not optional to prevent accidentally calling it without options in `computeAccessibleName`
 * @returns {boolean} -
 */
function isHidden(node, getComputedStyleImplementation) {
  if (!(0, _util.isElement)(node)) {
    return false;
  }
  if (node.hasAttribute("hidden") || node.getAttribute("aria-hidden") === "true") {
    return true;
  }
  var style = getComputedStyleImplementation(node);
  return style.getPropertyValue("display") === "none" || style.getPropertyValue("visibility") === "hidden";
}

/**
 * @param {Node} node -
 * @returns {boolean} - As defined in step 2E of https://w3c.github.io/accname/#mapping_additional_nd_te
 */
function isControl(node) {
  return (0, _util.hasAnyConcreteRoles)(node, ["button", "combobox", "listbox", "textbox"]) || hasAbstractRole(node, "range");
}
function hasAbstractRole(node, role) {
  if (!(0, _util.isElement)(node)) {
    return false;
  }
  switch (role) {
    case "range":
      return (0, _util.hasAnyConcreteRoles)(node, ["meter", "progressbar", "scrollbar", "slider", "spinbutton"]);
    default:
      throw new TypeError("No knowledge about abstract role '".concat(role, "'. This is likely a bug :("));
  }
}

/**
 * element.querySelectorAll but also considers owned tree
 * @param element
 * @param selectors
 */
function querySelectorAllSubtree(element, selectors) {
  var elements = (0, _array.default)(element.querySelectorAll(selectors));
  (0, _util.queryIdRefs)(element, "aria-owns").forEach(function (root) {
    // babel transpiles this assuming an iterator
    elements.push.apply(elements, (0, _array.default)(root.querySelectorAll(selectors)));
  });
  return elements;
}
function querySelectedOptions(listbox) {
  if ((0, _util.isHTMLSelectElement)(listbox)) {
    // IE11 polyfill
    return listbox.selectedOptions || querySelectorAllSubtree(listbox, "[selected]");
  }
  return querySelectorAllSubtree(listbox, '[aria-selected="true"]');
}
function isMarkedPresentational(node) {
  return (0, _util.hasAnyConcreteRoles)(node, ["none", "presentation"]);
}

/**
 * Elements specifically listed in html-aam
 *
 * We don't need this for `label` or `legend` elements.
 * Their implicit roles already allow "naming from content".
 *
 * sources:
 *
 * - https://w3c.github.io/html-aam/#table-element
 */
function isNativeHostLanguageTextAlternativeElement(node) {
  return (0, _util.isHTMLTableCaptionElement)(node);
}

/**
 * https://w3c.github.io/aria/#namefromcontent
 */
function allowsNameFromContent(node) {
  return (0, _util.hasAnyConcreteRoles)(node, ["button", "cell", "checkbox", "columnheader", "gridcell", "heading", "label", "legend", "link", "menuitem", "menuitemcheckbox", "menuitemradio", "option", "radio", "row", "rowheader", "switch", "tab", "tooltip", "treeitem"]);
}

/**
 * TODO https://github.com/eps1lon/dom-accessibility-api/issues/100
 */
function isDescendantOfNativeHostLanguageTextAlternativeElement(
// eslint-disable-next-line @typescript-eslint/no-unused-vars -- not implemented yet
node) {
  return false;
}
function getValueOfTextbox(element) {
  if ((0, _util.isHTMLInputElement)(element) || (0, _util.isHTMLTextAreaElement)(element)) {
    return element.value;
  }
  // https://github.com/eps1lon/dom-accessibility-api/issues/4
  return element.textContent || "";
}
function getTextualContent(declaration) {
  var content = declaration.getPropertyValue("content");
  if (/^["'].*["']$/.test(content)) {
    return content.slice(1, -1);
  }
  return "";
}

/**
 * https://html.spec.whatwg.org/multipage/forms.html#category-label
 * TODO: form-associated custom elements
 * @param element
 */
function isLabelableElement(element) {
  var localName = (0, _util.getLocalName)(element);
  return localName === "button" || localName === "input" && element.getAttribute("type") !== "hidden" || localName === "meter" || localName === "output" || localName === "progress" || localName === "select" || localName === "textarea";
}

/**
 * > [...], then the first such descendant in tree order is the label element's labeled control.
 * -- https://html.spec.whatwg.org/multipage/forms.html#labeled-control
 * @param element
 */
function findLabelableElement(element) {
  if (isLabelableElement(element)) {
    return element;
  }
  var labelableElement = null;
  element.childNodes.forEach(function (childNode) {
    if (labelableElement === null && (0, _util.isElement)(childNode)) {
      var descendantLabelableElement = findLabelableElement(childNode);
      if (descendantLabelableElement !== null) {
        labelableElement = descendantLabelableElement;
      }
    }
  });
  return labelableElement;
}

/**
 * Polyfill of HTMLLabelElement.control
 * https://html.spec.whatwg.org/multipage/forms.html#labeled-control
 * @param label
 */
function getControlOfLabel(label) {
  if (label.control !== undefined) {
    return label.control;
  }
  var htmlFor = label.getAttribute("for");
  if (htmlFor !== null) {
    return label.ownerDocument.getElementById(htmlFor);
  }
  return findLabelableElement(label);
}

/**
 * Polyfill of HTMLInputElement.labels
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/labels
 * @param element
 */
function getLabels(element) {
  var labelsProperty = element.labels;
  if (labelsProperty === null) {
    return labelsProperty;
  }
  if (labelsProperty !== undefined) {
    return (0, _array.default)(labelsProperty);
  }

  // polyfill
  if (!isLabelableElement(element)) {
    return null;
  }
  var document = element.ownerDocument;
  return (0, _array.default)(document.querySelectorAll("label")).filter(function (label) {
    return getControlOfLabel(label) === element;
  });
}

/**
 * Gets the contents of a slot used for computing the accname
 * @param slot
 */
function getSlotContents(slot) {
  // Computing the accessible name for elements containing slots is not
  // currently defined in the spec. This implementation reflects the
  // behavior of NVDA 2020.2/Firefox 81 and iOS VoiceOver/Safari 13.6.
  var assignedNodes = slot.assignedNodes();
  if (assignedNodes.length === 0) {
    // if no nodes are assigned to the slot, it displays the default content
    return (0, _array.default)(slot.childNodes);
  }
  return assignedNodes;
}

/**
 * implements https://w3c.github.io/accname/#mapping_additional_nd_te
 * @param root
 * @param options
 * @returns
 */
function computeTextAlternative(root) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var consultedNodes = new _SetLike.default();
  var window = (0, _util.safeWindow)(root);
  var _options$compute = options.compute,
    compute = _options$compute === void 0 ? "name" : _options$compute,
    _options$computedStyl = options.computedStyleSupportsPseudoElements,
    computedStyleSupportsPseudoElements = _options$computedStyl === void 0 ? options.getComputedStyle !== undefined : _options$computedStyl,
    _options$getComputedS = options.getComputedStyle,
    getComputedStyle = _options$getComputedS === void 0 ? window.getComputedStyle.bind(window) : _options$getComputedS,
    _options$hidden = options.hidden,
    hidden = _options$hidden === void 0 ? false : _options$hidden;

  // 2F.i
  function computeMiscTextAlternative(node, context) {
    var accumulatedText = "";
    if ((0, _util.isElement)(node) && computedStyleSupportsPseudoElements) {
      var pseudoBefore = getComputedStyle(node, "::before");
      var beforeContent = getTextualContent(pseudoBefore);
      accumulatedText = "".concat(beforeContent, " ").concat(accumulatedText);
    }

    // FIXME: Including aria-owns is not defined in the spec
    // But it is required in the web-platform-test
    var childNodes = (0, _util.isHTMLSlotElement)(node) ? getSlotContents(node) : (0, _array.default)(node.childNodes).concat((0, _util.queryIdRefs)(node, "aria-owns"));
    childNodes.forEach(function (child) {
      var result = computeTextAlternative(child, {
        isEmbeddedInLabel: context.isEmbeddedInLabel,
        isReferenced: false,
        recursion: true
      });
      // TODO: Unclear why display affects delimiter
      // see https://github.com/w3c/accname/issues/3
      var display = (0, _util.isElement)(child) ? getComputedStyle(child).getPropertyValue("display") : "inline";
      var separator = display !== "inline" ? " " : "";
      // trailing separator for wpt tests
      accumulatedText += "".concat(separator).concat(result).concat(separator);
    });
    if ((0, _util.isElement)(node) && computedStyleSupportsPseudoElements) {
      var pseudoAfter = getComputedStyle(node, "::after");
      var afterContent = getTextualContent(pseudoAfter);
      accumulatedText = "".concat(accumulatedText, " ").concat(afterContent);
    }
    return accumulatedText.trim();
  }

  /**
   *
   * @param element
   * @param attributeName
   * @returns A string non-empty string or `null`
   */
  function useAttribute(element, attributeName) {
    var attribute = element.getAttributeNode(attributeName);
    if (attribute !== null && !consultedNodes.has(attribute) && attribute.value.trim() !== "") {
      consultedNodes.add(attribute);
      return attribute.value;
    }
    return null;
  }
  function computeTooltipAttributeValue(node) {
    if (!(0, _util.isElement)(node)) {
      return null;
    }
    return useAttribute(node, "title");
  }
  function computeElementTextAlternative(node) {
    if (!(0, _util.isElement)(node)) {
      return null;
    }

    // https://w3c.github.io/html-aam/#fieldset-and-legend-elements
    if ((0, _util.isHTMLFieldSetElement)(node)) {
      consultedNodes.add(node);
      var children = (0, _array.default)(node.childNodes);
      for (var i = 0; i < children.length; i += 1) {
        var child = children[i];
        if ((0, _util.isHTMLLegendElement)(child)) {
          return computeTextAlternative(child, {
            isEmbeddedInLabel: false,
            isReferenced: false,
            recursion: false
          });
        }
      }
    } else if ((0, _util.isHTMLTableElement)(node)) {
      // https://w3c.github.io/html-aam/#table-element
      consultedNodes.add(node);
      var _children = (0, _array.default)(node.childNodes);
      for (var _i = 0; _i < _children.length; _i += 1) {
        var _child = _children[_i];
        if ((0, _util.isHTMLTableCaptionElement)(_child)) {
          return computeTextAlternative(_child, {
            isEmbeddedInLabel: false,
            isReferenced: false,
            recursion: false
          });
        }
      }
    } else if ((0, _util.isSVGSVGElement)(node)) {
      // https://www.w3.org/TR/svg-aam-1.0/
      consultedNodes.add(node);
      var _children2 = (0, _array.default)(node.childNodes);
      for (var _i2 = 0; _i2 < _children2.length; _i2 += 1) {
        var _child2 = _children2[_i2];
        if ((0, _util.isSVGTitleElement)(_child2)) {
          return _child2.textContent;
        }
      }
      return null;
    } else if ((0, _util.getLocalName)(node) === "img" || (0, _util.getLocalName)(node) === "area") {
      // https://w3c.github.io/html-aam/#area-element
      // https://w3c.github.io/html-aam/#img-element
      var nameFromAlt = useAttribute(node, "alt");
      if (nameFromAlt !== null) {
        return nameFromAlt;
      }
    } else if ((0, _util.isHTMLOptGroupElement)(node)) {
      var nameFromLabel = useAttribute(node, "label");
      if (nameFromLabel !== null) {
        return nameFromLabel;
      }
    }
    if ((0, _util.isHTMLInputElement)(node) && (node.type === "button" || node.type === "submit" || node.type === "reset")) {
      // https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-description-computation
      var nameFromValue = useAttribute(node, "value");
      if (nameFromValue !== null) {
        return nameFromValue;
      }

      // TODO: l10n
      if (node.type === "submit") {
        return "Submit";
      }
      // TODO: l10n
      if (node.type === "reset") {
        return "Reset";
      }
    }
    var labels = getLabels(node);
    if (labels !== null && labels.length !== 0) {
      consultedNodes.add(node);
      return (0, _array.default)(labels).map(function (element) {
        return computeTextAlternative(element, {
          isEmbeddedInLabel: true,
          isReferenced: false,
          recursion: true
        });
      }).filter(function (label) {
        return label.length > 0;
      }).join(" ");
    }

    // https://w3c.github.io/html-aam/#input-type-image-accessible-name-computation
    // TODO: wpt test consider label elements but html-aam does not mention them
    // We follow existing implementations over spec
    if ((0, _util.isHTMLInputElement)(node) && node.type === "image") {
      var _nameFromAlt = useAttribute(node, "alt");
      if (_nameFromAlt !== null) {
        return _nameFromAlt;
      }
      var nameFromTitle = useAttribute(node, "title");
      if (nameFromTitle !== null) {
        return nameFromTitle;
      }

      // TODO: l10n
      return "Submit Query";
    }
    if ((0, _util.hasAnyConcreteRoles)(node, ["button"])) {
      // https://www.w3.org/TR/html-aam-1.0/#button-element
      var nameFromSubTree = computeMiscTextAlternative(node, {
        isEmbeddedInLabel: false,
        isReferenced: false
      });
      if (nameFromSubTree !== "") {
        return nameFromSubTree;
      }
    }
    return null;
  }
  function computeTextAlternative(current, context) {
    if (consultedNodes.has(current)) {
      return "";
    }

    // 2A
    if (!hidden && isHidden(current, getComputedStyle) && !context.isReferenced) {
      consultedNodes.add(current);
      return "";
    }

    // 2B
    var labelAttributeNode = (0, _util.isElement)(current) ? current.getAttributeNode("aria-labelledby") : null;
    // TODO: Do we generally need to block query IdRefs of attributes we have already consulted?
    var labelElements = labelAttributeNode !== null && !consultedNodes.has(labelAttributeNode) ? (0, _util.queryIdRefs)(current, "aria-labelledby") : [];
    if (compute === "name" && !context.isReferenced && labelElements.length > 0) {
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- Can't be null here otherwise labelElements would be empty
      consultedNodes.add(labelAttributeNode);
      return labelElements.map(function (element) {
        // TODO: Chrome will consider repeated values i.e. use a node multiple times while we'll bail out in computeTextAlternative.
        return computeTextAlternative(element, {
          isEmbeddedInLabel: context.isEmbeddedInLabel,
          isReferenced: true,
          // this isn't recursion as specified, otherwise we would skip
          // `aria-label` in
          // <input id="myself" aria-label="foo" aria-labelledby="myself"
          recursion: false
        });
      }).join(" ");
    }

    // 2C
    // Changed from the spec in anticipation of https://github.com/w3c/accname/issues/64
    // spec says we should only consider skipping if we have a non-empty label
    var skipToStep2E = context.recursion && isControl(current) && compute === "name";
    if (!skipToStep2E) {
      var ariaLabel = ((0, _util.isElement)(current) && current.getAttribute("aria-label") || "").trim();
      if (ariaLabel !== "" && compute === "name") {
        consultedNodes.add(current);
        return ariaLabel;
      }

      // 2D
      if (!isMarkedPresentational(current)) {
        var elementTextAlternative = computeElementTextAlternative(current);
        if (elementTextAlternative !== null) {
          consultedNodes.add(current);
          return elementTextAlternative;
        }
      }
    }

    // special casing, cheating to make tests pass
    // https://github.com/w3c/accname/issues/67
    if ((0, _util.hasAnyConcreteRoles)(current, ["menu"])) {
      consultedNodes.add(current);
      return "";
    }

    // 2E
    if (skipToStep2E || context.isEmbeddedInLabel || context.isReferenced) {
      if ((0, _util.hasAnyConcreteRoles)(current, ["combobox", "listbox"])) {
        consultedNodes.add(current);
        var selectedOptions = querySelectedOptions(current);
        if (selectedOptions.length === 0) {
          // defined per test `name_heading_combobox`
          return (0, _util.isHTMLInputElement)(current) ? current.value : "";
        }
        return (0, _array.default)(selectedOptions).map(function (selectedOption) {
          return computeTextAlternative(selectedOption, {
            isEmbeddedInLabel: context.isEmbeddedInLabel,
            isReferenced: false,
            recursion: true
          });
        }).join(" ");
      }
      if (hasAbstractRole(current, "range")) {
        consultedNodes.add(current);
        if (current.hasAttribute("aria-valuetext")) {
          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute guard
          return current.getAttribute("aria-valuetext");
        }
        if (current.hasAttribute("aria-valuenow")) {
          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute guard
          return current.getAttribute("aria-valuenow");
        }
        // Otherwise, use the value as specified by a host language attribute.
        return current.getAttribute("value") || "";
      }
      if ((0, _util.hasAnyConcreteRoles)(current, ["textbox"])) {
        consultedNodes.add(current);
        return getValueOfTextbox(current);
      }
    }

    // 2F: https://w3c.github.io/accname/#step2F
    if (allowsNameFromContent(current) || (0, _util.isElement)(current) && context.isReferenced || isNativeHostLanguageTextAlternativeElement(current) || isDescendantOfNativeHostLanguageTextAlternativeElement(current)) {
      var accumulatedText2F = computeMiscTextAlternative(current, {
        isEmbeddedInLabel: context.isEmbeddedInLabel,
        isReferenced: false
      });
      if (accumulatedText2F !== "") {
        consultedNodes.add(current);
        return accumulatedText2F;
      }
    }
    if (current.nodeType === current.TEXT_NODE) {
      consultedNodes.add(current);
      return current.textContent || "";
    }
    if (context.recursion) {
      consultedNodes.add(current);
      return computeMiscTextAlternative(current, {
        isEmbeddedInLabel: context.isEmbeddedInLabel,
        isReferenced: false
      });
    }
    var tooltipAttributeValue = computeTooltipAttributeValue(current);
    if (tooltipAttributeValue !== null) {
      consultedNodes.add(current);
      return tooltipAttributeValue;
    }

    // TODO should this be reachable?
    consultedNodes.add(current);
    return "";
  }
  return asFlatString(computeTextAlternative(root, {
    isEmbeddedInLabel: false,
    // by spec computeAccessibleDescription starts with the referenced elements as roots
    isReferenced: compute === "description",
    recursion: false
  }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXJyYXkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TZXRMaWtlIiwiX3V0aWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFzRmxhdFN0cmluZyIsInMiLCJ0cmltIiwicmVwbGFjZSIsImlzSGlkZGVuIiwibm9kZSIsImdldENvbXB1dGVkU3R5bGVJbXBsZW1lbnRhdGlvbiIsImlzRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImlzQ29udHJvbCIsImhhc0FueUNvbmNyZXRlUm9sZXMiLCJoYXNBYnN0cmFjdFJvbGUiLCJyb2xlIiwiVHlwZUVycm9yIiwiY29uY2F0IiwicXVlcnlTZWxlY3RvckFsbFN1YnRyZWUiLCJlbGVtZW50Iiwic2VsZWN0b3JzIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicXVlcnlJZFJlZnMiLCJmb3JFYWNoIiwicm9vdCIsInB1c2giLCJhcHBseSIsInF1ZXJ5U2VsZWN0ZWRPcHRpb25zIiwibGlzdGJveCIsImlzSFRNTFNlbGVjdEVsZW1lbnQiLCJzZWxlY3RlZE9wdGlvbnMiLCJpc01hcmtlZFByZXNlbnRhdGlvbmFsIiwiaXNOYXRpdmVIb3N0TGFuZ3VhZ2VUZXh0QWx0ZXJuYXRpdmVFbGVtZW50IiwiaXNIVE1MVGFibGVDYXB0aW9uRWxlbWVudCIsImFsbG93c05hbWVGcm9tQ29udGVudCIsImlzRGVzY2VuZGFudE9mTmF0aXZlSG9zdExhbmd1YWdlVGV4dEFsdGVybmF0aXZlRWxlbWVudCIsImdldFZhbHVlT2ZUZXh0Ym94IiwiaXNIVE1MSW5wdXRFbGVtZW50IiwiaXNIVE1MVGV4dEFyZWFFbGVtZW50IiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsImdldFRleHR1YWxDb250ZW50IiwiZGVjbGFyYXRpb24iLCJjb250ZW50IiwidGVzdCIsInNsaWNlIiwiaXNMYWJlbGFibGVFbGVtZW50IiwibG9jYWxOYW1lIiwiZ2V0TG9jYWxOYW1lIiwiZmluZExhYmVsYWJsZUVsZW1lbnQiLCJsYWJlbGFibGVFbGVtZW50IiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZSIsImRlc2NlbmRhbnRMYWJlbGFibGVFbGVtZW50IiwiZ2V0Q29udHJvbE9mTGFiZWwiLCJsYWJlbCIsImNvbnRyb2wiLCJ1bmRlZmluZWQiLCJodG1sRm9yIiwib3duZXJEb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0TGFiZWxzIiwibGFiZWxzUHJvcGVydHkiLCJsYWJlbHMiLCJkb2N1bWVudCIsImZpbHRlciIsImdldFNsb3RDb250ZW50cyIsInNsb3QiLCJhc3NpZ25lZE5vZGVzIiwibGVuZ3RoIiwiY29tcHV0ZVRleHRBbHRlcm5hdGl2ZSIsIm9wdGlvbnMiLCJhcmd1bWVudHMiLCJjb25zdWx0ZWROb2RlcyIsIndpbmRvdyIsInNhZmVXaW5kb3ciLCJfb3B0aW9ucyRjb21wdXRlIiwiY29tcHV0ZSIsIl9vcHRpb25zJGNvbXB1dGVkU3R5bCIsImNvbXB1dGVkU3R5bGVTdXBwb3J0c1BzZXVkb0VsZW1lbnRzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIl9vcHRpb25zJGdldENvbXB1dGVkUyIsImJpbmQiLCJfb3B0aW9ucyRoaWRkZW4iLCJoaWRkZW4iLCJjb21wdXRlTWlzY1RleHRBbHRlcm5hdGl2ZSIsImNvbnRleHQiLCJhY2N1bXVsYXRlZFRleHQiLCJwc2V1ZG9CZWZvcmUiLCJiZWZvcmVDb250ZW50IiwiaXNIVE1MU2xvdEVsZW1lbnQiLCJjaGlsZCIsInJlc3VsdCIsImlzRW1iZWRkZWRJbkxhYmVsIiwiaXNSZWZlcmVuY2VkIiwicmVjdXJzaW9uIiwiZGlzcGxheSIsInNlcGFyYXRvciIsInBzZXVkb0FmdGVyIiwiYWZ0ZXJDb250ZW50IiwidXNlQXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsImF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZU5vZGUiLCJoYXMiLCJhZGQiLCJjb21wdXRlVG9vbHRpcEF0dHJpYnV0ZVZhbHVlIiwiY29tcHV0ZUVsZW1lbnRUZXh0QWx0ZXJuYXRpdmUiLCJpc0hUTUxGaWVsZFNldEVsZW1lbnQiLCJjaGlsZHJlbiIsImkiLCJpc0hUTUxMZWdlbmRFbGVtZW50IiwiaXNIVE1MVGFibGVFbGVtZW50IiwiX2NoaWxkcmVuIiwiX2kiLCJfY2hpbGQiLCJpc1NWR1NWR0VsZW1lbnQiLCJfY2hpbGRyZW4yIiwiX2kyIiwiX2NoaWxkMiIsImlzU1ZHVGl0bGVFbGVtZW50IiwibmFtZUZyb21BbHQiLCJpc0hUTUxPcHRHcm91cEVsZW1lbnQiLCJuYW1lRnJvbUxhYmVsIiwidHlwZSIsIm5hbWVGcm9tVmFsdWUiLCJtYXAiLCJqb2luIiwiX25hbWVGcm9tQWx0IiwibmFtZUZyb21UaXRsZSIsIm5hbWVGcm9tU3ViVHJlZSIsImN1cnJlbnQiLCJsYWJlbEF0dHJpYnV0ZU5vZGUiLCJsYWJlbEVsZW1lbnRzIiwic2tpcFRvU3RlcDJFIiwiYXJpYUxhYmVsIiwiZWxlbWVudFRleHRBbHRlcm5hdGl2ZSIsInNlbGVjdGVkT3B0aW9uIiwiYWNjdW11bGF0ZWRUZXh0MkYiLCJub2RlVHlwZSIsIlRFWFRfTk9ERSIsInRvb2x0aXBBdHRyaWJ1dGVWYWx1ZSJdLCJzb3VyY2VzIjpbIi4uL3NvdXJjZXMvYWNjZXNzaWJsZS1uYW1lLWFuZC1kZXNjcmlwdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGltcGxlbWVudHMgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2FjY25hbWUvXG4gKi9cbmltcG9ydCBBcnJheUZyb20gZnJvbSBcIi4vcG9seWZpbGxzL2FycmF5LmZyb21cIjtcbmltcG9ydCBTZXRMaWtlIGZyb20gXCIuL3BvbHlmaWxscy9TZXRMaWtlXCI7XG5pbXBvcnQge1xuXHRoYXNBbnlDb25jcmV0ZVJvbGVzLFxuXHRpc0VsZW1lbnQsXG5cdGlzSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQsXG5cdGlzSFRNTElucHV0RWxlbWVudCxcblx0aXNIVE1MU2VsZWN0RWxlbWVudCxcblx0aXNIVE1MVGV4dEFyZWFFbGVtZW50LFxuXHRzYWZlV2luZG93LFxuXHRpc0hUTUxGaWVsZFNldEVsZW1lbnQsXG5cdGlzSFRNTExlZ2VuZEVsZW1lbnQsXG5cdGlzSFRNTE9wdEdyb3VwRWxlbWVudCxcblx0aXNIVE1MVGFibGVFbGVtZW50LFxuXHRpc0hUTUxTbG90RWxlbWVudCxcblx0aXNTVkdTVkdFbGVtZW50LFxuXHRpc1NWR1RpdGxlRWxlbWVudCxcblx0cXVlcnlJZFJlZnMsXG5cdGdldExvY2FsTmFtZSxcbn0gZnJvbSBcIi4vdXRpbFwiO1xuXG4vKipcbiAqICBBIHN0cmluZyBvZiBjaGFyYWN0ZXJzIHdoZXJlIGFsbCBjYXJyaWFnZSByZXR1cm5zLCBuZXdsaW5lcywgdGFicywgYW5kIGZvcm0tZmVlZHMgYXJlIHJlcGxhY2VkIHdpdGggYSBzaW5nbGUgc3BhY2UsIGFuZCBtdWx0aXBsZSBzcGFjZXMgYXJlIHJlZHVjZWQgdG8gYSBzaW5nbGUgc3BhY2UuIFRoZSBzdHJpbmcgY29udGFpbnMgb25seSBjaGFyYWN0ZXIgZGF0YTsgaXQgZG9lcyBub3QgY29udGFpbiBhbnkgbWFya3VwLlxuICovXG50eXBlIEZsYXRTdHJpbmcgPSBzdHJpbmcgJiB7XG5cdF9fZmxhdDogdHJ1ZTtcbn07XG5cbi8qKlxuICogaW50ZXJmYWNlIGZvciBhbiBvcHRpb25zLWJhZyB3aGVyZSBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgIGNhbiBiZSBtb2NrZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wdXRlVGV4dEFsdGVybmF0aXZlT3B0aW9ucyB7XG5cdGNvbXB1dGU/OiBcImRlc2NyaXB0aW9uXCIgfCBcIm5hbWVcIjtcblx0LyoqXG5cdCAqIFNldCB0byB0cnVlIGlmIHdpbmRvdy5jb21wdXRlZFN0eWxlIHN1cHBvcnRzIHRoZSBzZWNvbmQgYXJndW1lbnQuXG5cdCAqIFRoaXMgc2hvdWxkIGJlIGZhbHNlIGluIEpTRE9NLiBPdGhlcndpc2UgSlNET00gd2lsbCBsb2cgY29uc29sZSBlcnJvcnMuXG5cdCAqL1xuXHRjb21wdXRlZFN0eWxlU3VwcG9ydHNQc2V1ZG9FbGVtZW50cz86IGJvb2xlYW47XG5cdC8qKlxuXHQgKiBtb2NrIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLiBOZWVkcyBgY29udGVudGAsIGBkaXNwbGF5YCBhbmQgYHZpc2liaWxpdHlgXG5cdCAqL1xuXHRnZXRDb21wdXRlZFN0eWxlPzogdHlwZW9mIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlO1xuXHQvKipcblx0ICogU2V0IHRvIGB0cnVlYCBpZiB5b3Ugd2FudCB0byBpbmNsdWRlIGhpZGRlbiBlbGVtZW50cyBpbiB0aGUgYWNjZXNzaWJsZSBuYW1lIGFuZCBkZXNjcmlwdGlvbiBjb21wdXRhdGlvbi5cblx0ICogU2tpcHMgMkEgaW4gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2FjY25hbWUvI2NvbXB1dGF0aW9uLXN0ZXBzLlxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aGlkZGVuPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtXG4gKiBAcmV0dXJucyB7RmxhdFN0cmluZ30gLVxuICovXG5mdW5jdGlvbiBhc0ZsYXRTdHJpbmcoczogc3RyaW5nKTogRmxhdFN0cmluZyB7XG5cdHJldHVybiBzLnRyaW0oKS5yZXBsYWNlKC9cXHNcXHMrL2csIFwiIFwiKSBhcyBGbGF0U3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gbm9kZSAtXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZXNlIGFyZSBub3Qgb3B0aW9uYWwgdG8gcHJldmVudCBhY2NpZGVudGFsbHkgY2FsbGluZyBpdCB3aXRob3V0IG9wdGlvbnMgaW4gYGNvbXB1dGVBY2Nlc3NpYmxlTmFtZWBcbiAqIEByZXR1cm5zIHtib29sZWFufSAtXG4gKi9cbmZ1bmN0aW9uIGlzSGlkZGVuKFxuXHRub2RlOiBOb2RlLFxuXHRnZXRDb21wdXRlZFN0eWxlSW1wbGVtZW50YXRpb246IHR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZVxuKTogbm9kZSBpcyBFbGVtZW50IHtcblx0aWYgKCFpc0VsZW1lbnQobm9kZSkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoXG5cdFx0bm9kZS5oYXNBdHRyaWJ1dGUoXCJoaWRkZW5cIikgfHxcblx0XHRub2RlLmdldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpID09PSBcInRydWVcIlxuXHQpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZUltcGxlbWVudGF0aW9uKG5vZGUpO1xuXHRyZXR1cm4gKFxuXHRcdHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpID09PSBcIm5vbmVcIiB8fFxuXHRcdHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJ2aXNpYmlsaXR5XCIpID09PSBcImhpZGRlblwiXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIC1cbiAqIEByZXR1cm5zIHtib29sZWFufSAtIEFzIGRlZmluZWQgaW4gc3RlcCAyRSBvZiBodHRwczovL3czYy5naXRodWIuaW8vYWNjbmFtZS8jbWFwcGluZ19hZGRpdGlvbmFsX25kX3RlXG4gKi9cbmZ1bmN0aW9uIGlzQ29udHJvbChub2RlOiBOb2RlKTogYm9vbGVhbiB7XG5cdHJldHVybiAoXG5cdFx0aGFzQW55Q29uY3JldGVSb2xlcyhub2RlLCBbXCJidXR0b25cIiwgXCJjb21ib2JveFwiLCBcImxpc3Rib3hcIiwgXCJ0ZXh0Ym94XCJdKSB8fFxuXHRcdGhhc0Fic3RyYWN0Um9sZShub2RlLCBcInJhbmdlXCIpXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGhhc0Fic3RyYWN0Um9sZShub2RlOiBOb2RlLCByb2xlOiBzdHJpbmcpOiBub2RlIGlzIEVsZW1lbnQge1xuXHRpZiAoIWlzRWxlbWVudChub2RlKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHN3aXRjaCAocm9sZSkge1xuXHRcdGNhc2UgXCJyYW5nZVwiOlxuXHRcdFx0cmV0dXJuIGhhc0FueUNvbmNyZXRlUm9sZXMobm9kZSwgW1xuXHRcdFx0XHRcIm1ldGVyXCIsXG5cdFx0XHRcdFwicHJvZ3Jlc3NiYXJcIixcblx0XHRcdFx0XCJzY3JvbGxiYXJcIixcblx0XHRcdFx0XCJzbGlkZXJcIixcblx0XHRcdFx0XCJzcGluYnV0dG9uXCIsXG5cdFx0XHRdKTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcblx0XHRcdFx0YE5vIGtub3dsZWRnZSBhYm91dCBhYnN0cmFjdCByb2xlICcke3JvbGV9Jy4gVGhpcyBpcyBsaWtlbHkgYSBidWcgOihgXG5cdFx0XHQpO1xuXHR9XG59XG5cbi8qKlxuICogZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsIGJ1dCBhbHNvIGNvbnNpZGVycyBvd25lZCB0cmVlXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHBhcmFtIHNlbGVjdG9yc1xuICovXG5mdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsU3VidHJlZShcblx0ZWxlbWVudDogRWxlbWVudCxcblx0c2VsZWN0b3JzOiBzdHJpbmdcbik6IEVsZW1lbnRbXSB7XG5cdGNvbnN0IGVsZW1lbnRzID0gQXJyYXlGcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMpKTtcblxuXHRxdWVyeUlkUmVmcyhlbGVtZW50LCBcImFyaWEtb3duc1wiKS5mb3JFYWNoKChyb290KSA9PiB7XG5cdFx0Ly8gYmFiZWwgdHJhbnNwaWxlcyB0aGlzIGFzc3VtaW5nIGFuIGl0ZXJhdG9yXG5cdFx0ZWxlbWVudHMucHVzaC5hcHBseShlbGVtZW50cywgQXJyYXlGcm9tKHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMpKSk7XG5cdH0pO1xuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxuZnVuY3Rpb24gcXVlcnlTZWxlY3RlZE9wdGlvbnMobGlzdGJveDogRWxlbWVudCk6IEFycmF5TGlrZTxFbGVtZW50PiB7XG5cdGlmIChpc0hUTUxTZWxlY3RFbGVtZW50KGxpc3Rib3gpKSB7XG5cdFx0Ly8gSUUxMSBwb2x5ZmlsbFxuXHRcdHJldHVybiAoXG5cdFx0XHRsaXN0Ym94LnNlbGVjdGVkT3B0aW9ucyB8fCBxdWVyeVNlbGVjdG9yQWxsU3VidHJlZShsaXN0Ym94LCBcIltzZWxlY3RlZF1cIilcblx0XHQpO1xuXHR9XG5cdHJldHVybiBxdWVyeVNlbGVjdG9yQWxsU3VidHJlZShsaXN0Ym94LCAnW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdJyk7XG59XG5cbmZ1bmN0aW9uIGlzTWFya2VkUHJlc2VudGF0aW9uYWwobm9kZTogTm9kZSk6IG5vZGUgaXMgRWxlbWVudCB7XG5cdHJldHVybiBoYXNBbnlDb25jcmV0ZVJvbGVzKG5vZGUsIFtcIm5vbmVcIiwgXCJwcmVzZW50YXRpb25cIl0pO1xufVxuXG4vKipcbiAqIEVsZW1lbnRzIHNwZWNpZmljYWxseSBsaXN0ZWQgaW4gaHRtbC1hYW1cbiAqXG4gKiBXZSBkb24ndCBuZWVkIHRoaXMgZm9yIGBsYWJlbGAgb3IgYGxlZ2VuZGAgZWxlbWVudHMuXG4gKiBUaGVpciBpbXBsaWNpdCByb2xlcyBhbHJlYWR5IGFsbG93IFwibmFtaW5nIGZyb20gY29udGVudFwiLlxuICpcbiAqIHNvdXJjZXM6XG4gKlxuICogLSBodHRwczovL3czYy5naXRodWIuaW8vaHRtbC1hYW0vI3RhYmxlLWVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gaXNOYXRpdmVIb3N0TGFuZ3VhZ2VUZXh0QWx0ZXJuYXRpdmVFbGVtZW50KFxuXHRub2RlOiBOb2RlXG4pOiBub2RlIGlzIEVsZW1lbnQge1xuXHRyZXR1cm4gaXNIVE1MVGFibGVDYXB0aW9uRWxlbWVudChub2RlKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vYXJpYS8jbmFtZWZyb21jb250ZW50XG4gKi9cbmZ1bmN0aW9uIGFsbG93c05hbWVGcm9tQ29udGVudChub2RlOiBOb2RlKTogYm9vbGVhbiB7XG5cdHJldHVybiBoYXNBbnlDb25jcmV0ZVJvbGVzKG5vZGUsIFtcblx0XHRcImJ1dHRvblwiLFxuXHRcdFwiY2VsbFwiLFxuXHRcdFwiY2hlY2tib3hcIixcblx0XHRcImNvbHVtbmhlYWRlclwiLFxuXHRcdFwiZ3JpZGNlbGxcIixcblx0XHRcImhlYWRpbmdcIixcblx0XHRcImxhYmVsXCIsXG5cdFx0XCJsZWdlbmRcIixcblx0XHRcImxpbmtcIixcblx0XHRcIm1lbnVpdGVtXCIsXG5cdFx0XCJtZW51aXRlbWNoZWNrYm94XCIsXG5cdFx0XCJtZW51aXRlbXJhZGlvXCIsXG5cdFx0XCJvcHRpb25cIixcblx0XHRcInJhZGlvXCIsXG5cdFx0XCJyb3dcIixcblx0XHRcInJvd2hlYWRlclwiLFxuXHRcdFwic3dpdGNoXCIsXG5cdFx0XCJ0YWJcIixcblx0XHRcInRvb2x0aXBcIixcblx0XHRcInRyZWVpdGVtXCIsXG5cdF0pO1xufVxuXG4vKipcbiAqIFRPRE8gaHR0cHM6Ly9naXRodWIuY29tL2VwczFsb24vZG9tLWFjY2Vzc2liaWxpdHktYXBpL2lzc3Vlcy8xMDBcbiAqL1xuZnVuY3Rpb24gaXNEZXNjZW5kYW50T2ZOYXRpdmVIb3N0TGFuZ3VhZ2VUZXh0QWx0ZXJuYXRpdmVFbGVtZW50KFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzIC0tIG5vdCBpbXBsZW1lbnRlZCB5ZXRcblx0bm9kZTogTm9kZVxuKTogYm9vbGVhbiB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVPZlRleHRib3goZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB7XG5cdGlmIChpc0hUTUxJbnB1dEVsZW1lbnQoZWxlbWVudCkgfHwgaXNIVE1MVGV4dEFyZWFFbGVtZW50KGVsZW1lbnQpKSB7XG5cdFx0cmV0dXJuIGVsZW1lbnQudmFsdWU7XG5cdH1cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2VwczFsb24vZG9tLWFjY2Vzc2liaWxpdHktYXBpL2lzc3Vlcy80XG5cdHJldHVybiBlbGVtZW50LnRleHRDb250ZW50IHx8IFwiXCI7XG59XG5cbmZ1bmN0aW9uIGdldFRleHR1YWxDb250ZW50KGRlY2xhcmF0aW9uOiBDU1NTdHlsZURlY2xhcmF0aW9uKTogc3RyaW5nIHtcblx0Y29uc3QgY29udGVudCA9IGRlY2xhcmF0aW9uLmdldFByb3BlcnR5VmFsdWUoXCJjb250ZW50XCIpO1xuXHRpZiAoL15bXCInXS4qW1wiJ10kLy50ZXN0KGNvbnRlbnQpKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQuc2xpY2UoMSwgLTEpO1xuXHR9XG5cdHJldHVybiBcIlwiO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGFiZWxcbiAqIFRPRE86IGZvcm0tYXNzb2NpYXRlZCBjdXN0b20gZWxlbWVudHNcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGlzTGFiZWxhYmxlRWxlbWVudChlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG5cdGNvbnN0IGxvY2FsTmFtZSA9IGdldExvY2FsTmFtZShlbGVtZW50KTtcblxuXHRyZXR1cm4gKFxuXHRcdGxvY2FsTmFtZSA9PT0gXCJidXR0b25cIiB8fFxuXHRcdChsb2NhbE5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZShcInR5cGVcIikgIT09IFwiaGlkZGVuXCIpIHx8XG5cdFx0bG9jYWxOYW1lID09PSBcIm1ldGVyXCIgfHxcblx0XHRsb2NhbE5hbWUgPT09IFwib3V0cHV0XCIgfHxcblx0XHRsb2NhbE5hbWUgPT09IFwicHJvZ3Jlc3NcIiB8fFxuXHRcdGxvY2FsTmFtZSA9PT0gXCJzZWxlY3RcIiB8fFxuXHRcdGxvY2FsTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiXG5cdCk7XG59XG5cbi8qKlxuICogPiBbLi4uXSwgdGhlbiB0aGUgZmlyc3Qgc3VjaCBkZXNjZW5kYW50IGluIHRyZWUgb3JkZXIgaXMgdGhlIGxhYmVsIGVsZW1lbnQncyBsYWJlbGVkIGNvbnRyb2wuXG4gKiAtLSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2xhYmVsZWQtY29udHJvbFxuICogQHBhcmFtIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZmluZExhYmVsYWJsZUVsZW1lbnQoZWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnQgfCBudWxsIHtcblx0aWYgKGlzTGFiZWxhYmxlRWxlbWVudChlbGVtZW50KSkge1xuXHRcdHJldHVybiBlbGVtZW50O1xuXHR9XG5cdGxldCBsYWJlbGFibGVFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZE5vZGUpID0+IHtcblx0XHRpZiAobGFiZWxhYmxlRWxlbWVudCA9PT0gbnVsbCAmJiBpc0VsZW1lbnQoY2hpbGROb2RlKSkge1xuXHRcdFx0Y29uc3QgZGVzY2VuZGFudExhYmVsYWJsZUVsZW1lbnQgPSBmaW5kTGFiZWxhYmxlRWxlbWVudChjaGlsZE5vZGUpO1xuXHRcdFx0aWYgKGRlc2NlbmRhbnRMYWJlbGFibGVFbGVtZW50ICE9PSBudWxsKSB7XG5cdFx0XHRcdGxhYmVsYWJsZUVsZW1lbnQgPSBkZXNjZW5kYW50TGFiZWxhYmxlRWxlbWVudDtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBsYWJlbGFibGVFbGVtZW50O1xufVxuXG4vKipcbiAqIFBvbHlmaWxsIG9mIEhUTUxMYWJlbEVsZW1lbnQuY29udHJvbFxuICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNsYWJlbGVkLWNvbnRyb2xcbiAqIEBwYXJhbSBsYWJlbFxuICovXG5mdW5jdGlvbiBnZXRDb250cm9sT2ZMYWJlbChsYWJlbDogSFRNTExhYmVsRWxlbWVudCk6IEVsZW1lbnQgfCBudWxsIHtcblx0aWYgKGxhYmVsLmNvbnRyb2wgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBsYWJlbC5jb250cm9sO1xuXHR9XG5cblx0Y29uc3QgaHRtbEZvciA9IGxhYmVsLmdldEF0dHJpYnV0ZShcImZvclwiKTtcblx0aWYgKGh0bWxGb3IgIT09IG51bGwpIHtcblx0XHRyZXR1cm4gbGFiZWwub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChodG1sRm9yKTtcblx0fVxuXG5cdHJldHVybiBmaW5kTGFiZWxhYmxlRWxlbWVudChsYWJlbCk7XG59XG5cbi8qKlxuICogUG9seWZpbGwgb2YgSFRNTElucHV0RWxlbWVudC5sYWJlbHNcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSW5wdXRFbGVtZW50L2xhYmVsc1xuICogQHBhcmFtIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0TGFiZWxzKGVsZW1lbnQ6IEVsZW1lbnQpOiBIVE1MTGFiZWxFbGVtZW50W10gfCBudWxsIHtcblx0Y29uc3QgbGFiZWxzUHJvcGVydHkgPSAoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5sYWJlbHMgYXNcblx0XHR8IEhUTUxJbnB1dEVsZW1lbnRbXCJsYWJlbHNcIl1cblx0XHR8IHVuZGVmaW5lZDtcblxuXHRpZiAobGFiZWxzUHJvcGVydHkgPT09IG51bGwpIHtcblx0XHRyZXR1cm4gbGFiZWxzUHJvcGVydHk7XG5cdH1cblx0aWYgKGxhYmVsc1Byb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gQXJyYXlGcm9tKGxhYmVsc1Byb3BlcnR5KTtcblx0fVxuXG5cdC8vIHBvbHlmaWxsXG5cdGlmICghaXNMYWJlbGFibGVFbGVtZW50KGVsZW1lbnQpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0Y29uc3QgZG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cblx0cmV0dXJuIEFycmF5RnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibGFiZWxcIikpLmZpbHRlcigobGFiZWwpID0+IHtcblx0XHRyZXR1cm4gZ2V0Q29udHJvbE9mTGFiZWwobGFiZWwpID09PSBlbGVtZW50O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjb250ZW50cyBvZiBhIHNsb3QgdXNlZCBmb3IgY29tcHV0aW5nIHRoZSBhY2NuYW1lXG4gKiBAcGFyYW0gc2xvdFxuICovXG5mdW5jdGlvbiBnZXRTbG90Q29udGVudHMoc2xvdDogSFRNTFNsb3RFbGVtZW50KTogTm9kZVtdIHtcblx0Ly8gQ29tcHV0aW5nIHRoZSBhY2Nlc3NpYmxlIG5hbWUgZm9yIGVsZW1lbnRzIGNvbnRhaW5pbmcgc2xvdHMgaXMgbm90XG5cdC8vIGN1cnJlbnRseSBkZWZpbmVkIGluIHRoZSBzcGVjLiBUaGlzIGltcGxlbWVudGF0aW9uIHJlZmxlY3RzIHRoZVxuXHQvLyBiZWhhdmlvciBvZiBOVkRBIDIwMjAuMi9GaXJlZm94IDgxIGFuZCBpT1MgVm9pY2VPdmVyL1NhZmFyaSAxMy42LlxuXHRjb25zdCBhc3NpZ25lZE5vZGVzID0gc2xvdC5hc3NpZ25lZE5vZGVzKCk7XG5cdGlmIChhc3NpZ25lZE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdC8vIGlmIG5vIG5vZGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgc2xvdCwgaXQgZGlzcGxheXMgdGhlIGRlZmF1bHQgY29udGVudFxuXHRcdHJldHVybiBBcnJheUZyb20oc2xvdC5jaGlsZE5vZGVzKTtcblx0fVxuXHRyZXR1cm4gYXNzaWduZWROb2Rlcztcbn1cblxuLyoqXG4gKiBpbXBsZW1lbnRzIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9hY2NuYW1lLyNtYXBwaW5nX2FkZGl0aW9uYWxfbmRfdGVcbiAqIEBwYXJhbSByb290XG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUZXh0QWx0ZXJuYXRpdmUoXG5cdHJvb3Q6IEVsZW1lbnQsXG5cdG9wdGlvbnM6IENvbXB1dGVUZXh0QWx0ZXJuYXRpdmVPcHRpb25zID0ge31cbik6IHN0cmluZyB7XG5cdGNvbnN0IGNvbnN1bHRlZE5vZGVzID0gbmV3IFNldExpa2U8Tm9kZT4oKTtcblxuXHRjb25zdCB3aW5kb3cgPSBzYWZlV2luZG93KHJvb3QpO1xuXHRjb25zdCB7XG5cdFx0Y29tcHV0ZSA9IFwibmFtZVwiLFxuXHRcdGNvbXB1dGVkU3R5bGVTdXBwb3J0c1BzZXVkb0VsZW1lbnRzID0gb3B0aW9ucy5nZXRDb21wdXRlZFN0eWxlICE9PVxuXHRcdFx0dW5kZWZpbmVkLFxuXHRcdC8vIFRoaXMgbWlnaHQgYmUgb3ZlcmVuZ2luZWVyZWQuIEkgZG9uJ3Qga25vdyB3aGF0IGhhcHBlbnMgaWYgSSBjYWxsXG5cdFx0Ly8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudEZyb21Bbm90aGVyV2luZG93KSBvciBpZiBJIGRvbid0IGJpbmQgaXRcblx0XHQvLyB0aGUgdHlwZSBkZWNsYXJhdGlvbnMgZG9uJ3QgcmVxdWlyZSBhIGB0aGlzYFxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcblx0XHRnZXRDb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUuYmluZCh3aW5kb3cpLFxuXHRcdGhpZGRlbiA9IGZhbHNlLFxuXHR9ID0gb3B0aW9ucztcblxuXHQvLyAyRi5pXG5cdGZ1bmN0aW9uIGNvbXB1dGVNaXNjVGV4dEFsdGVybmF0aXZlKFxuXHRcdG5vZGU6IE5vZGUsXG5cdFx0Y29udGV4dDogeyBpc0VtYmVkZGVkSW5MYWJlbDogYm9vbGVhbjsgaXNSZWZlcmVuY2VkOiBib29sZWFuIH1cblx0KTogc3RyaW5nIHtcblx0XHRsZXQgYWNjdW11bGF0ZWRUZXh0ID0gXCJcIjtcblx0XHRpZiAoaXNFbGVtZW50KG5vZGUpICYmIGNvbXB1dGVkU3R5bGVTdXBwb3J0c1BzZXVkb0VsZW1lbnRzKSB7XG5cdFx0XHRjb25zdCBwc2V1ZG9CZWZvcmUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUsIFwiOjpiZWZvcmVcIik7XG5cdFx0XHRjb25zdCBiZWZvcmVDb250ZW50ID0gZ2V0VGV4dHVhbENvbnRlbnQocHNldWRvQmVmb3JlKTtcblx0XHRcdGFjY3VtdWxhdGVkVGV4dCA9IGAke2JlZm9yZUNvbnRlbnR9ICR7YWNjdW11bGF0ZWRUZXh0fWA7XG5cdFx0fVxuXG5cdFx0Ly8gRklYTUU6IEluY2x1ZGluZyBhcmlhLW93bnMgaXMgbm90IGRlZmluZWQgaW4gdGhlIHNwZWNcblx0XHQvLyBCdXQgaXQgaXMgcmVxdWlyZWQgaW4gdGhlIHdlYi1wbGF0Zm9ybS10ZXN0XG5cdFx0Y29uc3QgY2hpbGROb2RlcyA9IGlzSFRNTFNsb3RFbGVtZW50KG5vZGUpXG5cdFx0XHQ/IGdldFNsb3RDb250ZW50cyhub2RlKVxuXHRcdFx0OiBBcnJheUZyb20obm9kZS5jaGlsZE5vZGVzKS5jb25jYXQocXVlcnlJZFJlZnMobm9kZSwgXCJhcmlhLW93bnNcIikpO1xuXHRcdGNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQpID0+IHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGNvbXB1dGVUZXh0QWx0ZXJuYXRpdmUoY2hpbGQsIHtcblx0XHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IGNvbnRleHQuaXNFbWJlZGRlZEluTGFiZWwsXG5cdFx0XHRcdGlzUmVmZXJlbmNlZDogZmFsc2UsXG5cdFx0XHRcdHJlY3Vyc2lvbjogdHJ1ZSxcblx0XHRcdH0pO1xuXHRcdFx0Ly8gVE9ETzogVW5jbGVhciB3aHkgZGlzcGxheSBhZmZlY3RzIGRlbGltaXRlclxuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvYWNjbmFtZS9pc3N1ZXMvM1xuXHRcdFx0Y29uc3QgZGlzcGxheSA9IGlzRWxlbWVudChjaGlsZClcblx0XHRcdFx0PyBnZXRDb21wdXRlZFN0eWxlKGNoaWxkKS5nZXRQcm9wZXJ0eVZhbHVlKFwiZGlzcGxheVwiKVxuXHRcdFx0XHQ6IFwiaW5saW5lXCI7XG5cdFx0XHRjb25zdCBzZXBhcmF0b3IgPSBkaXNwbGF5ICE9PSBcImlubGluZVwiID8gXCIgXCIgOiBcIlwiO1xuXHRcdFx0Ly8gdHJhaWxpbmcgc2VwYXJhdG9yIGZvciB3cHQgdGVzdHNcblx0XHRcdGFjY3VtdWxhdGVkVGV4dCArPSBgJHtzZXBhcmF0b3J9JHtyZXN1bHR9JHtzZXBhcmF0b3J9YDtcblx0XHR9KTtcblxuXHRcdGlmIChpc0VsZW1lbnQobm9kZSkgJiYgY29tcHV0ZWRTdHlsZVN1cHBvcnRzUHNldWRvRWxlbWVudHMpIHtcblx0XHRcdGNvbnN0IHBzZXVkb0FmdGVyID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBcIjo6YWZ0ZXJcIik7XG5cdFx0XHRjb25zdCBhZnRlckNvbnRlbnQgPSBnZXRUZXh0dWFsQ29udGVudChwc2V1ZG9BZnRlcik7XG5cdFx0XHRhY2N1bXVsYXRlZFRleHQgPSBgJHthY2N1bXVsYXRlZFRleHR9ICR7YWZ0ZXJDb250ZW50fWA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY3VtdWxhdGVkVGV4dC50cmltKCk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGVsZW1lbnRcblx0ICogQHBhcmFtIGF0dHJpYnV0ZU5hbWVcblx0ICogQHJldHVybnMgQSBzdHJpbmcgbm9uLWVtcHR5IHN0cmluZyBvciBgbnVsbGBcblx0ICovXG5cdGZ1bmN0aW9uIHVzZUF0dHJpYnV0ZShcblx0XHRlbGVtZW50OiBFbGVtZW50LFxuXHRcdGF0dHJpYnV0ZU5hbWU6IHN0cmluZ1xuXHQpOiBzdHJpbmcgfCBudWxsIHtcblx0XHRjb25zdCBhdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZU5vZGUoYXR0cmlidXRlTmFtZSk7XG5cdFx0aWYgKFxuXHRcdFx0YXR0cmlidXRlICE9PSBudWxsICYmXG5cdFx0XHQhY29uc3VsdGVkTm9kZXMuaGFzKGF0dHJpYnV0ZSkgJiZcblx0XHRcdGF0dHJpYnV0ZS52YWx1ZS50cmltKCkgIT09IFwiXCJcblx0XHQpIHtcblx0XHRcdGNvbnN1bHRlZE5vZGVzLmFkZChhdHRyaWJ1dGUpO1xuXHRcdFx0cmV0dXJuIGF0dHJpYnV0ZS52YWx1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRmdW5jdGlvbiBjb21wdXRlVG9vbHRpcEF0dHJpYnV0ZVZhbHVlKG5vZGU6IE5vZGUpOiBzdHJpbmcgfCBudWxsIHtcblx0XHRpZiAoIWlzRWxlbWVudChub2RlKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVzZUF0dHJpYnV0ZShub2RlLCBcInRpdGxlXCIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29tcHV0ZUVsZW1lbnRUZXh0QWx0ZXJuYXRpdmUobm9kZTogTm9kZSk6IHN0cmluZyB8IG51bGwge1xuXHRcdGlmICghaXNFbGVtZW50KG5vZGUpKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL3czYy5naXRodWIuaW8vaHRtbC1hYW0vI2ZpZWxkc2V0LWFuZC1sZWdlbmQtZWxlbWVudHNcblx0XHRpZiAoaXNIVE1MRmllbGRTZXRFbGVtZW50KG5vZGUpKSB7XG5cdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQobm9kZSk7XG5cdFx0XHRjb25zdCBjaGlsZHJlbiA9IEFycmF5RnJvbShub2RlLmNoaWxkTm9kZXMpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0XHRpZiAoaXNIVE1MTGVnZW5kRWxlbWVudChjaGlsZCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcHV0ZVRleHRBbHRlcm5hdGl2ZShjaGlsZCwge1xuXHRcdFx0XHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IGZhbHNlLFxuXHRcdFx0XHRcdFx0aXNSZWZlcmVuY2VkOiBmYWxzZSxcblx0XHRcdFx0XHRcdHJlY3Vyc2lvbjogZmFsc2UsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzSFRNTFRhYmxlRWxlbWVudChub2RlKSkge1xuXHRcdFx0Ly8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2h0bWwtYWFtLyN0YWJsZS1lbGVtZW50XG5cdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQobm9kZSk7XG5cdFx0XHRjb25zdCBjaGlsZHJlbiA9IEFycmF5RnJvbShub2RlLmNoaWxkTm9kZXMpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0XHRpZiAoaXNIVE1MVGFibGVDYXB0aW9uRWxlbWVudChjaGlsZCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcHV0ZVRleHRBbHRlcm5hdGl2ZShjaGlsZCwge1xuXHRcdFx0XHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IGZhbHNlLFxuXHRcdFx0XHRcdFx0aXNSZWZlcmVuY2VkOiBmYWxzZSxcblx0XHRcdFx0XHRcdHJlY3Vyc2lvbjogZmFsc2UsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzU1ZHU1ZHRWxlbWVudChub2RlKSkge1xuXHRcdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3N2Zy1hYW0tMS4wL1xuXHRcdFx0Y29uc3VsdGVkTm9kZXMuYWRkKG5vZGUpO1xuXHRcdFx0Y29uc3QgY2hpbGRyZW4gPSBBcnJheUZyb20obm9kZS5jaGlsZE5vZGVzKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0Y29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0XHRcdFx0aWYgKGlzU1ZHVGl0bGVFbGVtZW50KGNoaWxkKSkge1xuXHRcdFx0XHRcdHJldHVybiBjaGlsZC50ZXh0Q29udGVudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSBlbHNlIGlmIChnZXRMb2NhbE5hbWUobm9kZSkgPT09IFwiaW1nXCIgfHwgZ2V0TG9jYWxOYW1lKG5vZGUpID09PSBcImFyZWFcIikge1xuXHRcdFx0Ly8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2h0bWwtYWFtLyNhcmVhLWVsZW1lbnRcblx0XHRcdC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9odG1sLWFhbS8jaW1nLWVsZW1lbnRcblx0XHRcdGNvbnN0IG5hbWVGcm9tQWx0ID0gdXNlQXR0cmlidXRlKG5vZGUsIFwiYWx0XCIpO1xuXHRcdFx0aWYgKG5hbWVGcm9tQWx0ICE9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBuYW1lRnJvbUFsdDtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzSFRNTE9wdEdyb3VwRWxlbWVudChub2RlKSkge1xuXHRcdFx0Y29uc3QgbmFtZUZyb21MYWJlbCA9IHVzZUF0dHJpYnV0ZShub2RlLCBcImxhYmVsXCIpO1xuXHRcdFx0aWYgKG5hbWVGcm9tTGFiZWwgIT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIG5hbWVGcm9tTGFiZWw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0aXNIVE1MSW5wdXRFbGVtZW50KG5vZGUpICYmXG5cdFx0XHQobm9kZS50eXBlID09PSBcImJ1dHRvblwiIHx8XG5cdFx0XHRcdG5vZGUudHlwZSA9PT0gXCJzdWJtaXRcIiB8fFxuXHRcdFx0XHRub2RlLnR5cGUgPT09IFwicmVzZXRcIilcblx0XHQpIHtcblx0XHRcdC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9odG1sLWFhbS8jaW5wdXQtdHlwZS10ZXh0LWlucHV0LXR5cGUtcGFzc3dvcmQtaW5wdXQtdHlwZS1zZWFyY2gtaW5wdXQtdHlwZS10ZWwtaW5wdXQtdHlwZS1lbWFpbC1pbnB1dC10eXBlLXVybC1hbmQtdGV4dGFyZWEtZWxlbWVudC1hY2Nlc3NpYmxlLWRlc2NyaXB0aW9uLWNvbXB1dGF0aW9uXG5cdFx0XHRjb25zdCBuYW1lRnJvbVZhbHVlID0gdXNlQXR0cmlidXRlKG5vZGUsIFwidmFsdWVcIik7XG5cdFx0XHRpZiAobmFtZUZyb21WYWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gbmFtZUZyb21WYWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVE9ETzogbDEwblxuXHRcdFx0aWYgKG5vZGUudHlwZSA9PT0gXCJzdWJtaXRcIikge1xuXHRcdFx0XHRyZXR1cm4gXCJTdWJtaXRcIjtcblx0XHRcdH1cblx0XHRcdC8vIFRPRE86IGwxMG5cblx0XHRcdGlmIChub2RlLnR5cGUgPT09IFwicmVzZXRcIikge1xuXHRcdFx0XHRyZXR1cm4gXCJSZXNldFwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGxhYmVscyA9IGdldExhYmVscyhub2RlKTtcblx0XHRpZiAobGFiZWxzICE9PSBudWxsICYmIGxhYmVscy5sZW5ndGggIT09IDApIHtcblx0XHRcdGNvbnN1bHRlZE5vZGVzLmFkZChub2RlKTtcblx0XHRcdHJldHVybiBBcnJheUZyb20obGFiZWxzKVxuXHRcdFx0XHQubWFwKChlbGVtZW50KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXB1dGVUZXh0QWx0ZXJuYXRpdmUoZWxlbWVudCwge1xuXHRcdFx0XHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IHRydWUsXG5cdFx0XHRcdFx0XHRpc1JlZmVyZW5jZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0cmVjdXJzaW9uOiB0cnVlLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmlsdGVyKChsYWJlbCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBsYWJlbC5sZW5ndGggPiAwO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuam9pbihcIiBcIik7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2h0bWwtYWFtLyNpbnB1dC10eXBlLWltYWdlLWFjY2Vzc2libGUtbmFtZS1jb21wdXRhdGlvblxuXHRcdC8vIFRPRE86IHdwdCB0ZXN0IGNvbnNpZGVyIGxhYmVsIGVsZW1lbnRzIGJ1dCBodG1sLWFhbSBkb2VzIG5vdCBtZW50aW9uIHRoZW1cblx0XHQvLyBXZSBmb2xsb3cgZXhpc3RpbmcgaW1wbGVtZW50YXRpb25zIG92ZXIgc3BlY1xuXHRcdGlmIChpc0hUTUxJbnB1dEVsZW1lbnQobm9kZSkgJiYgbm9kZS50eXBlID09PSBcImltYWdlXCIpIHtcblx0XHRcdGNvbnN0IG5hbWVGcm9tQWx0ID0gdXNlQXR0cmlidXRlKG5vZGUsIFwiYWx0XCIpO1xuXHRcdFx0aWYgKG5hbWVGcm9tQWx0ICE9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBuYW1lRnJvbUFsdDtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbmFtZUZyb21UaXRsZSA9IHVzZUF0dHJpYnV0ZShub2RlLCBcInRpdGxlXCIpO1xuXHRcdFx0aWYgKG5hbWVGcm9tVGl0bGUgIT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIG5hbWVGcm9tVGl0bGU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRPRE86IGwxMG5cblx0XHRcdHJldHVybiBcIlN1Ym1pdCBRdWVyeVwiO1xuXHRcdH1cblxuXHRcdGlmIChoYXNBbnlDb25jcmV0ZVJvbGVzKG5vZGUsIFtcImJ1dHRvblwiXSkpIHtcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sLWFhbS0xLjAvI2J1dHRvbi1lbGVtZW50XG5cdFx0XHRjb25zdCBuYW1lRnJvbVN1YlRyZWUgPSBjb21wdXRlTWlzY1RleHRBbHRlcm5hdGl2ZShub2RlLCB7XG5cdFx0XHRcdGlzRW1iZWRkZWRJbkxhYmVsOiBmYWxzZSxcblx0XHRcdFx0aXNSZWZlcmVuY2VkOiBmYWxzZSxcblx0XHRcdH0pO1xuXHRcdFx0aWYgKG5hbWVGcm9tU3ViVHJlZSAhPT0gXCJcIikge1xuXHRcdFx0XHRyZXR1cm4gbmFtZUZyb21TdWJUcmVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29tcHV0ZVRleHRBbHRlcm5hdGl2ZShcblx0XHRjdXJyZW50OiBOb2RlLFxuXHRcdGNvbnRleHQ6IHtcblx0XHRcdGlzRW1iZWRkZWRJbkxhYmVsOiBib29sZWFuO1xuXHRcdFx0aXNSZWZlcmVuY2VkOiBib29sZWFuO1xuXHRcdFx0cmVjdXJzaW9uOiBib29sZWFuO1xuXHRcdH1cblx0KTogc3RyaW5nIHtcblx0XHRpZiAoY29uc3VsdGVkTm9kZXMuaGFzKGN1cnJlbnQpKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHQvLyAyQVxuXHRcdGlmIChcblx0XHRcdCFoaWRkZW4gJiZcblx0XHRcdGlzSGlkZGVuKGN1cnJlbnQsIGdldENvbXB1dGVkU3R5bGUpICYmXG5cdFx0XHQhY29udGV4dC5pc1JlZmVyZW5jZWRcblx0XHQpIHtcblx0XHRcdGNvbnN1bHRlZE5vZGVzLmFkZChjdXJyZW50KTtcblx0XHRcdHJldHVybiBcIlwiIGFzIEZsYXRTdHJpbmc7XG5cdFx0fVxuXG5cdFx0Ly8gMkJcblx0XHRjb25zdCBsYWJlbEF0dHJpYnV0ZU5vZGUgPSBpc0VsZW1lbnQoY3VycmVudClcblx0XHRcdD8gY3VycmVudC5nZXRBdHRyaWJ1dGVOb2RlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpXG5cdFx0XHQ6IG51bGw7XG5cdFx0Ly8gVE9ETzogRG8gd2UgZ2VuZXJhbGx5IG5lZWQgdG8gYmxvY2sgcXVlcnkgSWRSZWZzIG9mIGF0dHJpYnV0ZXMgd2UgaGF2ZSBhbHJlYWR5IGNvbnN1bHRlZD9cblx0XHRjb25zdCBsYWJlbEVsZW1lbnRzID1cblx0XHRcdGxhYmVsQXR0cmlidXRlTm9kZSAhPT0gbnVsbCAmJiAhY29uc3VsdGVkTm9kZXMuaGFzKGxhYmVsQXR0cmlidXRlTm9kZSlcblx0XHRcdFx0PyBxdWVyeUlkUmVmcyhjdXJyZW50LCBcImFyaWEtbGFiZWxsZWRieVwiKVxuXHRcdFx0XHQ6IFtdO1xuXHRcdGlmIChcblx0XHRcdGNvbXB1dGUgPT09IFwibmFtZVwiICYmXG5cdFx0XHQhY29udGV4dC5pc1JlZmVyZW5jZWQgJiZcblx0XHRcdGxhYmVsRWxlbWVudHMubGVuZ3RoID4gMFxuXHRcdCkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gLS0gQ2FuJ3QgYmUgbnVsbCBoZXJlIG90aGVyd2lzZSBsYWJlbEVsZW1lbnRzIHdvdWxkIGJlIGVtcHR5XG5cdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQobGFiZWxBdHRyaWJ1dGVOb2RlISk7XG5cblx0XHRcdHJldHVybiBsYWJlbEVsZW1lbnRzXG5cdFx0XHRcdC5tYXAoKGVsZW1lbnQpID0+IHtcblx0XHRcdFx0XHQvLyBUT0RPOiBDaHJvbWUgd2lsbCBjb25zaWRlciByZXBlYXRlZCB2YWx1ZXMgaS5lLiB1c2UgYSBub2RlIG11bHRpcGxlIHRpbWVzIHdoaWxlIHdlJ2xsIGJhaWwgb3V0IGluIGNvbXB1dGVUZXh0QWx0ZXJuYXRpdmUuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbXB1dGVUZXh0QWx0ZXJuYXRpdmUoZWxlbWVudCwge1xuXHRcdFx0XHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IGNvbnRleHQuaXNFbWJlZGRlZEluTGFiZWwsXG5cdFx0XHRcdFx0XHRpc1JlZmVyZW5jZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHQvLyB0aGlzIGlzbid0IHJlY3Vyc2lvbiBhcyBzcGVjaWZpZWQsIG90aGVyd2lzZSB3ZSB3b3VsZCBza2lwXG5cdFx0XHRcdFx0XHQvLyBgYXJpYS1sYWJlbGAgaW5cblx0XHRcdFx0XHRcdC8vIDxpbnB1dCBpZD1cIm15c2VsZlwiIGFyaWEtbGFiZWw9XCJmb29cIiBhcmlhLWxhYmVsbGVkYnk9XCJteXNlbGZcIlxuXHRcdFx0XHRcdFx0cmVjdXJzaW9uOiBmYWxzZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmpvaW4oXCIgXCIpO1xuXHRcdH1cblxuXHRcdC8vIDJDXG5cdFx0Ly8gQ2hhbmdlZCBmcm9tIHRoZSBzcGVjIGluIGFudGljaXBhdGlvbiBvZiBodHRwczovL2dpdGh1Yi5jb20vdzNjL2FjY25hbWUvaXNzdWVzLzY0XG5cdFx0Ly8gc3BlYyBzYXlzIHdlIHNob3VsZCBvbmx5IGNvbnNpZGVyIHNraXBwaW5nIGlmIHdlIGhhdmUgYSBub24tZW1wdHkgbGFiZWxcblx0XHRjb25zdCBza2lwVG9TdGVwMkUgPVxuXHRcdFx0Y29udGV4dC5yZWN1cnNpb24gJiYgaXNDb250cm9sKGN1cnJlbnQpICYmIGNvbXB1dGUgPT09IFwibmFtZVwiO1xuXHRcdGlmICghc2tpcFRvU3RlcDJFKSB7XG5cdFx0XHRjb25zdCBhcmlhTGFiZWwgPSAoXG5cdFx0XHRcdChpc0VsZW1lbnQoY3VycmVudCkgJiYgY3VycmVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKSB8fFxuXHRcdFx0XHRcIlwiXG5cdFx0XHQpLnRyaW0oKTtcblx0XHRcdGlmIChhcmlhTGFiZWwgIT09IFwiXCIgJiYgY29tcHV0ZSA9PT0gXCJuYW1lXCIpIHtcblx0XHRcdFx0Y29uc3VsdGVkTm9kZXMuYWRkKGN1cnJlbnQpO1xuXHRcdFx0XHRyZXR1cm4gYXJpYUxhYmVsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAyRFxuXHRcdFx0aWYgKCFpc01hcmtlZFByZXNlbnRhdGlvbmFsKGN1cnJlbnQpKSB7XG5cdFx0XHRcdGNvbnN0IGVsZW1lbnRUZXh0QWx0ZXJuYXRpdmUgPSBjb21wdXRlRWxlbWVudFRleHRBbHRlcm5hdGl2ZShjdXJyZW50KTtcblx0XHRcdFx0aWYgKGVsZW1lbnRUZXh0QWx0ZXJuYXRpdmUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRUZXh0QWx0ZXJuYXRpdmU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBzcGVjaWFsIGNhc2luZywgY2hlYXRpbmcgdG8gbWFrZSB0ZXN0cyBwYXNzXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9hY2NuYW1lL2lzc3Vlcy82N1xuXHRcdGlmIChoYXNBbnlDb25jcmV0ZVJvbGVzKGN1cnJlbnQsIFtcIm1lbnVcIl0pKSB7XG5cdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHQvLyAyRVxuXHRcdGlmIChza2lwVG9TdGVwMkUgfHwgY29udGV4dC5pc0VtYmVkZGVkSW5MYWJlbCB8fCBjb250ZXh0LmlzUmVmZXJlbmNlZCkge1xuXHRcdFx0aWYgKGhhc0FueUNvbmNyZXRlUm9sZXMoY3VycmVudCwgW1wiY29tYm9ib3hcIiwgXCJsaXN0Ym94XCJdKSkge1xuXHRcdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRcdGNvbnN0IHNlbGVjdGVkT3B0aW9ucyA9IHF1ZXJ5U2VsZWN0ZWRPcHRpb25zKGN1cnJlbnQpO1xuXHRcdFx0XHRpZiAoc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdC8vIGRlZmluZWQgcGVyIHRlc3QgYG5hbWVfaGVhZGluZ19jb21ib2JveGBcblx0XHRcdFx0XHRyZXR1cm4gaXNIVE1MSW5wdXRFbGVtZW50KGN1cnJlbnQpID8gY3VycmVudC52YWx1ZSA6IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIEFycmF5RnJvbShzZWxlY3RlZE9wdGlvbnMpXG5cdFx0XHRcdFx0Lm1hcCgoc2VsZWN0ZWRPcHRpb24pID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBjb21wdXRlVGV4dEFsdGVybmF0aXZlKHNlbGVjdGVkT3B0aW9uLCB7XG5cdFx0XHRcdFx0XHRcdGlzRW1iZWRkZWRJbkxhYmVsOiBjb250ZXh0LmlzRW1iZWRkZWRJbkxhYmVsLFxuXHRcdFx0XHRcdFx0XHRpc1JlZmVyZW5jZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRyZWN1cnNpb246IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5qb2luKFwiIFwiKTtcblx0XHRcdH1cblx0XHRcdGlmIChoYXNBYnN0cmFjdFJvbGUoY3VycmVudCwgXCJyYW5nZVwiKSkge1xuXHRcdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRcdGlmIChjdXJyZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIpKSB7XG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gLS0gc2FmZSBkdWUgdG8gaGFzQXR0cmlidXRlIGd1YXJkXG5cdFx0XHRcdFx0cmV0dXJuIGN1cnJlbnQuZ2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIikhO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChjdXJyZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIikpIHtcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAtLSBzYWZlIGR1ZSB0byBoYXNBdHRyaWJ1dGUgZ3VhcmRcblx0XHRcdFx0XHRyZXR1cm4gY3VycmVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIpITtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIHVzZSB0aGUgdmFsdWUgYXMgc3BlY2lmaWVkIGJ5IGEgaG9zdCBsYW5ndWFnZSBhdHRyaWJ1dGUuXG5cdFx0XHRcdHJldHVybiBjdXJyZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIHx8IFwiXCI7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaGFzQW55Q29uY3JldGVSb2xlcyhjdXJyZW50LCBbXCJ0ZXh0Ym94XCJdKSkge1xuXHRcdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRcdHJldHVybiBnZXRWYWx1ZU9mVGV4dGJveChjdXJyZW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyAyRjogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2FjY25hbWUvI3N0ZXAyRlxuXHRcdGlmIChcblx0XHRcdGFsbG93c05hbWVGcm9tQ29udGVudChjdXJyZW50KSB8fFxuXHRcdFx0KGlzRWxlbWVudChjdXJyZW50KSAmJiBjb250ZXh0LmlzUmVmZXJlbmNlZCkgfHxcblx0XHRcdGlzTmF0aXZlSG9zdExhbmd1YWdlVGV4dEFsdGVybmF0aXZlRWxlbWVudChjdXJyZW50KSB8fFxuXHRcdFx0aXNEZXNjZW5kYW50T2ZOYXRpdmVIb3N0TGFuZ3VhZ2VUZXh0QWx0ZXJuYXRpdmVFbGVtZW50KGN1cnJlbnQpXG5cdFx0KSB7XG5cdFx0XHRjb25zdCBhY2N1bXVsYXRlZFRleHQyRiA9IGNvbXB1dGVNaXNjVGV4dEFsdGVybmF0aXZlKGN1cnJlbnQsIHtcblx0XHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IGNvbnRleHQuaXNFbWJlZGRlZEluTGFiZWwsXG5cdFx0XHRcdGlzUmVmZXJlbmNlZDogZmFsc2UsXG5cdFx0XHR9KTtcblx0XHRcdGlmIChhY2N1bXVsYXRlZFRleHQyRiAhPT0gXCJcIikge1xuXHRcdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRcdHJldHVybiBhY2N1bXVsYXRlZFRleHQyRjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gY3VycmVudC5URVhUX05PREUpIHtcblx0XHRcdGNvbnN1bHRlZE5vZGVzLmFkZChjdXJyZW50KTtcblx0XHRcdHJldHVybiBjdXJyZW50LnRleHRDb250ZW50IHx8IFwiXCI7XG5cdFx0fVxuXG5cdFx0aWYgKGNvbnRleHQucmVjdXJzaW9uKSB7XG5cdFx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0XHRyZXR1cm4gY29tcHV0ZU1pc2NUZXh0QWx0ZXJuYXRpdmUoY3VycmVudCwge1xuXHRcdFx0XHRpc0VtYmVkZGVkSW5MYWJlbDogY29udGV4dC5pc0VtYmVkZGVkSW5MYWJlbCxcblx0XHRcdFx0aXNSZWZlcmVuY2VkOiBmYWxzZSxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRvb2x0aXBBdHRyaWJ1dGVWYWx1ZSA9IGNvbXB1dGVUb29sdGlwQXR0cmlidXRlVmFsdWUoY3VycmVudCk7XG5cdFx0aWYgKHRvb2x0aXBBdHRyaWJ1dGVWYWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0Y29uc3VsdGVkTm9kZXMuYWRkKGN1cnJlbnQpO1xuXHRcdFx0cmV0dXJuIHRvb2x0aXBBdHRyaWJ1dGVWYWx1ZTtcblx0XHR9XG5cblx0XHQvLyBUT0RPIHNob3VsZCB0aGlzIGJlIHJlYWNoYWJsZT9cblx0XHRjb25zdWx0ZWROb2Rlcy5hZGQoY3VycmVudCk7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHRyZXR1cm4gYXNGbGF0U3RyaW5nKFxuXHRcdGNvbXB1dGVUZXh0QWx0ZXJuYXRpdmUocm9vdCwge1xuXHRcdFx0aXNFbWJlZGRlZEluTGFiZWw6IGZhbHNlLFxuXHRcdFx0Ly8gYnkgc3BlYyBjb21wdXRlQWNjZXNzaWJsZURlc2NyaXB0aW9uIHN0YXJ0cyB3aXRoIHRoZSByZWZlcmVuY2VkIGVsZW1lbnRzIGFzIHJvb3RzXG5cdFx0XHRpc1JlZmVyZW5jZWQ6IGNvbXB1dGUgPT09IFwiZGVzY3JpcHRpb25cIixcblx0XHRcdHJlY3Vyc2lvbjogZmFsc2UsXG5cdFx0fSlcblx0KTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUdBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUYsT0FBQTtBQWlCZ0IsU0FBQUQsdUJBQUFJLEdBQUE7RUFBQSxPQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBO0lBQUFFLE9BQUEsRUFBQUY7RUFBQTtBQUFBO0FBdEJoQjtBQUNBO0FBQ0E7O0FBbURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRyxZQUFZQSxDQUFDQyxDQUFTLEVBQWM7RUFDNUMsT0FB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