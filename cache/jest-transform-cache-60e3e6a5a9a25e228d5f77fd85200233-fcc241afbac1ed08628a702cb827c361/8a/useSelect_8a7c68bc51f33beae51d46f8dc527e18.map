{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_extends2","React","_interopRequireWildcard","_utils","_useButton","_useListbox","_defaultOptionStringifier","_useSelectChangeNotifiers","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","useSelect","props","buttonRef","buttonRefProp","defaultValue","defaultValueProp","disabled","listboxId","listboxIdProp","listboxRef","listboxRefProp","multiple","onChange","onHighlightChange","onOpenChange","open","options","optionStringifier","valueProp","useRef","handleButtonRef","unstable_useForkRef","unstable_useId","undefined","useMemo","optionsMap","map","Map","forEach","option","ignoreEnterKeyUp","ignoreClick","listboxFocusRequested","requestListboxFocus","useState","focusListboxIfRequested","useCallback","current","focus","handleListboxRef","notifySelectionChanged","notifyHighlightChanged","registerHighlightChangeHandler","registerSelectionChangeHandler","useEffect","createHandleMouseDown","otherHandlers","event","_otherHandlers$onMous","onMouseDown","defaultPrevented","createHandleButtonClick","_otherHandlers$onClic","onClick","createHandleButtonKeyDown","_otherHandlers$onKeyD","onKeyDown","preventDefault","createHandleListboxKeyUp","_otherHandlers$onKeyU","onKeyUp","closingKeys","includes","_buttonRef$current","createHandleListboxItemClick","_otherHandlers$onClic2","createHandleListboxBlur","_otherHandlers$onBlur","onBlur","listboxReducer","state","action","newState","defaultListboxReducer","type","ActionTypes","keyDown","selectedValues","highlightedValue","blur","setValue","optionsChange","length","getRootProps","getButtonRootProps","active","buttonActive","focusVisible","buttonFocusVisible","ref","optionValues","o","isOptionDisabled","valueToCheck","_option$disabled","stringifyOption","useListboxParameters","id","e","newValues","_newValues$","newValue","selectionLimit","stateReducer","getListboxRootProps","getOptionProps","getListboxOptionProps","getOptionState","highlightedOption","selectedOption","getButtonProps","role","getListboxProps","optionValue","useDebugValue","contextValue","_default"],"sources":["useSelect.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _utils = require(\"@mui/utils\");\nvar _useButton = _interopRequireDefault(require(\"../useButton\"));\nvar _useListbox = _interopRequireWildcard(require(\"../useListbox\"));\nvar _defaultOptionStringifier = _interopRequireDefault(require(\"../SelectUnstyled/defaultOptionStringifier\"));\nvar _useSelectChangeNotifiers = _interopRequireDefault(require(\"./useSelectChangeNotifiers\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n/**\n *\n * Demos:\n *\n * - [Unstyled Select](https://mui.com/base/react-select/#hook)\n *\n * API:\n *\n * - [useSelect API](https://mui.com/base/api/use-select/)\n */\nfunction useSelect(props) {\n  const {\n    buttonRef: buttonRefProp,\n    defaultValue: defaultValueProp,\n    disabled = false,\n    listboxId: listboxIdProp,\n    listboxRef: listboxRefProp,\n    multiple = false,\n    onChange,\n    onHighlightChange,\n    onOpenChange,\n    open = false,\n    options,\n    optionStringifier = _defaultOptionStringifier.default,\n    value: valueProp\n  } = props;\n  const buttonRef = React.useRef(null);\n  const handleButtonRef = (0, _utils.unstable_useForkRef)(buttonRefProp, buttonRef);\n  const listboxRef = React.useRef(null);\n  const listboxId = (0, _utils.unstable_useId)(listboxIdProp);\n  let defaultValue;\n  if (valueProp === undefined && defaultValueProp === undefined) {\n    defaultValue = [];\n  } else if (defaultValueProp !== undefined) {\n    defaultValue = multiple ? defaultValueProp : [defaultValueProp];\n  }\n  const value = React.useMemo(() => {\n    if (valueProp !== undefined) {\n      return multiple ? valueProp : [valueProp];\n    }\n    return undefined;\n  }, [valueProp, multiple]);\n  const optionsMap = React.useMemo(() => {\n    const map = new Map();\n    options.forEach(option => {\n      map.set(option.value, option);\n    });\n    return map;\n  }, [options]);\n\n  // prevents closing the listbox on keyUp right after opening it\n  const ignoreEnterKeyUp = React.useRef(false);\n\n  // prevents reopening the listbox when button is clicked\n  // (listbox closes on lost focus, then immediately reopens on click)\n  const ignoreClick = React.useRef(false);\n\n  // Ensure the listbox is focused after opening\n  const [listboxFocusRequested, requestListboxFocus] = React.useState(false);\n  const focusListboxIfRequested = React.useCallback(() => {\n    if (listboxFocusRequested && listboxRef.current != null) {\n      listboxRef.current.focus();\n      requestListboxFocus(false);\n    }\n  }, [listboxFocusRequested]);\n  const handleListboxRef = (0, _utils.unstable_useForkRef)(listboxRefProp, listboxRef, focusListboxIfRequested);\n  const {\n    notifySelectionChanged,\n    notifyHighlightChanged,\n    registerHighlightChangeHandler,\n    registerSelectionChangeHandler\n  } = (0, _useSelectChangeNotifiers.default)();\n  React.useEffect(() => {\n    focusListboxIfRequested();\n  }, [focusListboxIfRequested]);\n  React.useEffect(() => {\n    requestListboxFocus(open);\n  }, [open]);\n  const createHandleMouseDown = otherHandlers => event => {\n    var _otherHandlers$onMous;\n    otherHandlers == null ? void 0 : (_otherHandlers$onMous = otherHandlers.onMouseDown) == null ? void 0 : _otherHandlers$onMous.call(otherHandlers, event);\n    if (!event.defaultPrevented && open) {\n      ignoreClick.current = true;\n    }\n  };\n  const createHandleButtonClick = otherHandlers => event => {\n    var _otherHandlers$onClic;\n    otherHandlers == null ? void 0 : (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);\n    if (!event.defaultPrevented && !ignoreClick.current) {\n      onOpenChange == null ? void 0 : onOpenChange(!open);\n    }\n    ignoreClick.current = false;\n  };\n  const createHandleButtonKeyDown = otherHandlers => event => {\n    var _otherHandlers$onKeyD;\n    otherHandlers == null ? void 0 : (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (event.key === 'Enter') {\n      ignoreEnterKeyUp.current = true;\n    }\n    if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n      event.preventDefault();\n      onOpenChange == null ? void 0 : onOpenChange(true);\n    }\n  };\n  const createHandleListboxKeyUp = otherHandlers => event => {\n    var _otherHandlers$onKeyU;\n    otherHandlers == null ? void 0 : (_otherHandlers$onKeyU = otherHandlers.onKeyUp) == null ? void 0 : _otherHandlers$onKeyU.call(otherHandlers, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    const closingKeys = multiple ? ['Escape'] : ['Escape', 'Enter', ' '];\n    if (open && !ignoreEnterKeyUp.current && closingKeys.includes(event.key)) {\n      var _buttonRef$current;\n      buttonRef == null ? void 0 : (_buttonRef$current = buttonRef.current) == null ? void 0 : _buttonRef$current.focus();\n    }\n    ignoreEnterKeyUp.current = false;\n  };\n  const createHandleListboxItemClick = React.useCallback(otherHandlers => event => {\n    var _otherHandlers$onClic2;\n    otherHandlers == null ? void 0 : (_otherHandlers$onClic2 = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic2.call(otherHandlers, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (!multiple) {\n      onOpenChange == null ? void 0 : onOpenChange(false);\n    }\n  }, [multiple, onOpenChange]);\n  const createHandleListboxBlur = otherHandlers => event => {\n    var _otherHandlers$onBlur;\n    otherHandlers == null ? void 0 : (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);\n    if (!event.defaultPrevented) {\n      onOpenChange == null ? void 0 : onOpenChange(false);\n    }\n  };\n  const listboxReducer = React.useCallback((state, action) => {\n    const newState = (0, _useListbox.defaultListboxReducer)(state, action);\n    switch (action.type) {\n      case _useListbox.ActionTypes.keyDown:\n        // change selection when listbox is closed\n        if ((action.event.key === 'ArrowUp' || action.event.key === 'ArrowDown') && !open && !multiple) {\n          return (0, _extends2.default)({}, newState, {\n            selectedValues: newState.highlightedValue != null ? [newState.highlightedValue] : []\n          });\n        }\n        break;\n      case _useListbox.ActionTypes.blur:\n      case _useListbox.ActionTypes.setValue:\n      case _useListbox.ActionTypes.optionsChange:\n        return (0, _extends2.default)({}, newState, {\n          highlightedValue: newState.selectedValues.length > 0 ? newState.selectedValues[0] : null\n        });\n      default:\n        return newState;\n    }\n    return newState;\n  }, [open, multiple]);\n  const {\n    getRootProps: getButtonRootProps,\n    active: buttonActive,\n    focusVisible: buttonFocusVisible\n  } = (0, _useButton.default)({\n    disabled,\n    ref: handleButtonRef\n  });\n  const optionValues = React.useMemo(() => options.map(o => o.value), [options]);\n  const isOptionDisabled = React.useCallback(valueToCheck => {\n    var _option$disabled;\n    const option = optionsMap.get(valueToCheck);\n    return (_option$disabled = option == null ? void 0 : option.disabled) != null ? _option$disabled : false;\n  }, [optionsMap]);\n  const stringifyOption = React.useCallback(valueToCheck => {\n    const option = optionsMap.get(valueToCheck);\n    if (!option) {\n      return '';\n    }\n    return optionStringifier(option);\n  }, [optionsMap, optionStringifier]);\n  const useListboxParameters = {\n    defaultValue,\n    id: listboxId,\n    isOptionDisabled,\n    listboxRef: handleListboxRef,\n    onChange: (e, newValues) => {\n      if (multiple) {\n        onChange == null ? void 0 : onChange(e, newValues);\n      } else {\n        var _newValues$;\n        onChange == null ? void 0 : onChange(e, (_newValues$ = newValues[0]) != null ? _newValues$ : null);\n      }\n    },\n    onHighlightChange: (e, newValue) => {\n      onHighlightChange == null ? void 0 : onHighlightChange(e, newValue != null ? newValue : null);\n    },\n    options: optionValues,\n    optionStringifier: stringifyOption,\n    selectionLimit: multiple ? null : 1,\n    stateReducer: listboxReducer,\n    value\n  };\n  const {\n    getRootProps: getListboxRootProps,\n    getOptionProps: getListboxOptionProps,\n    getOptionState,\n    highlightedOption,\n    selectedOption\n  } = (0, _useListbox.default)(useListboxParameters);\n  React.useEffect(() => {\n    notifySelectionChanged(selectedOption);\n  }, [selectedOption, notifySelectionChanged]);\n  React.useEffect(() => {\n    notifyHighlightChanged(highlightedOption);\n  }, [highlightedOption, notifyHighlightChanged]);\n  const getButtonProps = (otherHandlers = {}) => {\n    return (0, _extends2.default)({}, getButtonRootProps((0, _extends2.default)({}, otherHandlers, {\n      onClick: createHandleButtonClick(otherHandlers),\n      onMouseDown: createHandleMouseDown(otherHandlers),\n      onKeyDown: createHandleButtonKeyDown(otherHandlers)\n    })), {\n      role: 'combobox',\n      'aria-expanded': open,\n      'aria-haspopup': 'listbox',\n      'aria-controls': listboxId\n    });\n  };\n  const getListboxProps = (otherHandlers = {}) => getListboxRootProps((0, _extends2.default)({}, otherHandlers, {\n    onBlur: createHandleListboxBlur(otherHandlers),\n    onKeyUp: createHandleListboxKeyUp(otherHandlers)\n  }));\n  const getOptionProps = React.useCallback((optionValue, otherHandlers = {}) => {\n    return getListboxOptionProps(optionValue, (0, _extends2.default)({}, otherHandlers, {\n      onClick: createHandleListboxItemClick(otherHandlers)\n    }));\n  }, [getListboxOptionProps, createHandleListboxItemClick]);\n  React.useDebugValue({\n    selectedOption,\n    highlightedOption,\n    open\n  });\n  const contextValue = React.useMemo(() => ({\n    listboxRef,\n    getOptionProps,\n    getOptionState,\n    registerHighlightChangeHandler,\n    registerSelectionChangeHandler\n  }), [getOptionProps, getOptionState, registerHighlightChangeHandler, registerSelectionChangeHandler]);\n  if (props.multiple) {\n    return {\n      buttonActive,\n      buttonFocusVisible,\n      disabled,\n      getButtonProps,\n      getListboxProps,\n      contextValue,\n      open,\n      value: selectedOption,\n      highlightedOption\n    };\n  }\n  return {\n    buttonActive,\n    buttonFocusVisible,\n    disabled,\n    getButtonProps,\n    getListboxProps,\n    contextValue,\n    open,\n    value: selectedOption.length > 0 ? selectedOption[0] : null,\n    highlightedOption\n  };\n}\nvar _default = useSelect;\nexports.default = _default;"],"mappings":"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"}