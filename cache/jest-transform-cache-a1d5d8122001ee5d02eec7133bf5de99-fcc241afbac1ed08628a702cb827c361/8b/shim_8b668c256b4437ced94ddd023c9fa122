b5f05c940169b415b8bd293174cb66bf
'use strict';

var supportsDescriptors = require('define-properties').supportsDescriptors;
var getPolyfill = require('./polyfill');
var gOPD = Object.getOwnPropertyDescriptor;
var defineProperty = Object.defineProperty;
var TypeErr = TypeError;
var getProto = Object.getPrototypeOf;
var regex = /a/;
module.exports = function shimFlags() {
  if (!supportsDescriptors || !getProto) {
    throw new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');
  }
  var polyfill = getPolyfill();
  var proto = getProto(regex);
  var descriptor = gOPD(proto, 'flags');
  if (!descriptor || descriptor.get !== polyfill) {
    defineProperty(proto, 'flags', {
      configurable: true,
      enumerable: false,
      get: polyfill
    });
  }
  return polyfill;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdXBwb3J0c0Rlc2NyaXB0b3JzIiwicmVxdWlyZSIsImdldFBvbHlmaWxsIiwiZ09QRCIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5IiwiVHlwZUVyciIsIlR5cGVFcnJvciIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJyZWdleCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzaGltRmxhZ3MiLCJwb2x5ZmlsbCIsInByb3RvIiwiZGVzY3JpcHRvciIsImdldCIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiXSwic291cmNlcyI6WyJzaGltLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHN1cHBvcnRzRGVzY3JpcHRvcnMgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpLnN1cHBvcnRzRGVzY3JpcHRvcnM7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgZ09QRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgVHlwZUVyciA9IFR5cGVFcnJvcjtcbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciByZWdleCA9IC9hLztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltRmxhZ3MoKSB7XG5cdGlmICghc3VwcG9ydHNEZXNjcmlwdG9ycyB8fCAhZ2V0UHJvdG8pIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycignUmVnRXhwLnByb3RvdHlwZS5mbGFncyByZXF1aXJlcyBhIHRydWUgRVM1IGVudmlyb25tZW50IHRoYXQgc3VwcG9ydHMgcHJvcGVydHkgZGVzY3JpcHRvcnMnKTtcblx0fVxuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHR2YXIgcHJvdG8gPSBnZXRQcm90byhyZWdleCk7XG5cdHZhciBkZXNjcmlwdG9yID0gZ09QRChwcm90bywgJ2ZsYWdzJyk7XG5cdGlmICghZGVzY3JpcHRvciB8fCBkZXNjcmlwdG9yLmdldCAhPT0gcG9seWZpbGwpIHtcblx0XHRkZWZpbmVQcm9wZXJ0eShwcm90bywgJ2ZsYWdzJywge1xuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6IHBvbHlmaWxsXG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIHBvbHlmaWxsO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWixJQUFJQSxtQkFBbUIsR0FBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUNELG1CQUFtQjtBQUMxRSxJQUFJRSxXQUFXLEdBQUdELE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDdkMsSUFBSUUsSUFBSSxHQUFHQyxNQUFNLENBQUNDLHdCQUF3QjtBQUMxQyxJQUFJQyxjQUFjLEdBQUdGLE1BQU0sQ0FBQ0UsY0FBYztBQUMxQyxJQUFJQyxPQUFPLEdBQUdDLFNBQVM7QUFDdkIsSUFBSUMsUUFBUSxHQUFHTCxNQUFNLENBQUNNLGNBQWM7QUFDcEMsSUFBSUMsS0FBSyxHQUFHLEdBQUc7QUFFZkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0MsU0FBU0EsQ0FBQSxFQUFHO0VBQ3JDLElBQUksQ0FBQ2QsbUJBQW1CLElBQUksQ0FBQ1MsUUFBUSxFQUFFO0lBQ3RDLE1BQU0sSUFBSUYsT0FBTyxDQUFDLDJGQUEyRixDQUFDO0VBQy9HO0VBQ0EsSUFBSVEsUUFBUSxHQUFHYixXQUFXLEVBQUU7RUFDNUIsSUFBSWMsS0FBSyxHQUFHUCxRQUFRLENBQUNFLEtBQUssQ0FBQztFQUMzQixJQUFJTSxVQUFVLEdBQUdkLElBQUksQ0FBQ2EsS0FBSyxFQUFFLE9BQU8sQ0FBQztFQUNyQyxJQUFJLENBQUNDLFVBQVUsSUFBSUEsVUFBVSxDQUFDQyxHQUFHLEtBQUtILFFBQVEsRUFBRTtJQUMvQ1QsY0FBYyxDQUFDVSxLQUFLLEVBQUUsT0FBTyxFQUFFO01BQzlCRyxZQUFZLEVBQUUsSUFBSTtNQUNsQkMsVUFBVSxFQUFFLEtBQUs7TUFDakJGLEdBQUcsRUFBRUg7SUFDTixDQUFDLENBQUM7RUFDSDtFQUNBLE9BQU9BLFFBQVE7QUFDaEIsQ0FBQyJ9