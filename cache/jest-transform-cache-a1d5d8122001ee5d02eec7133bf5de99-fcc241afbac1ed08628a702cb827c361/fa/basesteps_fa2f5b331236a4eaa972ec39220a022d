27d590e3599b7af4712f3d520238a2a2
"use strict";

_getJestObj().mock("axios");
var _jestCucumber = require("jest-cucumber");
var _react = require("@testing-library/react");
var _Base = _interopRequireDefault(require("../../Base"));
var _react2 = _interopRequireDefault(require("react"));
require("@testing-library/jest-dom/extend-expect");
require("text-encoding");
var _reactRouterDom = require("react-router-dom");
var _axios = _interopRequireDefault(require("axios"));
var _testUtils = require("react-dom/test-utils");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const feature = (0, _jestCucumber.loadFeature)("src/components/features/base.feature");
(0, _jestCucumber.defineFeature)(feature, test => {
  test("Search for a movie", ({
    given,
    when,
    then,
    and
  }) => {
    const data = {
      Title: "Manmadhudu",
      Year: "2002",
      Rated: "N/A",
      Released: "20 Dec 2002",
      Runtime: "142 min",
      Genre: "Comedy, Romance",
      Director: "Vijay K. Bhaskar",
      Writer: "Vijay K. Bhaskar, Trivikram Srinivas",
      Actors: "Nagarjuna Akkineni, Sonali Bendre, Anshu",
      Plot: "A misogynist is forced by circumstances to work with a woman.",
      Language: "Telugu",
      Poster: "https://m.media-amazon.com/images/M/MV5BOTE1M2IwMzktNjI1Mi00ZTFkLTg4MmMtNTZmMjk4YTdhODlkXkEyXkFqcGdeQXVyNjE2NTgxOTE@._V1_SX300.jpg",
      Ratings: [{
        Source: "Internet Movie Database",
        Value: "8.3/10"
      }],
      imdbRating: "8.3",
      imdbVotes: "4,096",
      imdbID: "tt0355742"
    };
    _axios.default.get.mockResolvedValueOnce({
      data: data
    });
    const screen = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_reactRouterDom.MemoryRouter, {
      initialEntries: ["/"]
    }, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.Routes, null, /*#__PURE__*/_react2.default.createElement(_reactRouterDom.Route, {
      path: "/",
      element: /*#__PURE__*/_react2.default.createElement(_Base.default, null)
    }))));
    given("I am on the search page", () => {
      expect(screen).toBeDefined();
    });
    when('I select the "Movie" tab', () => {
      const movieTab = screen.getByRole("tab", {
        name: "Movie"
      });
      _react.fireEvent.click(movieTab);
    });
    and('I enter "Manmadhudu" in the search input and hit submit', () => {
      const movieSearch = screen.getByTestId("search-movies").querySelector("input");
      expect(movieSearch).toBeInTheDocument();
      (0, _testUtils.act)(() => {
        _react.fireEvent.change(movieSearch, {
          target: {
            value: "Manmadhudu"
          }
        });
      });
      const submitButton = screen.getByRole("button", {
        name: "Submit"
      });
      _react.fireEvent.click(submitButton);
      screen.getByText("Manmadhudu");
    });
    then("I should see the search results card", () => {});
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfamVzdEN1Y3VtYmVyIiwicmVxdWlyZSIsIl9yZWFjdCIsIl9CYXNlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9yZWFjdDIiLCJfcmVhY3RSb3V0ZXJEb20iLCJfYXhpb3MiLCJfdGVzdFV0aWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJqZXN0IiwiZmVhdHVyZSIsImxvYWRGZWF0dXJlIiwiZGVmaW5lRmVhdHVyZSIsInRlc3QiLCJnaXZlbiIsIndoZW4iLCJ0aGVuIiwiYW5kIiwiZGF0YSIsIlRpdGxlIiwiWWVhciIsIlJhdGVkIiwiUmVsZWFzZWQiLCJSdW50aW1lIiwiR2VucmUiLCJEaXJlY3RvciIsIldyaXRlciIsIkFjdG9ycyIsIlBsb3QiLCJMYW5ndWFnZSIsIlBvc3RlciIsIlJhdGluZ3MiLCJTb3VyY2UiLCJWYWx1ZSIsImltZGJSYXRpbmciLCJpbWRiVm90ZXMiLCJpbWRiSUQiLCJheGlvcyIsImdldCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInNjcmVlbiIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJNZW1vcnlSb3V0ZXIiLCJpbml0aWFsRW50cmllcyIsIlJvdXRlcyIsIlJvdXRlIiwicGF0aCIsImVsZW1lbnQiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsIm1vdmllVGFiIiwiZ2V0QnlSb2xlIiwibmFtZSIsImZpcmVFdmVudCIsImNsaWNrIiwibW92aWVTZWFyY2giLCJnZXRCeVRlc3RJZCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImFjdCIsImNoYW5nZSIsInRhcmdldCIsInZhbHVlIiwic3VibWl0QnV0dG9uIiwiZ2V0QnlUZXh0Il0sInNvdXJjZXMiOlsiYmFzZS5zdGVwcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmaW5lRmVhdHVyZSwgbG9hZEZlYXR1cmUgfSBmcm9tIFwiamVzdC1jdWN1bWJlclwiO1xyXG5pbXBvcnQgeyBmaXJlRXZlbnQsIHJlbmRlciwgd2FpdEZvciB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XHJcbmltcG9ydCBCYXNlIGZyb20gXCIuLi8uLi9CYXNlXCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IFwiQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbS9leHRlbmQtZXhwZWN0XCI7XHJcbmltcG9ydCBcInRleHQtZW5jb2RpbmdcIjtcclxuaW1wb3J0IHtcclxuICBCcm93c2VyUm91dGVyIGFzIFJvdXRlcixcclxuICBSb3V0ZXMsXHJcbiAgUm91dGUsXHJcbiAgTWVtb3J5Um91dGVyLFxyXG59IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XHJcbmNvbnN0IGZlYXR1cmUgPSBsb2FkRmVhdHVyZShcInNyYy9jb21wb25lbnRzL2ZlYXR1cmVzL2Jhc2UuZmVhdHVyZVwiKTtcclxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgeyBhY3QgfSBmcm9tIFwicmVhY3QtZG9tL3Rlc3QtdXRpbHNcIjtcclxuamVzdC5tb2NrKFwiYXhpb3NcIik7XHJcbmRlZmluZUZlYXR1cmUoZmVhdHVyZSwgKHRlc3QpID0+IHtcclxuICB0ZXN0KFwiU2VhcmNoIGZvciBhIG1vdmllXCIsICh7IGdpdmVuLCB3aGVuLCB0aGVuLCBhbmQgfSkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgVGl0bGU6IFwiTWFubWFkaHVkdVwiLFxyXG4gICAgICBZZWFyOiBcIjIwMDJcIixcclxuICAgICAgUmF0ZWQ6IFwiTi9BXCIsXHJcbiAgICAgIFJlbGVhc2VkOiBcIjIwIERlYyAyMDAyXCIsXHJcbiAgICAgIFJ1bnRpbWU6IFwiMTQyIG1pblwiLFxyXG4gICAgICBHZW5yZTogXCJDb21lZHksIFJvbWFuY2VcIixcclxuICAgICAgRGlyZWN0b3I6IFwiVmlqYXkgSy4gQmhhc2thclwiLFxyXG4gICAgICBXcml0ZXI6IFwiVmlqYXkgSy4gQmhhc2thciwgVHJpdmlrcmFtIFNyaW5pdmFzXCIsXHJcbiAgICAgIEFjdG9yczogXCJOYWdhcmp1bmEgQWtraW5lbmksIFNvbmFsaSBCZW5kcmUsIEFuc2h1XCIsXHJcbiAgICAgIFBsb3Q6IFwiQSBtaXNvZ3luaXN0IGlzIGZvcmNlZCBieSBjaXJjdW1zdGFuY2VzIHRvIHdvcmsgd2l0aCBhIHdvbWFuLlwiLFxyXG4gICAgICBMYW5ndWFnZTogXCJUZWx1Z3VcIixcclxuICAgICAgUG9zdGVyOlxyXG4gICAgICAgIFwiaHR0cHM6Ly9tLm1lZGlhLWFtYXpvbi5jb20vaW1hZ2VzL00vTVY1Qk9URTFNMkl3TXprdE5qSTFNaTAwWlRGa0xUZzRNbU10TlRabU1qazRZVGRoT0Rsa1hrRXlYa0ZxY0dkZVFYVnlOakUyTlRneE9URUAuX1YxX1NYMzAwLmpwZ1wiLFxyXG4gICAgICBSYXRpbmdzOiBbeyBTb3VyY2U6IFwiSW50ZXJuZXQgTW92aWUgRGF0YWJhc2VcIiwgVmFsdWU6IFwiOC4zLzEwXCIgfV0sXHJcbiAgICAgIGltZGJSYXRpbmc6IFwiOC4zXCIsXHJcbiAgICAgIGltZGJWb3RlczogXCI0LDA5NlwiLFxyXG4gICAgICBpbWRiSUQ6IFwidHQwMzU1NzQyXCIsXHJcbiAgICB9O1xyXG4gICAgKGF4aW9zLmdldCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzY3JlZW4gPSByZW5kZXIoXHJcbiAgICAgIDxNZW1vcnlSb3V0ZXIgaW5pdGlhbEVudHJpZXM9e1tcIi9cIl19PlxyXG4gICAgICAgIDxSb3V0ZXM+XHJcbiAgICAgICAgICA8Um91dGUgcGF0aD1cIi9cIiBlbGVtZW50PXs8QmFzZSAvPn0gLz5cclxuICAgICAgICA8L1JvdXRlcz5cclxuICAgICAgPC9NZW1vcnlSb3V0ZXI+XHJcbiAgICApO1xyXG4gICAgZ2l2ZW4oXCJJIGFtIG9uIHRoZSBzZWFyY2ggcGFnZVwiLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICAgIHdoZW4oJ0kgc2VsZWN0IHRoZSBcIk1vdmllXCIgdGFiJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb3ZpZVRhYiA9IHNjcmVlbi5nZXRCeVJvbGUoXCJ0YWJcIiwgeyBuYW1lOiBcIk1vdmllXCIgfSk7XHJcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb3ZpZVRhYik7XHJcbiAgICB9KTtcclxuICAgIGFuZCgnSSBlbnRlciBcIk1hbm1hZGh1ZHVcIiBpbiB0aGUgc2VhcmNoIGlucHV0IGFuZCBoaXQgc3VibWl0JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb3ZpZVNlYXJjaCA9IHNjcmVlblxyXG4gICAgICAgIC5nZXRCeVRlc3RJZChcInNlYXJjaC1tb3ZpZXNcIilcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcImlucHV0XCIpITtcclxuICAgICAgZXhwZWN0KG1vdmllU2VhcmNoKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2UobW92aWVTZWFyY2gsIHsgdGFyZ2V0OiB7IHZhbHVlOiBcIk1hbm1hZGh1ZHVcIiB9IH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZShcImJ1dHRvblwiLCB7IG5hbWU6IFwiU3VibWl0XCIgfSk7XHJcbiAgICAgIGZpcmVFdmVudC5jbGljayhzdWJtaXRCdXR0b24pO1xyXG4gICAgICBzY3JlZW4uZ2V0QnlUZXh0KFwiTWFubWFkaHVkdVwiKTtcclxuICAgIH0pO1xyXG4gICAgdGhlbihcIkkgc2hvdWxkIHNlZSB0aGUgc2VhcmNoIHJlc3VsdHMgY2FyZFwiLCAoKSA9PiB7fSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBZUFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLE9BQU8sQ0FB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