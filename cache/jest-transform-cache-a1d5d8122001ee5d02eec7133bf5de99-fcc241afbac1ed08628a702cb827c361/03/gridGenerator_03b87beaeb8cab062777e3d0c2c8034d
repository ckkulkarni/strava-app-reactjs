1f4c6ed50b46ba11d965479f704e1ffc
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.traverseBreakpoints = exports.generateSpacingClassNames = exports.generateSizeClassNames = exports.generateGridStyles = exports.generateGridSizeStyles = exports.generateGridRowSpacingStyles = exports.generateGridOffsetStyles = exports.generateGridDirectionStyles = exports.generateGridColumnsStyles = exports.generateGridColumnSpacingStyles = exports.generateDirectionClasses = exports.filterBreakpointKeys = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
function isNestedContainer(ownerState) {
  return ownerState.level > 0 && ownerState.container;
}
function createGetSelfSpacing(ownerState) {
  return function getSelfSpacing(axis) {
    return `var(--Grid-${axis}Spacing${ownerState.level || ''})`;
  };
}
function createGetParentSpacing(ownerState) {
  return function getParentSpacing(axis) {
    if (ownerState.level === 0) {
      return `var(--Grid-${axis}Spacing)`;
    }
    return `var(--Grid-${axis}Spacing${ownerState.level - 1 || ''})`;
  };
}
const filterBreakpointKeys = (breakpointsKeys, responsiveKeys) => breakpointsKeys.filter(key => responsiveKeys.includes(key));
exports.filterBreakpointKeys = filterBreakpointKeys;
const traverseBreakpoints = (breakpoints, responsive, iterator) => {
  const smallestBreakpoint = breakpoints.keys[0]; // the keys is sorted from smallest to largest by `createBreakpoints`.

  if (Array.isArray(responsive)) {
    responsive.forEach((breakpointValue, index) => {
      iterator((responsiveStyles, style) => {
        if (index <= breakpoints.keys.length - 1) {
          if (index === 0) {
            Object.assign(responsiveStyles, style);
          } else {
            responsiveStyles[breakpoints.up(breakpoints.keys[index])] = style;
          }
        }
      }, breakpointValue);
    });
  } else if (responsive && typeof responsive === 'object') {
    // prevent null
    // responsive could be a very big object, pick the smallest responsive values

    const keys = Object.keys(responsive).length > breakpoints.keys.length ? breakpoints.keys : filterBreakpointKeys(breakpoints.keys, Object.keys(responsive));
    keys.forEach(key => {
      if (breakpoints.keys.indexOf(key) !== -1) {
        // @ts-ignore already checked that responsive is an object
        const breakpointValue = responsive[key];
        if (breakpointValue !== undefined) {
          iterator((responsiveStyles, style) => {
            if (smallestBreakpoint === key) {
              Object.assign(responsiveStyles, style);
            } else {
              responsiveStyles[breakpoints.up(key)] = style;
            }
          }, breakpointValue);
        }
      }
    });
  } else if (typeof responsive === 'number' || typeof responsive === 'string') {
    iterator((responsiveStyles, style) => {
      Object.assign(responsiveStyles, style);
    }, responsive);
  }
};
exports.traverseBreakpoints = traverseBreakpoints;
const generateGridSizeStyles = ({
  theme,
  ownerState
}) => {
  const getSelfSpacing = createGetSelfSpacing(ownerState);
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.gridSize, (appendStyle, value) => {
    let style = {};
    if (value === true) {
      style = {
        flexBasis: 0,
        flexGrow: 1,
        maxWidth: '100%'
      };
    }
    if (value === 'auto') {
      style = {
        flexBasis: 'auto',
        flexGrow: 0,
        flexShrink: 0,
        maxWidth: 'none',
        width: 'auto'
      };
    }
    if (typeof value === 'number') {
      style = {
        flexGrow: 0,
        flexBasis: 'auto',
        width: `calc(100% * ${value} / var(--Grid-columns)${isNestedContainer(ownerState) ? ` + ${getSelfSpacing('column')}` : ''})`
      };
    }
    appendStyle(styles, style);
  });
  return styles;
};
exports.generateGridSizeStyles = generateGridSizeStyles;
const generateGridOffsetStyles = ({
  theme,
  ownerState
}) => {
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.gridOffset, (appendStyle, value) => {
    let style = {};
    if (value === 'auto') {
      style = {
        marginLeft: 'auto'
      };
    }
    if (typeof value === 'number') {
      style = {
        marginLeft: value === 0 ? '0px' : `calc(100% * ${value} / var(--Grid-columns))`
      };
    }
    appendStyle(styles, style);
  });
  return styles;
};
exports.generateGridOffsetStyles = generateGridOffsetStyles;
const generateGridColumnsStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const styles = {
    '--Grid-columns': 12
  };
  traverseBreakpoints(theme.breakpoints, ownerState.columns, (appendStyle, value) => {
    appendStyle(styles, {
      '--Grid-columns': value
    });
  });
  return styles;
};
exports.generateGridColumnsStyles = generateGridColumnsStyles;
const generateGridRowSpacingStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const getParentSpacing = createGetParentSpacing(ownerState);
  const styles = isNestedContainer(ownerState) ? {
    // Set the default spacing as its parent spacing.
    // It will be overridden if spacing props are provided
    [`--Grid-rowSpacing${ownerState.level || ''}`]: getParentSpacing('row')
  } : {};
  traverseBreakpoints(theme.breakpoints, ownerState.rowSpacing, (appendStyle, value) => {
    var _theme$spacing;
    appendStyle(styles, {
      [`--Grid-rowSpacing${ownerState.level || ''}`]: typeof value === 'string' ? value : (_theme$spacing = theme.spacing) == null ? void 0 : _theme$spacing.call(theme, value)
    });
  });
  return styles;
};
exports.generateGridRowSpacingStyles = generateGridRowSpacingStyles;
const generateGridColumnSpacingStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const getParentSpacing = createGetParentSpacing(ownerState);
  const styles = isNestedContainer(ownerState) ? {
    // Set the default spacing as its parent spacing.
    // It will be overridden if spacing props are provided
    [`--Grid-columnSpacing${ownerState.level || ''}`]: getParentSpacing('column')
  } : {};
  traverseBreakpoints(theme.breakpoints, ownerState.columnSpacing, (appendStyle, value) => {
    var _theme$spacing2;
    appendStyle(styles, {
      [`--Grid-columnSpacing${ownerState.level || ''}`]: typeof value === 'string' ? value : (_theme$spacing2 = theme.spacing) == null ? void 0 : _theme$spacing2.call(theme, value)
    });
  });
  return styles;
};
exports.generateGridColumnSpacingStyles = generateGridColumnSpacingStyles;
const generateGridDirectionStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.direction, (appendStyle, value) => {
    appendStyle(styles, {
      flexDirection: value
    });
  });
  return styles;
};
exports.generateGridDirectionStyles = generateGridDirectionStyles;
const generateGridStyles = ({
  ownerState
}) => {
  const getSelfSpacing = createGetSelfSpacing(ownerState);
  const getParentSpacing = createGetParentSpacing(ownerState);
  return (0, _extends2.default)({
    minWidth: 0,
    boxSizing: 'border-box'
  }, ownerState.container && (0, _extends2.default)({
    display: 'flex',
    flexWrap: 'wrap'
  }, ownerState.wrap && ownerState.wrap !== 'wrap' && {
    flexWrap: ownerState.wrap
  }, {
    margin: `calc(${getSelfSpacing('row')} / -2) calc(${getSelfSpacing('column')} / -2)`
  }, ownerState.disableEqualOverflow && {
    margin: `calc(${getSelfSpacing('row')} * -1) 0px 0px calc(${getSelfSpacing('column')} * -1)`
  }), (!ownerState.container || isNestedContainer(ownerState)) && (0, _extends2.default)({
    padding: `calc(${getParentSpacing('row')} / 2) calc(${getParentSpacing('column')} / 2)`
  }, (ownerState.disableEqualOverflow || ownerState.parentDisableEqualOverflow) && {
    padding: `${getParentSpacing('row')} 0px 0px ${getParentSpacing('column')}`
  }));
};
exports.generateGridStyles = generateGridStyles;
const generateSizeClassNames = gridSize => {
  const classNames = [];
  Object.entries(gridSize).forEach(([key, value]) => {
    if (value !== false && value !== undefined) {
      classNames.push(`grid-${key}-${String(value)}`);
    }
  });
  return classNames;
};
exports.generateSizeClassNames = generateSizeClassNames;
const generateSpacingClassNames = (spacing, smallestBreakpoint = 'xs') => {
  function isValidSpacing(val) {
    if (val === undefined) {
      return false;
    }
    return typeof val === 'string' && !Number.isNaN(Number(val)) || typeof val === 'number' && val > 0;
  }
  if (isValidSpacing(spacing)) {
    return [`spacing-${smallestBreakpoint}-${String(spacing)}`];
  }
  if (typeof spacing === 'object' && !Array.isArray(spacing)) {
    const classNames = [];
    Object.entries(spacing).forEach(([key, value]) => {
      if (isValidSpacing(value)) {
        classNames.push(`spacing-${key}-${String(value)}`);
      }
    });
    return classNames;
  }
  return [];
};
exports.generateSpacingClassNames = generateSpacingClassNames;
const generateDirectionClasses = direction => {
  if (direction === undefined) {
    return [];
  }
  if (typeof direction === 'object') {
    return Object.entries(direction).map(([key, value]) => `direction-${key}-${value}`);
  }
  return [`direction-xs-${String(direction)}`];
};
exports.generateDirectionClasses = generateDirectionClasses;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidHJhdmVyc2VCcmVha3BvaW50cyIsImdlbmVyYXRlU3BhY2luZ0NsYXNzTmFtZXMiLCJnZW5lcmF0ZVNpemVDbGFzc05hbWVzIiwiZ2VuZXJhdGVHcmlkU3R5bGVzIiwiZ2VuZXJhdGVHcmlkU2l6ZVN0eWxlcyIsImdlbmVyYXRlR3JpZFJvd1NwYWNpbmdTdHlsZXMiLCJnZW5lcmF0ZUdyaWRPZmZzZXRTdHlsZXMiLCJnZW5lcmF0ZUdyaWREaXJlY3Rpb25TdHlsZXMiLCJnZW5lcmF0ZUdyaWRDb2x1bW5zU3R5bGVzIiwiZ2VuZXJhdGVHcmlkQ29sdW1uU3BhY2luZ1N0eWxlcyIsImdlbmVyYXRlRGlyZWN0aW9uQ2xhc3NlcyIsImZpbHRlckJyZWFrcG9pbnRLZXlzIiwiX2V4dGVuZHMyIiwiaXNOZXN0ZWRDb250YWluZXIiLCJvd25lclN0YXRlIiwibGV2ZWwiLCJjb250YWluZXIiLCJjcmVhdGVHZXRTZWxmU3BhY2luZyIsImdldFNlbGZTcGFjaW5nIiwiYXhpcyIsImNyZWF0ZUdldFBhcmVudFNwYWNpbmciLCJnZXRQYXJlbnRTcGFjaW5nIiwiYnJlYWtwb2ludHNLZXlzIiwicmVzcG9uc2l2ZUtleXMiLCJmaWx0ZXIiLCJrZXkiLCJpbmNsdWRlcyIsImJyZWFrcG9pbnRzIiwicmVzcG9uc2l2ZSIsIml0ZXJhdG9yIiwic21hbGxlc3RCcmVha3BvaW50Iiwia2V5cyIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJicmVha3BvaW50VmFsdWUiLCJpbmRleCIsInJlc3BvbnNpdmVTdHlsZXMiLCJzdHlsZSIsImxlbmd0aCIsImFzc2lnbiIsInVwIiwiaW5kZXhPZiIsInVuZGVmaW5lZCIsInRoZW1lIiwic3R5bGVzIiwiZ3JpZFNpemUiLCJhcHBlbmRTdHlsZSIsImZsZXhCYXNpcyIsImZsZXhHcm93IiwibWF4V2lkdGgiLCJmbGV4U2hyaW5rIiwid2lkdGgiLCJncmlkT2Zmc2V0IiwibWFyZ2luTGVmdCIsImNvbHVtbnMiLCJyb3dTcGFjaW5nIiwiX3RoZW1lJHNwYWNpbmciLCJzcGFjaW5nIiwiY2FsbCIsImNvbHVtblNwYWNpbmciLCJfdGhlbWUkc3BhY2luZzIiLCJkaXJlY3Rpb24iLCJmbGV4RGlyZWN0aW9uIiwiZGVmYXVsdCIsIm1pbldpZHRoIiwiYm94U2l6aW5nIiwiZGlzcGxheSIsImZsZXhXcmFwIiwid3JhcCIsIm1hcmdpbiIsImRpc2FibGVFcXVhbE92ZXJmbG93IiwicGFkZGluZyIsInBhcmVudERpc2FibGVFcXVhbE92ZXJmbG93IiwiY2xhc3NOYW1lcyIsImVudHJpZXMiLCJwdXNoIiwiU3RyaW5nIiwiaXNWYWxpZFNwYWNpbmciLCJ2YWwiLCJOdW1iZXIiLCJpc05hTiIsIm1hcCJdLCJzb3VyY2VzIjpbImdyaWRHZW5lcmF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudHJhdmVyc2VCcmVha3BvaW50cyA9IGV4cG9ydHMuZ2VuZXJhdGVTcGFjaW5nQ2xhc3NOYW1lcyA9IGV4cG9ydHMuZ2VuZXJhdGVTaXplQ2xhc3NOYW1lcyA9IGV4cG9ydHMuZ2VuZXJhdGVHcmlkU3R5bGVzID0gZXhwb3J0cy5nZW5lcmF0ZUdyaWRTaXplU3R5bGVzID0gZXhwb3J0cy5nZW5lcmF0ZUdyaWRSb3dTcGFjaW5nU3R5bGVzID0gZXhwb3J0cy5nZW5lcmF0ZUdyaWRPZmZzZXRTdHlsZXMgPSBleHBvcnRzLmdlbmVyYXRlR3JpZERpcmVjdGlvblN0eWxlcyA9IGV4cG9ydHMuZ2VuZXJhdGVHcmlkQ29sdW1uc1N0eWxlcyA9IGV4cG9ydHMuZ2VuZXJhdGVHcmlkQ29sdW1uU3BhY2luZ1N0eWxlcyA9IGV4cG9ydHMuZ2VuZXJhdGVEaXJlY3Rpb25DbGFzc2VzID0gZXhwb3J0cy5maWx0ZXJCcmVha3BvaW50S2V5cyA9IHZvaWQgMDtcbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuZnVuY3Rpb24gaXNOZXN0ZWRDb250YWluZXIob3duZXJTdGF0ZSkge1xuICByZXR1cm4gb3duZXJTdGF0ZS5sZXZlbCA+IDAgJiYgb3duZXJTdGF0ZS5jb250YWluZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVHZXRTZWxmU3BhY2luZyhvd25lclN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRTZWxmU3BhY2luZyhheGlzKSB7XG4gICAgcmV0dXJuIGB2YXIoLS1HcmlkLSR7YXhpc31TcGFjaW5nJHtvd25lclN0YXRlLmxldmVsIHx8ICcnfSlgO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlR2V0UGFyZW50U3BhY2luZyhvd25lclN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQYXJlbnRTcGFjaW5nKGF4aXMpIHtcbiAgICBpZiAob3duZXJTdGF0ZS5sZXZlbCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGB2YXIoLS1HcmlkLSR7YXhpc31TcGFjaW5nKWA7XG4gICAgfVxuICAgIHJldHVybiBgdmFyKC0tR3JpZC0ke2F4aXN9U3BhY2luZyR7b3duZXJTdGF0ZS5sZXZlbCAtIDEgfHwgJyd9KWA7XG4gIH07XG59XG5jb25zdCBmaWx0ZXJCcmVha3BvaW50S2V5cyA9IChicmVha3BvaW50c0tleXMsIHJlc3BvbnNpdmVLZXlzKSA9PiBicmVha3BvaW50c0tleXMuZmlsdGVyKGtleSA9PiByZXNwb25zaXZlS2V5cy5pbmNsdWRlcyhrZXkpKTtcbmV4cG9ydHMuZmlsdGVyQnJlYWtwb2ludEtleXMgPSBmaWx0ZXJCcmVha3BvaW50S2V5cztcbmNvbnN0IHRyYXZlcnNlQnJlYWtwb2ludHMgPSAoYnJlYWtwb2ludHMsIHJlc3BvbnNpdmUsIGl0ZXJhdG9yKSA9PiB7XG4gIGNvbnN0IHNtYWxsZXN0QnJlYWtwb2ludCA9IGJyZWFrcG9pbnRzLmtleXNbMF07IC8vIHRoZSBrZXlzIGlzIHNvcnRlZCBmcm9tIHNtYWxsZXN0IHRvIGxhcmdlc3QgYnkgYGNyZWF0ZUJyZWFrcG9pbnRzYC5cblxuICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zaXZlKSkge1xuICAgIHJlc3BvbnNpdmUuZm9yRWFjaCgoYnJlYWtwb2ludFZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgaXRlcmF0b3IoKHJlc3BvbnNpdmVTdHlsZXMsIHN0eWxlKSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA8PSBicmVha3BvaW50cy5rZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzcG9uc2l2ZVN0eWxlcywgc3R5bGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zaXZlU3R5bGVzW2JyZWFrcG9pbnRzLnVwKGJyZWFrcG9pbnRzLmtleXNbaW5kZXhdKV0gPSBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGJyZWFrcG9pbnRWYWx1ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAocmVzcG9uc2l2ZSAmJiB0eXBlb2YgcmVzcG9uc2l2ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBwcmV2ZW50IG51bGxcbiAgICAvLyByZXNwb25zaXZlIGNvdWxkIGJlIGEgdmVyeSBiaWcgb2JqZWN0LCBwaWNrIHRoZSBzbWFsbGVzdCByZXNwb25zaXZlIHZhbHVlc1xuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlc3BvbnNpdmUpLmxlbmd0aCA+IGJyZWFrcG9pbnRzLmtleXMubGVuZ3RoID8gYnJlYWtwb2ludHMua2V5cyA6IGZpbHRlckJyZWFrcG9pbnRLZXlzKGJyZWFrcG9pbnRzLmtleXMsIE9iamVjdC5rZXlzKHJlc3BvbnNpdmUpKTtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChicmVha3BvaW50cy5rZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBhbHJlYWR5IGNoZWNrZWQgdGhhdCByZXNwb25zaXZlIGlzIGFuIG9iamVjdFxuICAgICAgICBjb25zdCBicmVha3BvaW50VmFsdWUgPSByZXNwb25zaXZlW2tleV07XG4gICAgICAgIGlmIChicmVha3BvaW50VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGl0ZXJhdG9yKChyZXNwb25zaXZlU3R5bGVzLCBzdHlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHNtYWxsZXN0QnJlYWtwb2ludCA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzcG9uc2l2ZVN0eWxlcywgc3R5bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2l2ZVN0eWxlc1ticmVha3BvaW50cy51cChrZXkpXSA9IHN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGJyZWFrcG9pbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2l2ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHJlc3BvbnNpdmUgPT09ICdzdHJpbmcnKSB7XG4gICAgaXRlcmF0b3IoKHJlc3BvbnNpdmVTdHlsZXMsIHN0eWxlKSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHJlc3BvbnNpdmVTdHlsZXMsIHN0eWxlKTtcbiAgICB9LCByZXNwb25zaXZlKTtcbiAgfVxufTtcbmV4cG9ydHMudHJhdmVyc2VCcmVha3BvaW50cyA9IHRyYXZlcnNlQnJlYWtwb2ludHM7XG5jb25zdCBnZW5lcmF0ZUdyaWRTaXplU3R5bGVzID0gKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgY29uc3QgZ2V0U2VsZlNwYWNpbmcgPSBjcmVhdGVHZXRTZWxmU3BhY2luZyhvd25lclN0YXRlKTtcbiAgY29uc3Qgc3R5bGVzID0ge307XG4gIHRyYXZlcnNlQnJlYWtwb2ludHModGhlbWUuYnJlYWtwb2ludHMsIG93bmVyU3RhdGUuZ3JpZFNpemUsIChhcHBlbmRTdHlsZSwgdmFsdWUpID0+IHtcbiAgICBsZXQgc3R5bGUgPSB7fTtcbiAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgIHN0eWxlID0ge1xuICAgICAgICBmbGV4QmFzaXM6IDAsXG4gICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09ICdhdXRvJykge1xuICAgICAgc3R5bGUgPSB7XG4gICAgICAgIGZsZXhCYXNpczogJ2F1dG8nLFxuICAgICAgICBmbGV4R3JvdzogMCxcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgbWF4V2lkdGg6ICdub25lJyxcbiAgICAgICAgd2lkdGg6ICdhdXRvJ1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHN0eWxlID0ge1xuICAgICAgICBmbGV4R3JvdzogMCxcbiAgICAgICAgZmxleEJhc2lzOiAnYXV0bycsXG4gICAgICAgIHdpZHRoOiBgY2FsYygxMDAlICogJHt2YWx1ZX0gLyB2YXIoLS1HcmlkLWNvbHVtbnMpJHtpc05lc3RlZENvbnRhaW5lcihvd25lclN0YXRlKSA/IGAgKyAke2dldFNlbGZTcGFjaW5nKCdjb2x1bW4nKX1gIDogJyd9KWBcbiAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZFN0eWxlKHN0eWxlcywgc3R5bGUpO1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn07XG5leHBvcnRzLmdlbmVyYXRlR3JpZFNpemVTdHlsZXMgPSBnZW5lcmF0ZUdyaWRTaXplU3R5bGVzO1xuY29uc3QgZ2VuZXJhdGVHcmlkT2Zmc2V0U3R5bGVzID0gKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgY29uc3Qgc3R5bGVzID0ge307XG4gIHRyYXZlcnNlQnJlYWtwb2ludHModGhlbWUuYnJlYWtwb2ludHMsIG93bmVyU3RhdGUuZ3JpZE9mZnNldCwgKGFwcGVuZFN0eWxlLCB2YWx1ZSkgPT4ge1xuICAgIGxldCBzdHlsZSA9IHt9O1xuICAgIGlmICh2YWx1ZSA9PT0gJ2F1dG8nKSB7XG4gICAgICBzdHlsZSA9IHtcbiAgICAgICAgbWFyZ2luTGVmdDogJ2F1dG8nXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgc3R5bGUgPSB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IHZhbHVlID09PSAwID8gJzBweCcgOiBgY2FsYygxMDAlICogJHt2YWx1ZX0gLyB2YXIoLS1HcmlkLWNvbHVtbnMpKWBcbiAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZFN0eWxlKHN0eWxlcywgc3R5bGUpO1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn07XG5leHBvcnRzLmdlbmVyYXRlR3JpZE9mZnNldFN0eWxlcyA9IGdlbmVyYXRlR3JpZE9mZnNldFN0eWxlcztcbmNvbnN0IGdlbmVyYXRlR3JpZENvbHVtbnNTdHlsZXMgPSAoe1xuICB0aGVtZSxcbiAgb3duZXJTdGF0ZVxufSkgPT4ge1xuICBpZiAoIW93bmVyU3RhdGUuY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAnLS1HcmlkLWNvbHVtbnMnOiAxMlxuICB9O1xuICB0cmF2ZXJzZUJyZWFrcG9pbnRzKHRoZW1lLmJyZWFrcG9pbnRzLCBvd25lclN0YXRlLmNvbHVtbnMsIChhcHBlbmRTdHlsZSwgdmFsdWUpID0+IHtcbiAgICBhcHBlbmRTdHlsZShzdHlsZXMsIHtcbiAgICAgICctLUdyaWQtY29sdW1ucyc6IHZhbHVlXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc3R5bGVzO1xufTtcbmV4cG9ydHMuZ2VuZXJhdGVHcmlkQ29sdW1uc1N0eWxlcyA9IGdlbmVyYXRlR3JpZENvbHVtbnNTdHlsZXM7XG5jb25zdCBnZW5lcmF0ZUdyaWRSb3dTcGFjaW5nU3R5bGVzID0gKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgaWYgKCFvd25lclN0YXRlLmNvbnRhaW5lcikge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCBnZXRQYXJlbnRTcGFjaW5nID0gY3JlYXRlR2V0UGFyZW50U3BhY2luZyhvd25lclN0YXRlKTtcbiAgY29uc3Qgc3R5bGVzID0gaXNOZXN0ZWRDb250YWluZXIob3duZXJTdGF0ZSkgPyB7XG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0IHNwYWNpbmcgYXMgaXRzIHBhcmVudCBzcGFjaW5nLlxuICAgIC8vIEl0IHdpbGwgYmUgb3ZlcnJpZGRlbiBpZiBzcGFjaW5nIHByb3BzIGFyZSBwcm92aWRlZFxuICAgIFtgLS1HcmlkLXJvd1NwYWNpbmcke293bmVyU3RhdGUubGV2ZWwgfHwgJyd9YF06IGdldFBhcmVudFNwYWNpbmcoJ3JvdycpXG4gIH0gOiB7fTtcbiAgdHJhdmVyc2VCcmVha3BvaW50cyh0aGVtZS5icmVha3BvaW50cywgb3duZXJTdGF0ZS5yb3dTcGFjaW5nLCAoYXBwZW5kU3R5bGUsIHZhbHVlKSA9PiB7XG4gICAgdmFyIF90aGVtZSRzcGFjaW5nO1xuICAgIGFwcGVuZFN0eWxlKHN0eWxlcywge1xuICAgICAgW2AtLUdyaWQtcm93U3BhY2luZyR7b3duZXJTdGF0ZS5sZXZlbCB8fCAnJ31gXTogdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogKF90aGVtZSRzcGFjaW5nID0gdGhlbWUuc3BhY2luZykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGVtZSRzcGFjaW5nLmNhbGwodGhlbWUsIHZhbHVlKVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn07XG5leHBvcnRzLmdlbmVyYXRlR3JpZFJvd1NwYWNpbmdTdHlsZXMgPSBnZW5lcmF0ZUdyaWRSb3dTcGFjaW5nU3R5bGVzO1xuY29uc3QgZ2VuZXJhdGVHcmlkQ29sdW1uU3BhY2luZ1N0eWxlcyA9ICh7XG4gIHRoZW1lLFxuICBvd25lclN0YXRlXG59KSA9PiB7XG4gIGlmICghb3duZXJTdGF0ZS5jb250YWluZXIpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgZ2V0UGFyZW50U3BhY2luZyA9IGNyZWF0ZUdldFBhcmVudFNwYWNpbmcob3duZXJTdGF0ZSk7XG4gIGNvbnN0IHN0eWxlcyA9IGlzTmVzdGVkQ29udGFpbmVyKG93bmVyU3RhdGUpID8ge1xuICAgIC8vIFNldCB0aGUgZGVmYXVsdCBzcGFjaW5nIGFzIGl0cyBwYXJlbnQgc3BhY2luZy5cbiAgICAvLyBJdCB3aWxsIGJlIG92ZXJyaWRkZW4gaWYgc3BhY2luZyBwcm9wcyBhcmUgcHJvdmlkZWRcbiAgICBbYC0tR3JpZC1jb2x1bW5TcGFjaW5nJHtvd25lclN0YXRlLmxldmVsIHx8ICcnfWBdOiBnZXRQYXJlbnRTcGFjaW5nKCdjb2x1bW4nKVxuICB9IDoge307XG4gIHRyYXZlcnNlQnJlYWtwb2ludHModGhlbWUuYnJlYWtwb2ludHMsIG93bmVyU3RhdGUuY29sdW1uU3BhY2luZywgKGFwcGVuZFN0eWxlLCB2YWx1ZSkgPT4ge1xuICAgIHZhciBfdGhlbWUkc3BhY2luZzI7XG4gICAgYXBwZW5kU3R5bGUoc3R5bGVzLCB7XG4gICAgICBbYC0tR3JpZC1jb2x1bW5TcGFjaW5nJHtvd25lclN0YXRlLmxldmVsIHx8ICcnfWBdOiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiAoX3RoZW1lJHNwYWNpbmcyID0gdGhlbWUuc3BhY2luZykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGVtZSRzcGFjaW5nMi5jYWxsKHRoZW1lLCB2YWx1ZSlcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBzdHlsZXM7XG59O1xuZXhwb3J0cy5nZW5lcmF0ZUdyaWRDb2x1bW5TcGFjaW5nU3R5bGVzID0gZ2VuZXJhdGVHcmlkQ29sdW1uU3BhY2luZ1N0eWxlcztcbmNvbnN0IGdlbmVyYXRlR3JpZERpcmVjdGlvblN0eWxlcyA9ICh7XG4gIHRoZW1lLFxuICBvd25lclN0YXRlXG59KSA9PiB7XG4gIGlmICghb3duZXJTdGF0ZS5jb250YWluZXIpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3Qgc3R5bGVzID0ge307XG4gIHRyYXZlcnNlQnJlYWtwb2ludHModGhlbWUuYnJlYWtwb2ludHMsIG93bmVyU3RhdGUuZGlyZWN0aW9uLCAoYXBwZW5kU3R5bGUsIHZhbHVlKSA9PiB7XG4gICAgYXBwZW5kU3R5bGUoc3R5bGVzLCB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiB2YWx1ZVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn07XG5leHBvcnRzLmdlbmVyYXRlR3JpZERpcmVjdGlvblN0eWxlcyA9IGdlbmVyYXRlR3JpZERpcmVjdGlvblN0eWxlcztcbmNvbnN0IGdlbmVyYXRlR3JpZFN0eWxlcyA9ICh7XG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgY29uc3QgZ2V0U2VsZlNwYWNpbmcgPSBjcmVhdGVHZXRTZWxmU3BhY2luZyhvd25lclN0YXRlKTtcbiAgY29uc3QgZ2V0UGFyZW50U3BhY2luZyA9IGNyZWF0ZUdldFBhcmVudFNwYWNpbmcob3duZXJTdGF0ZSk7XG4gIHJldHVybiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICBtaW5XaWR0aDogMCxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICB9LCBvd25lclN0YXRlLmNvbnRhaW5lciAmJiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleFdyYXA6ICd3cmFwJ1xuICB9LCBvd25lclN0YXRlLndyYXAgJiYgb3duZXJTdGF0ZS53cmFwICE9PSAnd3JhcCcgJiYge1xuICAgIGZsZXhXcmFwOiBvd25lclN0YXRlLndyYXBcbiAgfSwge1xuICAgIG1hcmdpbjogYGNhbGMoJHtnZXRTZWxmU3BhY2luZygncm93Jyl9IC8gLTIpIGNhbGMoJHtnZXRTZWxmU3BhY2luZygnY29sdW1uJyl9IC8gLTIpYFxuICB9LCBvd25lclN0YXRlLmRpc2FibGVFcXVhbE92ZXJmbG93ICYmIHtcbiAgICBtYXJnaW46IGBjYWxjKCR7Z2V0U2VsZlNwYWNpbmcoJ3JvdycpfSAqIC0xKSAwcHggMHB4IGNhbGMoJHtnZXRTZWxmU3BhY2luZygnY29sdW1uJyl9ICogLTEpYFxuICB9KSwgKCFvd25lclN0YXRlLmNvbnRhaW5lciB8fCBpc05lc3RlZENvbnRhaW5lcihvd25lclN0YXRlKSkgJiYgKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7XG4gICAgcGFkZGluZzogYGNhbGMoJHtnZXRQYXJlbnRTcGFjaW5nKCdyb3cnKX0gLyAyKSBjYWxjKCR7Z2V0UGFyZW50U3BhY2luZygnY29sdW1uJyl9IC8gMilgXG4gIH0sIChvd25lclN0YXRlLmRpc2FibGVFcXVhbE92ZXJmbG93IHx8IG93bmVyU3RhdGUucGFyZW50RGlzYWJsZUVxdWFsT3ZlcmZsb3cpICYmIHtcbiAgICBwYWRkaW5nOiBgJHtnZXRQYXJlbnRTcGFjaW5nKCdyb3cnKX0gMHB4IDBweCAke2dldFBhcmVudFNwYWNpbmcoJ2NvbHVtbicpfWBcbiAgfSkpO1xufTtcbmV4cG9ydHMuZ2VuZXJhdGVHcmlkU3R5bGVzID0gZ2VuZXJhdGVHcmlkU3R5bGVzO1xuY29uc3QgZ2VuZXJhdGVTaXplQ2xhc3NOYW1lcyA9IGdyaWRTaXplID0+IHtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IFtdO1xuICBPYmplY3QuZW50cmllcyhncmlkU2l6ZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGFzc05hbWVzLnB1c2goYGdyaWQtJHtrZXl9LSR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xhc3NOYW1lcztcbn07XG5leHBvcnRzLmdlbmVyYXRlU2l6ZUNsYXNzTmFtZXMgPSBnZW5lcmF0ZVNpemVDbGFzc05hbWVzO1xuY29uc3QgZ2VuZXJhdGVTcGFjaW5nQ2xhc3NOYW1lcyA9IChzcGFjaW5nLCBzbWFsbGVzdEJyZWFrcG9pbnQgPSAneHMnKSA9PiB7XG4gIGZ1bmN0aW9uIGlzVmFsaWRTcGFjaW5nKHZhbCkge1xuICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgIU51bWJlci5pc05hTihOdW1iZXIodmFsKSkgfHwgdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgdmFsID4gMDtcbiAgfVxuICBpZiAoaXNWYWxpZFNwYWNpbmcoc3BhY2luZykpIHtcbiAgICByZXR1cm4gW2BzcGFjaW5nLSR7c21hbGxlc3RCcmVha3BvaW50fS0ke1N0cmluZyhzcGFjaW5nKX1gXTtcbiAgfVxuICBpZiAodHlwZW9mIHNwYWNpbmcgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHNwYWNpbmcpKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IFtdO1xuICAgIE9iamVjdC5lbnRyaWVzKHNwYWNpbmcpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKGlzVmFsaWRTcGFjaW5nKHZhbHVlKSkge1xuICAgICAgICBjbGFzc05hbWVzLnB1c2goYHNwYWNpbmctJHtrZXl9LSR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xhc3NOYW1lcztcbiAgfVxuICByZXR1cm4gW107XG59O1xuZXhwb3J0cy5nZW5lcmF0ZVNwYWNpbmdDbGFzc05hbWVzID0gZ2VuZXJhdGVTcGFjaW5nQ2xhc3NOYW1lcztcbmNvbnN0IGdlbmVyYXRlRGlyZWN0aW9uQ2xhc3NlcyA9IGRpcmVjdGlvbiA9PiB7XG4gIGlmIChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAodHlwZW9mIGRpcmVjdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZGlyZWN0aW9uKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYGRpcmVjdGlvbi0ke2tleX0tJHt2YWx1ZX1gKTtcbiAgfVxuICByZXR1cm4gW2BkaXJlY3Rpb24teHMtJHtTdHJpbmcoZGlyZWN0aW9uKX1gXTtcbn07XG5leHBvcnRzLmdlbmVyYXRlRGlyZWN0aW9uQ2xhc3NlcyA9IGdlbmVyYXRlRGlyZWN0aW9uQ2xhc3NlczsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBOEMsQ0FBQztBQUNwRkMsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLG1CQUFtQixHQUFHRixPQUFPLENBQUNHLHlCQUF5QixHQUFHSCxPQUFPLENBQUNJLHNCQUFzQixHQUFHSixPQUFPLENBQUNLLGtCQUFrQixHQUFHTCxPQUFPLENBQUNNLHNCQUFzQixHQUFHTixPQUFPLENBQUNPLDRCQUE0QixHQUFHUCxPQUFPLENBQUNRLHdCQUF3QixHQUFHUixPQUFPLENBQUNTLDJCQUEyQixHQUFHVCxPQUFPLENBQUNVLHlCQUF5QixHQUFHVixPQUFPLENBQUNXLCtCQUErQixHQUFHWCxPQUFPLENBQUNZLHdCQUF3QixHQUFHWixPQUFPLENBQUNhLG9CQUFvQixHQUFHLEtBQUssQ0FBQztBQUN2YSxJQUFJQyxTQUFTLEdBQUdsQixzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7QUFD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