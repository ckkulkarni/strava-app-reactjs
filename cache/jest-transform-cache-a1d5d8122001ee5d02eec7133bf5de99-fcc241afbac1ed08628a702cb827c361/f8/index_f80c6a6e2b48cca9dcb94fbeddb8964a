799363a5e33ce4224ba896a508156a29
'use strict';

var SLOT = require('internal-slot');
var $SyntaxError = SyntaxError;
var $StopIteration = typeof StopIteration === 'object' ? StopIteration : null;
module.exports = function getStopIterationIterator(origIterator) {
  if (!$StopIteration) {
    throw new $SyntaxError('this environment lacks StopIteration');
  }
  SLOT.set(origIterator, '[[Done]]', false);
  var siIterator = {
    next: function next() {
      var iterator = SLOT.get(this, '[[Iterator]]');
      var done = SLOT.get(iterator, '[[Done]]');
      try {
        return {
          done: done,
          value: done ? void undefined : iterator.next()
        };
      } catch (e) {
        SLOT.set(iterator, '[[Done]]', true);
        if (e !== $StopIteration) {
          throw e;
        }
        return {
          done: true,
          value: void undefined
        };
      }
    }
  };
  SLOT.set(siIterator, '[[Iterator]]', origIterator);
  return siIterator;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTTE9UIiwicmVxdWlyZSIsIiRTeW50YXhFcnJvciIsIlN5bnRheEVycm9yIiwiJFN0b3BJdGVyYXRpb24iLCJTdG9wSXRlcmF0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFN0b3BJdGVyYXRpb25JdGVyYXRvciIsIm9yaWdJdGVyYXRvciIsInNldCIsInNpSXRlcmF0b3IiLCJuZXh0IiwiaXRlcmF0b3IiLCJnZXQiLCJkb25lIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJlIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU0xPVCA9IHJlcXVpcmUoJ2ludGVybmFsLXNsb3QnKTtcblxudmFyICRTeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xudmFyICRTdG9wSXRlcmF0aW9uID0gdHlwZW9mIFN0b3BJdGVyYXRpb24gPT09ICdvYmplY3QnID8gU3RvcEl0ZXJhdGlvbiA6IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0U3RvcEl0ZXJhdGlvbkl0ZXJhdG9yKG9yaWdJdGVyYXRvcikge1xuXHRpZiAoISRTdG9wSXRlcmF0aW9uKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcigndGhpcyBlbnZpcm9ubWVudCBsYWNrcyBTdG9wSXRlcmF0aW9uJyk7XG5cdH1cblxuXHRTTE9ULnNldChvcmlnSXRlcmF0b3IsICdbW0RvbmVdXScsIGZhbHNlKTtcblxuXHR2YXIgc2lJdGVyYXRvciA9IHtcblx0XHRuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuXHRcdFx0dmFyIGl0ZXJhdG9yID0gU0xPVC5nZXQodGhpcywgJ1tbSXRlcmF0b3JdXScpO1xuXHRcdFx0dmFyIGRvbmUgPSBTTE9ULmdldChpdGVyYXRvciwgJ1tbRG9uZV1dJyk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGRvbmU6IGRvbmUsXG5cdFx0XHRcdFx0dmFsdWU6IGRvbmUgPyB2b2lkIHVuZGVmaW5lZCA6IGl0ZXJhdG9yLm5leHQoKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRTTE9ULnNldChpdGVyYXRvciwgJ1tbRG9uZV1dJywgdHJ1ZSk7XG5cdFx0XHRcdGlmIChlICE9PSAkU3RvcEl0ZXJhdGlvbikge1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRkb25lOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiB2b2lkIHVuZGVmaW5lZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRTTE9ULnNldChzaUl0ZXJhdG9yLCAnW1tJdGVyYXRvcl1dJywgb3JpZ0l0ZXJhdG9yKTtcblxuXHRyZXR1cm4gc2lJdGVyYXRvcjtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsZUFBZSxDQUFDO0FBRW5DLElBQUlDLFlBQVksR0FBR0MsV0FBVztBQUM5QixJQUFJQyxjQUFjLEdBQUcsT0FBT0MsYUFBYSxLQUFLLFFBQVEsR0FBR0EsYUFBYSxHQUFHLElBQUk7QUFFN0VDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLFNBQVNDLHdCQUF3QkEsQ0FBQ0MsWUFBWSxFQUFFO0VBQ2hFLElBQUksQ0FBQ0wsY0FBYyxFQUFFO0lBQ3BCLE1BQU0sSUFBSUYsWUFBWSxDQUFDLHNDQUFzQyxDQUFDO0VBQy9EO0VBRUFGLElBQUksQ0FBQ1UsR0FBRyxDQUFDRCxZQUFZLEVBQUUsVUFBVSxFQUFFLEtBQUssQ0FBQztFQUV6QyxJQUFJRSxVQUFVLEdBQUc7SUFDaEJDLElBQUksRUFBRSxTQUFTQSxJQUFJQSxDQUFBLEVBQUc7TUFDckIsSUFBSUMsUUFBUSxHQUFHYixJQUFJLENBQUNjLEdBQUcsQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDO01BQzdDLElBQUlDLElBQUksR0FBR2YsSUFBSSxDQUFDYyxHQUFHLENBQUNELFFBQVEsRUFBRSxVQUFVLENBQUM7TUFDekMsSUFBSTtRQUNILE9BQU87VUFDTkUsSUFBSSxFQUFFQSxJQUFJO1VBQ1ZDLEtBQUssRUFBRUQsSUFBSSxHQUFHLEtBQUtFLFNBQVMsR0FBR0osUUFBUSxDQUFDRCxJQUFJO1FBQzdDLENBQUM7TUFDRixDQUFDLENBQUMsT0FBT00sQ0FBQyxFQUFFO1FBQ1hsQixJQUFJLENBQUNVLEdBQUcsQ0FBQ0csUUFBUSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUM7UUFDcEMsSUFBSUssQ0FBQyxLQUFLZCxjQUFjLEVBQUU7VUFDekIsTUFBTWMsQ0FBQztRQUNSO1FBQ0EsT0FBTztVQUNOSCxJQUFJLEVBQUUsSUFBSTtVQUNWQyxLQUFLLEVBQUUsS0FBS0M7UUFDYixDQUFDO01BQ0Y7SUFDRDtFQUNELENBQUM7RUFFRGpCLElBQUksQ0FBQ1UsR0FBRyxDQUFDQyxVQUFVLEVBQUUsY0FBYyxFQUFFRixZQUFZLENBQUM7RUFFbEQsT0FBT0UsVUFBVTtBQUNsQixDQUFDIn0=