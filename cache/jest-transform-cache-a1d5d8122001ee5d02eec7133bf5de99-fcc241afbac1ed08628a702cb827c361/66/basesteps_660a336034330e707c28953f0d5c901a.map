{"version":3,"names":["_getJestObj","mock","_jestCucumber","require","_react","_Base","_interopRequireDefault","_react2","_reactRouterDom","_axios","_testUtils","obj","__esModule","default","jest","feature","loadFeature","defineFeature","test","given","when","then","and","axios","get","mockResolvedValueOnce","data","Title","Year","Rated","Released","Runtime","Genre","Director","Writer","Actors","Plot","Language","Poster","Ratings","Source","Value","imdbRating","imdbVotes","imdbID","screen","render","createElement","MemoryRouter","initialEntries","Routes","Route","path","element","expect","toBeDefined","movieTab","getByRole","name","fireEvent","click","movieSearch","getByTestId","querySelector","toBeInTheDocument","act","change","target","value","submitButton","waitFor","getByText"],"sources":["base.steps.tsx"],"sourcesContent":["import { defineFeature, loadFeature } from \"jest-cucumber\";\r\nimport { fireEvent, render, waitFor } from \"@testing-library/react\";\r\nimport Base from \"../../Base\";\r\nimport React from \"react\";\r\nimport \"@testing-library/jest-dom/extend-expect\";\r\nimport \"text-encoding\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  MemoryRouter,\r\n} from \"react-router-dom\";\r\nconst feature = loadFeature(\"src/components/features/base.feature\");\r\nimport axios from \"axios\";\r\nimport { act } from \"react-dom/test-utils\";\r\njest.mock(\"axios\");\r\ndefineFeature(feature, (test) => {\r\n  test(\"Search for a movie\", ({ given, when, then, and }) => {\r\n    (axios.get as jest.Mock).mockResolvedValueOnce({\r\n      data: {\r\n        Title: \"Manmadhudu\",\r\n        Year: \"2002\",\r\n        Rated: \"N/A\",\r\n        Released: \"20 Dec 2002\",\r\n        Runtime: \"142 min\",\r\n        Genre: \"Comedy, Romance\",\r\n        Director: \"Vijay K. Bhaskar\",\r\n        Writer: \"Vijay K. Bhaskar, Trivikram Srinivas\",\r\n        Actors: \"Nagarjuna Akkineni, Sonali Bendre, Anshu\",\r\n        Plot: \"A misogynist is forced by circumstances to work with a woman.\",\r\n        Language: \"Telugu\",\r\n        Poster:\r\n          \"https://m.media-amazon.com/images/M/MV5BOTE1M2IwMzktNjI1Mi00ZTFkLTg4MmMtNTZmMjk4YTdhODlkXkEyXkFqcGdeQXVyNjE2NTgxOTE@._V1_SX300.jpg\",\r\n        Ratings: [{ Source: \"Internet Movie Database\", Value: \"8.3/10\" }],\r\n        imdbRating: \"8.3\",\r\n        imdbVotes: \"4,096\",\r\n        imdbID: \"tt0355742\",\r\n      },\r\n    });\r\n\r\n    const screen = render(\r\n      <MemoryRouter initialEntries={[\"/\"]}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Base />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n    given(\"I am on the search page\", () => {\r\n      expect(screen).toBeDefined();\r\n    });\r\n    when('I select the \"Movie\" tab', () => {\r\n      const movieTab = screen.getByRole(\"tab\", { name: \"Movie\" });\r\n      fireEvent.click(movieTab);\r\n    });\r\n    and('I enter \"Manmadhudu\" in the search input and hit submit', async () => {\r\n      const movieSearch = screen\r\n        .getByTestId(\"search-movies\")\r\n        .querySelector(\"input\")!;\r\n      expect(movieSearch).toBeInTheDocument();\r\n\r\n      await act(async () => {\r\n        fireEvent.change(movieSearch, { target: { value: \"Manmadhudu\" } });\r\n        const submitButton = screen.getByRole(\"button\", { name: \"Submit\" });\r\n        fireEvent.click(submitButton);\r\n        await waitFor(() => screen.getByText(\"Manmadhudu\"));\r\n      });\r\n    });\r\n\r\n    then(\"I should see the search results card\", () => {});\r\n  });\r\n});\r\n"],"mappings":"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"}