ed5af821795b21ba238b1ff31a4ca94a
'use strict';

function _jsdom() {
  const data = require('jsdom');
  _jsdom = function () {
    return data;
  };
  return data;
}
function _fakeTimers() {
  const data = require('@jest/fake-timers');
  _fakeTimers = function () {
    return data;
  };
  return data;
}
function _jestMock() {
  const data = require('jest-mock');
  _jestMock = function () {
    return data;
  };
  return data;
}
function _jestUtil() {
  const data = require('jest-util');
  _jestUtil = function () {
    return data;
  };
  return data;
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
class JSDOMEnvironment {
  constructor(config, options) {
    _defineProperty(this, 'dom', void 0);
    _defineProperty(this, 'fakeTimers', void 0);
    _defineProperty(this, 'fakeTimersModern', void 0);
    _defineProperty(this, 'global', void 0);
    _defineProperty(this, 'errorEventListener', void 0);
    _defineProperty(this, 'moduleMocker', void 0);
    this.dom = new (_jsdom().JSDOM)(typeof config.testEnvironmentOptions.html === 'string' ? config.testEnvironmentOptions.html : '<!DOCTYPE html>', {
      pretendToBeVisual: true,
      resources: typeof config.testEnvironmentOptions.userAgent === 'string' ? new (_jsdom().ResourceLoader)({
        userAgent: config.testEnvironmentOptions.userAgent
      }) : undefined,
      runScripts: 'dangerously',
      url: config.testURL,
      virtualConsole: new (_jsdom().VirtualConsole)().sendTo((options === null || options === void 0 ? void 0 : options.console) || console),
      ...config.testEnvironmentOptions
    });
    const global = this.global = this.dom.window.document.defaultView;
    if (!global) {
      throw new Error('JSDOM did not return a Window object');
    } // for "universal" code (code should use `globalThis`)

    global.global = global; // Node's error-message stack size is limited at 10, but it's pretty useful
    // to see more than that when a test fails.

    this.global.Error.stackTraceLimit = 100;
    (0, _jestUtil().installCommonGlobals)(global, config.globals); // TODO: remove this ASAP, but it currently causes tests to run really slow

    global.Buffer = Buffer; // Report uncaught errors.

    this.errorEventListener = event => {
      if (userErrorListenerCount === 0 && event.error) {
        process.emit('uncaughtException', event.error);
      }
    };
    global.addEventListener('error', this.errorEventListener); // However, don't report them as uncaught if the user listens to 'error' event.
    // In that case, we assume the might have custom error handling logic.

    const originalAddListener = global.addEventListener;
    const originalRemoveListener = global.removeEventListener;
    let userErrorListenerCount = 0;
    global.addEventListener = function (...args) {
      if (args[0] === 'error') {
        userErrorListenerCount++;
      }
      return originalAddListener.apply(this, args);
    };
    global.removeEventListener = function (...args) {
      if (args[0] === 'error') {
        userErrorListenerCount--;
      }
      return originalRemoveListener.apply(this, args);
    };
    this.moduleMocker = new (_jestMock().ModuleMocker)(global);
    const timerConfig = {
      idToRef: id => id,
      refToId: ref => ref
    };
    this.fakeTimers = new (_fakeTimers().LegacyFakeTimers)({
      config,
      global: global,
      moduleMocker: this.moduleMocker,
      timerConfig
    });
    this.fakeTimersModern = new (_fakeTimers().ModernFakeTimers)({
      config,
      global: global
    });
  }
  async setup() {}
  async teardown() {
    if (this.fakeTimers) {
      this.fakeTimers.dispose();
    }
    if (this.fakeTimersModern) {
      this.fakeTimersModern.dispose();
    }
    if (this.global) {
      if (this.errorEventListener) {
        this.global.removeEventListener('error', this.errorEventListener);
      }
      this.global.close(); // Dispose "document" to prevent "load" event from triggering.
      // Note that this.global.close() will trigger the CustomElement::disconnectedCallback
      // Do not reset the document before CustomElement disconnectedCallback function has finished running,
      // document should be accessible within disconnectedCallback.

      Object.defineProperty(this.global, 'document', {
        value: null
      });
    }
    this.errorEventListener = null; // @ts-expect-error

    this.global = null;
    this.dom = null;
    this.fakeTimers = null;
    this.fakeTimersModern = null;
  }
  getVmContext() {
    if (this.dom) {
      return this.dom.getInternalVMContext();
    }
    return null;
  }
}
module.exports = JSDOMEnvironment;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNkb20iLCJkYXRhIiwicmVxdWlyZSIsIl9mYWtlVGltZXJzIiwiX2plc3RNb2NrIiwiX2plc3RVdGlsIiwiX2RlZmluZVByb3BlcnR5Iiwib2JqIiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkpTRE9NRW52aXJvbm1lbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsIm9wdGlvbnMiLCJkb20iLCJKU0RPTSIsInRlc3RFbnZpcm9ubWVudE9wdGlvbnMiLCJodG1sIiwicHJldGVuZFRvQmVWaXN1YWwiLCJyZXNvdXJjZXMiLCJ1c2VyQWdlbnQiLCJSZXNvdXJjZUxvYWRlciIsInVuZGVmaW5lZCIsInJ1blNjcmlwdHMiLCJ1cmwiLCJ0ZXN0VVJMIiwidmlydHVhbENvbnNvbGUiLCJWaXJ0dWFsQ29uc29sZSIsInNlbmRUbyIsImNvbnNvbGUiLCJnbG9iYWwiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiRXJyb3IiLCJzdGFja1RyYWNlTGltaXQiLCJpbnN0YWxsQ29tbW9uR2xvYmFscyIsImdsb2JhbHMiLCJCdWZmZXIiLCJlcnJvckV2ZW50TGlzdGVuZXIiLCJldmVudCIsInVzZXJFcnJvckxpc3RlbmVyQ291bnQiLCJlcnJvciIsInByb2Nlc3MiLCJlbWl0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9yaWdpbmFsQWRkTGlzdGVuZXIiLCJvcmlnaW5hbFJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFyZ3MiLCJhcHBseSIsIm1vZHVsZU1vY2tlciIsIk1vZHVsZU1vY2tlciIsInRpbWVyQ29uZmlnIiwiaWRUb1JlZiIsImlkIiwicmVmVG9JZCIsInJlZiIsImZha2VUaW1lcnMiLCJMZWdhY3lGYWtlVGltZXJzIiwiZmFrZVRpbWVyc01vZGVybiIsIk1vZGVybkZha2VUaW1lcnMiLCJzZXR1cCIsInRlYXJkb3duIiwiZGlzcG9zZSIsImNsb3NlIiwiZ2V0Vm1Db250ZXh0IiwiZ2V0SW50ZXJuYWxWTUNvbnRleHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfanNkb20oKSB7XG4gIGNvbnN0IGRhdGEgPSByZXF1aXJlKCdqc2RvbScpO1xuXG4gIF9qc2RvbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gX2Zha2VUaW1lcnMoKSB7XG4gIGNvbnN0IGRhdGEgPSByZXF1aXJlKCdAamVzdC9mYWtlLXRpbWVycycpO1xuXG4gIF9mYWtlVGltZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBfamVzdE1vY2soKSB7XG4gIGNvbnN0IGRhdGEgPSByZXF1aXJlKCdqZXN0LW1vY2snKTtcblxuICBfamVzdE1vY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIF9qZXN0VXRpbCgpIHtcbiAgY29uc3QgZGF0YSA9IHJlcXVpcmUoJ2plc3QtdXRpbCcpO1xuXG4gIF9qZXN0VXRpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5jbGFzcyBKU0RPTUVudmlyb25tZW50IHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBvcHRpb25zKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICdkb20nLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICdmYWtlVGltZXJzJywgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZmFrZVRpbWVyc01vZGVybicsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ2dsb2JhbCcsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ2Vycm9yRXZlbnRMaXN0ZW5lcicsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ21vZHVsZU1vY2tlcicsIHZvaWQgMCk7XG5cbiAgICB0aGlzLmRvbSA9IG5ldyAoX2pzZG9tKCkuSlNET00pKFxuICAgICAgdHlwZW9mIGNvbmZpZy50ZXN0RW52aXJvbm1lbnRPcHRpb25zLmh0bWwgPT09ICdzdHJpbmcnXG4gICAgICAgID8gY29uZmlnLnRlc3RFbnZpcm9ubWVudE9wdGlvbnMuaHRtbFxuICAgICAgICA6ICc8IURPQ1RZUEUgaHRtbD4nLFxuICAgICAge1xuICAgICAgICBwcmV0ZW5kVG9CZVZpc3VhbDogdHJ1ZSxcbiAgICAgICAgcmVzb3VyY2VzOlxuICAgICAgICAgIHR5cGVvZiBjb25maWcudGVzdEVudmlyb25tZW50T3B0aW9ucy51c2VyQWdlbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IG5ldyAoX2pzZG9tKCkuUmVzb3VyY2VMb2FkZXIpKHtcbiAgICAgICAgICAgICAgICB1c2VyQWdlbnQ6IGNvbmZpZy50ZXN0RW52aXJvbm1lbnRPcHRpb25zLnVzZXJBZ2VudFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIHJ1blNjcmlwdHM6ICdkYW5nZXJvdXNseScsXG4gICAgICAgIHVybDogY29uZmlnLnRlc3RVUkwsXG4gICAgICAgIHZpcnR1YWxDb25zb2xlOiBuZXcgKF9qc2RvbSgpLlZpcnR1YWxDb25zb2xlKSgpLnNlbmRUbyhcbiAgICAgICAgICAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNvbnNvbGUpIHx8XG4gICAgICAgICAgICBjb25zb2xlXG4gICAgICAgICksXG4gICAgICAgIC4uLmNvbmZpZy50ZXN0RW52aXJvbm1lbnRPcHRpb25zXG4gICAgICB9XG4gICAgKTtcbiAgICBjb25zdCBnbG9iYWwgPSAodGhpcy5nbG9iYWwgPSB0aGlzLmRvbS53aW5kb3cuZG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuXG4gICAgaWYgKCFnbG9iYWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSlNET00gZGlkIG5vdCByZXR1cm4gYSBXaW5kb3cgb2JqZWN0Jyk7XG4gICAgfSAvLyBmb3IgXCJ1bml2ZXJzYWxcIiBjb2RlIChjb2RlIHNob3VsZCB1c2UgYGdsb2JhbFRoaXNgKVxuXG4gICAgZ2xvYmFsLmdsb2JhbCA9IGdsb2JhbDsgLy8gTm9kZSdzIGVycm9yLW1lc3NhZ2Ugc3RhY2sgc2l6ZSBpcyBsaW1pdGVkIGF0IDEwLCBidXQgaXQncyBwcmV0dHkgdXNlZnVsXG4gICAgLy8gdG8gc2VlIG1vcmUgdGhhbiB0aGF0IHdoZW4gYSB0ZXN0IGZhaWxzLlxuXG4gICAgdGhpcy5nbG9iYWwuRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gMTAwO1xuICAgICgwLCBfamVzdFV0aWwoKS5pbnN0YWxsQ29tbW9uR2xvYmFscykoZ2xvYmFsLCBjb25maWcuZ2xvYmFscyk7IC8vIFRPRE86IHJlbW92ZSB0aGlzIEFTQVAsIGJ1dCBpdCBjdXJyZW50bHkgY2F1c2VzIHRlc3RzIHRvIHJ1biByZWFsbHkgc2xvd1xuXG4gICAgZ2xvYmFsLkJ1ZmZlciA9IEJ1ZmZlcjsgLy8gUmVwb3J0IHVuY2F1Z2h0IGVycm9ycy5cblxuICAgIHRoaXMuZXJyb3JFdmVudExpc3RlbmVyID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKHVzZXJFcnJvckxpc3RlbmVyQ291bnQgPT09IDAgJiYgZXZlbnQuZXJyb3IpIHtcbiAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmNhdWdodEV4Y2VwdGlvbicsIGV2ZW50LmVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5lcnJvckV2ZW50TGlzdGVuZXIpOyAvLyBIb3dldmVyLCBkb24ndCByZXBvcnQgdGhlbSBhcyB1bmNhdWdodCBpZiB0aGUgdXNlciBsaXN0ZW5zIHRvICdlcnJvcicgZXZlbnQuXG4gICAgLy8gSW4gdGhhdCBjYXNlLCB3ZSBhc3N1bWUgdGhlIG1pZ2h0IGhhdmUgY3VzdG9tIGVycm9yIGhhbmRsaW5nIGxvZ2ljLlxuXG4gICAgY29uc3Qgb3JpZ2luYWxBZGRMaXN0ZW5lciA9IGdsb2JhbC5hZGRFdmVudExpc3RlbmVyO1xuICAgIGNvbnN0IG9yaWdpbmFsUmVtb3ZlTGlzdGVuZXIgPSBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgICBsZXQgdXNlckVycm9yTGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICBpZiAoYXJnc1swXSA9PT0gJ2Vycm9yJykge1xuICAgICAgICB1c2VyRXJyb3JMaXN0ZW5lckNvdW50Kys7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmlnaW5hbEFkZExpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICBpZiAoYXJnc1swXSA9PT0gJ2Vycm9yJykge1xuICAgICAgICB1c2VyRXJyb3JMaXN0ZW5lckNvdW50LS07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmlnaW5hbFJlbW92ZUxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICB0aGlzLm1vZHVsZU1vY2tlciA9IG5ldyAoX2plc3RNb2NrKCkuTW9kdWxlTW9ja2VyKShnbG9iYWwpO1xuICAgIGNvbnN0IHRpbWVyQ29uZmlnID0ge1xuICAgICAgaWRUb1JlZjogaWQgPT4gaWQsXG4gICAgICByZWZUb0lkOiByZWYgPT4gcmVmXG4gICAgfTtcbiAgICB0aGlzLmZha2VUaW1lcnMgPSBuZXcgKF9mYWtlVGltZXJzKCkuTGVnYWN5RmFrZVRpbWVycykoe1xuICAgICAgY29uZmlnLFxuICAgICAgZ2xvYmFsOiBnbG9iYWwsXG4gICAgICBtb2R1bGVNb2NrZXI6IHRoaXMubW9kdWxlTW9ja2VyLFxuICAgICAgdGltZXJDb25maWdcbiAgICB9KTtcbiAgICB0aGlzLmZha2VUaW1lcnNNb2Rlcm4gPSBuZXcgKF9mYWtlVGltZXJzKCkuTW9kZXJuRmFrZVRpbWVycykoe1xuICAgICAgY29uZmlnLFxuICAgICAgZ2xvYmFsOiBnbG9iYWxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNldHVwKCkge31cblxuICBhc3luYyB0ZWFyZG93bigpIHtcbiAgICBpZiAodGhpcy5mYWtlVGltZXJzKSB7XG4gICAgICB0aGlzLmZha2VUaW1lcnMuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZha2VUaW1lcnNNb2Rlcm4pIHtcbiAgICAgIHRoaXMuZmFrZVRpbWVyc01vZGVybi5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2xvYmFsKSB7XG4gICAgICBpZiAodGhpcy5lcnJvckV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5nbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmVycm9yRXZlbnRMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ2xvYmFsLmNsb3NlKCk7IC8vIERpc3Bvc2UgXCJkb2N1bWVudFwiIHRvIHByZXZlbnQgXCJsb2FkXCIgZXZlbnQgZnJvbSB0cmlnZ2VyaW5nLlxuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMuZ2xvYmFsLmNsb3NlKCkgd2lsbCB0cmlnZ2VyIHRoZSBDdXN0b21FbGVtZW50OjpkaXNjb25uZWN0ZWRDYWxsYmFja1xuICAgICAgLy8gRG8gbm90IHJlc2V0IHRoZSBkb2N1bWVudCBiZWZvcmUgQ3VzdG9tRWxlbWVudCBkaXNjb25uZWN0ZWRDYWxsYmFjayBmdW5jdGlvbiBoYXMgZmluaXNoZWQgcnVubmluZyxcbiAgICAgIC8vIGRvY3VtZW50IHNob3VsZCBiZSBhY2Nlc3NpYmxlIHdpdGhpbiBkaXNjb25uZWN0ZWRDYWxsYmFjay5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZ2xvYmFsLCAnZG9jdW1lbnQnLCB7XG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmVycm9yRXZlbnRMaXN0ZW5lciA9IG51bGw7IC8vIEB0cy1leHBlY3QtZXJyb3JcblxuICAgIHRoaXMuZ2xvYmFsID0gbnVsbDtcbiAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgdGhpcy5mYWtlVGltZXJzID0gbnVsbDtcbiAgICB0aGlzLmZha2VUaW1lcnNNb2Rlcm4gPSBudWxsO1xuICB9XG5cbiAgZ2V0Vm1Db250ZXh0KCkge1xuICAgIGlmICh0aGlzLmRvbSkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9tLmdldEludGVybmFsVk1Db250ZXh0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBKU0RPTUVudmlyb25tZW50O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLFNBQVNBLE1BQU1BLENBQUEsRUFBRztFQUNoQixNQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7RUFFN0JGLE1BQU0sR0FBRyxTQUFBQSxDQUFBLEVBQVk7SUFDbkIsT0FBT0MsSUFBSTtFQUNiLENBQUM7RUFFRCxPQUFPQSxJQUFJO0FBQ2I7QUFFQSxTQUFTRSxXQUFXQSxDQUFBLEVBQUc7RUFDckIsTUFBTUYsSUFBSSxHQUFHQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7RUFFekNDLFdBQVcsR0FBRyxTQUFBQSxDQUFBLEVBQVk7SUFDeEIsT0FBT0YsSUFBSTtFQUNiLENBQUM7RUFFRCxPQUFPQSxJQUFJO0FBQ2I7QUFFQSxTQUFTRyxTQUFTQSxDQUFBLEVBQUc7RUFDbkIsTUFBTUgsSUFBSSxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0VBRWpDRSxTQUFTLEdBQUcsU0FBQUEsQ0FBQSxFQUFZO0lBQ3RCLE9BQU9ILElBQUk7RUFDYixDQUFDO0VBRUQsT0FBT0EsSUFBSTtBQUNiO0FBRUEsU0FBU0ksU0FBU0EsQ0FBQSxFQUFHO0VBQ25CLE1BQU1KLElBQUksR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztFQUVqQ0csU0FBUyxHQUFHLFNBQUFBLENBQUEsRUFBWTtJQUN0QixPQUFPSixJQUFJO0VBQ2IsQ0FBQztFQUVELE9BQU9BLElBQUk7QUFDYjtBQUVBLFNBQVNLLGVBQWVBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUU7RUFDeEMsSUFBSUQsR0FBRyxJQUFJRCxHQUFHLEVBQUU7SUFDZEcsTUFBTSxDQUFDQyxjQUFjLENBQUNKLEdBQUcsRUFBRUMsR0FBRyxFQUFFO01BQzlCQyxLQUFLLEVBQUVBLEtBQUs7TUFDWkcsVUFBVSxFQUFFLElBQUk7TUFDaEJDLFlBQVksRUFBRSxJQUFJO01BQ2xCQyxRQUFRLEVBQUU7SUFDWixDQUFDLENBQUM7RUFDSixDQUFDLE1BQU07SUFDTFAsR0FBRyxDQUFDQyxHQUFHLENBQUMsR0FBR0MsS0FBSztFQUNsQjtFQUNBLE9BQU9GLEdBQUc7QUFDWjtBQUVBLE1BQU1RLGdCQUFnQixDQUFDO0VBQ3JCQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTtJQUMzQlosZUFBZSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFcENBLGVBQWUsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRTNDQSxlQUFlLENBQUMsSUFBSSxFQUFFLGtCQUFrQixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRWpEQSxlQUFlLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUV2Q0EsZUFBZSxDQUFDLElBQUksRUFBRSxvQkFBb0IsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUVuREEsZUFBZSxDQUFDLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFN0MsSUFBSSxDQUFDYSxHQUFHLEdBQUcsS0FBS25CLE1BQU0sRUFBRSxDQUFDb0IsS0FBSyxFQUM1QixPQUFPSCxNQUFNLENBQUNJLHNCQUFzQixDQUFDQyxJQUFJLEtBQUssUUFBUSxHQUNsREwsTUFBTSxDQUFDSSxzQkFBc0IsQ0FBQ0MsSUFBSSxHQUNsQyxpQkFBaUIsRUFDckI7TUFDRUMsaUJBQWlCLEVBQUUsSUFBSTtNQUN2QkMsU0FBUyxFQUNQLE9BQU9QLE1BQU0sQ0FBQ0ksc0JBQXNCLENBQUNJLFNBQVMsS0FBSyxRQUFRLEdBQ3ZELEtBQUt6QixNQUFNLEVBQUUsQ0FBQzBCLGNBQWMsRUFBRTtRQUM1QkQsU0FBUyxFQUFFUixNQUFNLENBQUNJLHNCQUFzQixDQUFDSTtNQUMzQyxDQUFDLENBQUMsR0FDRkUsU0FBUztNQUNmQyxVQUFVLEVBQUUsYUFBYTtNQUN6QkMsR0FBRyxFQUFFWixNQUFNLENBQUNhLE9BQU87TUFDbkJDLGNBQWMsRUFBRSxLQUFLL0IsTUFBTSxFQUFFLENBQUNnQyxjQUFjLEdBQUcsQ0FBQ0MsTUFBTSxDQUNwRCxDQUFDZixPQUFPLEtBQUssSUFBSSxJQUFJQSxPQUFPLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLE9BQU8sQ0FBQ2dCLE9BQU8sS0FDaEVBLE9BQU8sQ0FDVjtNQUNELEdBQUdqQixNQUFNLENBQUNJO0lBQ1osQ0FBQyxDQUNGO0lBQ0QsTUFBTWMsTUFBTSxHQUFJLElBQUksQ0FBQ0EsTUFBTSxHQUFHLElBQUksQ0FBQ2hCLEdBQUcsQ0FBQ2lCLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxXQUFZO0lBRW5FLElBQUksQ0FBQ0gsTUFBTSxFQUFFO01BQ1gsTUFBTSxJQUFJSSxLQUFLLENBQUMsc0NBQXNDLENBQUM7SUFDekQsQ0FBQyxDQUFDOztJQUVGSixNQUFNLENBQUNBLE1BQU0sR0FBR0EsTUFBTSxDQUFDLENBQUM7SUFDeEI7O0lBRUEsSUFBSSxDQUFDQSxNQUFNLENBQUNJLEtBQUssQ0FBQ0MsZUFBZSxHQUFHLEdBQUc7SUFDdkMsQ0FBQyxDQUFDLEVBQUVuQyxTQUFTLEVBQUUsQ0FBQ29DLG9CQUFvQixFQUFFTixNQUFNLEVBQUVsQixNQUFNLENBQUN5QixPQUFPLENBQUMsQ0FBQyxDQUFDOztJQUUvRFAsTUFBTSxDQUFDUSxNQUFNLEdBQUdBLE1BQU0sQ0FBQyxDQUFDOztJQUV4QixJQUFJLENBQUNDLGtCQUFrQixHQUFHQyxLQUFLLElBQUk7TUFDakMsSUFBSUMsc0JBQXNCLEtBQUssQ0FBQyxJQUFJRCxLQUFLLENBQUNFLEtBQUssRUFBRTtRQUMvQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsbUJBQW1CLEVBQUVKLEtBQUssQ0FBQ0UsS0FBSyxDQUFDO01BQ2hEO0lBQ0YsQ0FBQztJQUVEWixNQUFNLENBQUNlLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNOLGtCQUFrQixDQUFDLENBQUMsQ0FBQztJQUMzRDs7SUFFQSxNQUFNTyxtQkFBbUIsR0FBR2hCLE1BQU0sQ0FBQ2UsZ0JBQWdCO0lBQ25ELE1BQU1FLHNCQUFzQixHQUFHakIsTUFBTSxDQUFDa0IsbUJBQW1CO0lBQ3pELElBQUlQLHNCQUFzQixHQUFHLENBQUM7SUFFOUJYLE1BQU0sQ0FBQ2UsZ0JBQWdCLEdBQUcsVUFBVSxHQUFHSSxJQUFJLEVBQUU7TUFDM0MsSUFBSUEsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLE9BQU8sRUFBRTtRQUN2QlIsc0JBQXNCLEVBQUU7TUFDMUI7TUFFQSxPQUFPSyxtQkFBbUIsQ0FBQ0ksS0FBSyxDQUFDLElBQUksRUFBRUQsSUFBSSxDQUFDO0lBQzlDLENBQUM7SUFFRG5CLE1BQU0sQ0FBQ2tCLG1CQUFtQixHQUFHLFVBQVUsR0FBR0MsSUFBSSxFQUFFO01BQzlDLElBQUlBLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxPQUFPLEVBQUU7UUFDdkJSLHNCQUFzQixFQUFFO01BQzFCO01BRUEsT0FBT00sc0JBQXNCLENBQUNHLEtBQUssQ0FBQyxJQUFJLEVBQUVELElBQUksQ0FBQztJQUNqRCxDQUFDO0lBRUQsSUFBSSxDQUFDRSxZQUFZLEdBQUcsS0FBS3BELFNBQVMsRUFBRSxDQUFDcUQsWUFBWSxFQUFFdEIsTUFBTSxDQUFDO0lBQzFELE1BQU11QixXQUFXLEdBQUc7TUFDbEJDLE9BQU8sRUFBRUMsRUFBRSxJQUFJQSxFQUFFO01BQ2pCQyxPQUFPLEVBQUVDLEdBQUcsSUFBSUE7SUFDbEIsQ0FBQztJQUNELElBQUksQ0FBQ0MsVUFBVSxHQUFHLEtBQUs1RCxXQUFXLEVBQUUsQ0FBQzZELGdCQUFnQixFQUFFO01BQ3JEL0MsTUFBTTtNQUNOa0IsTUFBTSxFQUFFQSxNQUFNO01BQ2RxQixZQUFZLEVBQUUsSUFBSSxDQUFDQSxZQUFZO01BQy9CRTtJQUNGLENBQUMsQ0FBQztJQUNGLElBQUksQ0FBQ08sZ0JBQWdCLEdBQUcsS0FBSzlELFdBQVcsRUFBRSxDQUFDK0QsZ0JBQWdCLEVBQUU7TUFDM0RqRCxNQUFNO01BQ05rQixNQUFNLEVBQUVBO0lBQ1YsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxNQUFNZ0MsS0FBS0EsQ0FBQSxFQUFHLENBQUM7RUFFZixNQUFNQyxRQUFRQSxDQUFBLEVBQUc7SUFDZixJQUFJLElBQUksQ0FBQ0wsVUFBVSxFQUFFO01BQ25CLElBQUksQ0FBQ0EsVUFBVSxDQUFDTSxPQUFPLEVBQUU7SUFDM0I7SUFFQSxJQUFJLElBQUksQ0FBQ0osZ0JBQWdCLEVBQUU7TUFDekIsSUFBSSxDQUFDQSxnQkFBZ0IsQ0FBQ0ksT0FBTyxFQUFFO0lBQ2pDO0lBRUEsSUFBSSxJQUFJLENBQUNsQyxNQUFNLEVBQUU7TUFDZixJQUFJLElBQUksQ0FBQ1Msa0JBQWtCLEVBQUU7UUFDM0IsSUFBSSxDQUFDVCxNQUFNLENBQUNrQixtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDVCxrQkFBa0IsQ0FBQztNQUNuRTtNQUVBLElBQUksQ0FBQ1QsTUFBTSxDQUFDbUMsS0FBSyxFQUFFLENBQUMsQ0FBQztNQUNyQjtNQUNBO01BQ0E7O01BRUE1RCxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLENBQUN3QixNQUFNLEVBQUUsVUFBVSxFQUFFO1FBQzdDMUIsS0FBSyxFQUFFO01BQ1QsQ0FBQyxDQUFDO0lBQ0o7SUFFQSxJQUFJLENBQUNtQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsQ0FBQzs7SUFFaEMsSUFBSSxDQUFDVCxNQUFNLEdBQUcsSUFBSTtJQUNsQixJQUFJLENBQUNoQixHQUFHLEdBQUcsSUFBSTtJQUNmLElBQUksQ0FBQzRDLFVBQVUsR0FBRyxJQUFJO0lBQ3RCLElBQUksQ0FBQ0UsZ0JBQWdCLEdBQUcsSUFBSTtFQUM5QjtFQUVBTSxZQUFZQSxDQUFBLEVBQUc7SUFDYixJQUFJLElBQUksQ0FBQ3BELEdBQUcsRUFBRTtNQUNaLE9BQU8sSUFBSSxDQUFDQSxHQUFHLENBQUNxRCxvQkFBb0IsRUFBRTtJQUN4QztJQUVBLE9BQU8sSUFBSTtFQUNiO0FBQ0Y7QUFFQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUczRCxnQkFBZ0IifQ==