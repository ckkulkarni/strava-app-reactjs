033a699d674c342c143c2d9a45de6c9d
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _utils = _interopRequireDefault(require("../utils.js"));
var _parseHeaders = _interopRequireDefault(require("../helpers/parseHeaders.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const $internals = Symbol('internals');
function normalizeHeader(header) {
  return header && String(header).trim().toLowerCase();
}
function normalizeValue(value) {
  if (value === false || value == null) {
    return value;
  }
  return _utils.default.isArray(value) ? value.map(normalizeValue) : String(value);
}
function parseTokens(str) {
  const tokens = Object.create(null);
  const tokensRE = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let match;
  while (match = tokensRE.exec(str)) {
    tokens[match[1]] = match[2];
  }
  return tokens;
}
const isValidHeaderName = str => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());
function matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {
  if (_utils.default.isFunction(filter)) {
    return filter.call(this, value, header);
  }
  if (isHeaderNameFilter) {
    value = header;
  }
  if (!_utils.default.isString(value)) return;
  if (_utils.default.isString(filter)) {
    return value.indexOf(filter) !== -1;
  }
  if (_utils.default.isRegExp(filter)) {
    return filter.test(value);
  }
}
function formatHeader(header) {
  return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (w, char, str) => {
    return char.toUpperCase() + str;
  });
}
function buildAccessors(obj, header) {
  const accessorName = _utils.default.toCamelCase(' ' + header);
  ['get', 'set', 'has'].forEach(methodName => {
    Object.defineProperty(obj, methodName + accessorName, {
      value: function (arg1, arg2, arg3) {
        return this[methodName].call(this, header, arg1, arg2, arg3);
      },
      configurable: true
    });
  });
}
class AxiosHeaders {
  constructor(headers) {
    headers && this.set(headers);
  }
  set(header, valueOrRewrite, rewrite) {
    const self = this;
    function setHeader(_value, _header, _rewrite) {
      const lHeader = normalizeHeader(_header);
      if (!lHeader) {
        throw new Error('header name must be a non-empty string');
      }
      const key = _utils.default.findKey(self, lHeader);
      if (!key || self[key] === undefined || _rewrite === true || _rewrite === undefined && self[key] !== false) {
        self[key || _header] = normalizeValue(_value);
      }
    }
    const setHeaders = (headers, _rewrite) => _utils.default.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));
    if (_utils.default.isPlainObject(header) || header instanceof this.constructor) {
      setHeaders(header, valueOrRewrite);
    } else if (_utils.default.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {
      setHeaders((0, _parseHeaders.default)(header), valueOrRewrite);
    } else {
      header != null && setHeader(valueOrRewrite, header, rewrite);
    }
    return this;
  }
  get(header, parser) {
    header = normalizeHeader(header);
    if (header) {
      const key = _utils.default.findKey(this, header);
      if (key) {
        const value = this[key];
        if (!parser) {
          return value;
        }
        if (parser === true) {
          return parseTokens(value);
        }
        if (_utils.default.isFunction(parser)) {
          return parser.call(this, value, key);
        }
        if (_utils.default.isRegExp(parser)) {
          return parser.exec(value);
        }
        throw new TypeError('parser must be boolean|regexp|function');
      }
    }
  }
  has(header, matcher) {
    header = normalizeHeader(header);
    if (header) {
      const key = _utils.default.findKey(this, header);
      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));
    }
    return false;
  }
  delete(header, matcher) {
    const self = this;
    let deleted = false;
    function deleteHeader(_header) {
      _header = normalizeHeader(_header);
      if (_header) {
        const key = _utils.default.findKey(self, _header);
        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {
          delete self[key];
          deleted = true;
        }
      }
    }
    if (_utils.default.isArray(header)) {
      header.forEach(deleteHeader);
    } else {
      deleteHeader(header);
    }
    return deleted;
  }
  clear(matcher) {
    const keys = Object.keys(this);
    let i = keys.length;
    let deleted = false;
    while (i--) {
      const key = keys[i];
      if (!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {
        delete this[key];
        deleted = true;
      }
    }
    return deleted;
  }
  normalize(format) {
    const self = this;
    const headers = {};
    _utils.default.forEach(this, (value, header) => {
      const key = _utils.default.findKey(headers, header);
      if (key) {
        self[key] = normalizeValue(value);
        delete self[header];
        return;
      }
      const normalized = format ? formatHeader(header) : String(header).trim();
      if (normalized !== header) {
        delete self[header];
      }
      self[normalized] = normalizeValue(value);
      headers[normalized] = true;
    });
    return this;
  }
  concat(...targets) {
    return this.constructor.concat(this, ...targets);
  }
  toJSON(asStrings) {
    const obj = Object.create(null);
    _utils.default.forEach(this, (value, header) => {
      value != null && value !== false && (obj[header] = asStrings && _utils.default.isArray(value) ? value.join(', ') : value);
    });
    return obj;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\n');
  }
  get [Symbol.toStringTag]() {
    return 'AxiosHeaders';
  }
  static from(thing) {
    return thing instanceof this ? thing : new this(thing);
  }
  static concat(first, ...targets) {
    const computed = new this(first);
    targets.forEach(target => computed.set(target));
    return computed;
  }
  static accessor(header) {
    const internals = this[$internals] = this[$internals] = {
      accessors: {}
    };
    const accessors = internals.accessors;
    const prototype = this.prototype;
    function defineAccessor(_header) {
      const lHeader = normalizeHeader(_header);
      if (!accessors[lHeader]) {
        buildAccessors(prototype, _header);
        accessors[lHeader] = true;
      }
    }
    _utils.default.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);
    return this;
  }
}
AxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);
_utils.default.freezeMethods(AxiosHeaders.prototype);
_utils.default.freezeMethods(AxiosHeaders);
var _default = AxiosHeaders;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJfdXRpbHMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXJzZUhlYWRlcnMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiJGludGVybmFscyIsIlN5bWJvbCIsIm5vcm1hbGl6ZUhlYWRlciIsImhlYWRlciIsIlN0cmluZyIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZVZhbHVlIiwidXRpbHMiLCJpc0FycmF5IiwibWFwIiwicGFyc2VUb2tlbnMiLCJzdHIiLCJ0b2tlbnMiLCJjcmVhdGUiLCJ0b2tlbnNSRSIsIm1hdGNoIiwiZXhlYyIsImlzVmFsaWRIZWFkZXJOYW1lIiwidGVzdCIsIm1hdGNoSGVhZGVyVmFsdWUiLCJjb250ZXh0IiwiZmlsdGVyIiwiaXNIZWFkZXJOYW1lRmlsdGVyIiwiaXNGdW5jdGlvbiIsImNhbGwiLCJpc1N0cmluZyIsImluZGV4T2YiLCJpc1JlZ0V4cCIsImZvcm1hdEhlYWRlciIsInJlcGxhY2UiLCJ3IiwiY2hhciIsInRvVXBwZXJDYXNlIiwiYnVpbGRBY2Nlc3NvcnMiLCJhY2Nlc3Nvck5hbWUiLCJ0b0NhbWVsQ2FzZSIsImZvckVhY2giLCJtZXRob2ROYW1lIiwiYXJnMSIsImFyZzIiLCJhcmczIiwiY29uZmlndXJhYmxlIiwiQXhpb3NIZWFkZXJzIiwiY29uc3RydWN0b3IiLCJoZWFkZXJzIiwic2V0IiwidmFsdWVPclJld3JpdGUiLCJyZXdyaXRlIiwic2VsZiIsInNldEhlYWRlciIsIl92YWx1ZSIsIl9oZWFkZXIiLCJfcmV3cml0ZSIsImxIZWFkZXIiLCJFcnJvciIsImtleSIsImZpbmRLZXkiLCJ1bmRlZmluZWQiLCJzZXRIZWFkZXJzIiwiaXNQbGFpbk9iamVjdCIsInBhcnNlSGVhZGVycyIsImdldCIsInBhcnNlciIsIlR5cGVFcnJvciIsImhhcyIsIm1hdGNoZXIiLCJkZWxldGUiLCJkZWxldGVkIiwiZGVsZXRlSGVhZGVyIiwiY2xlYXIiLCJrZXlzIiwiaSIsImxlbmd0aCIsIm5vcm1hbGl6ZSIsImZvcm1hdCIsIm5vcm1hbGl6ZWQiLCJjb25jYXQiLCJ0YXJnZXRzIiwidG9KU09OIiwiYXNTdHJpbmdzIiwiam9pbiIsIml0ZXJhdG9yIiwiZW50cmllcyIsInRvU3RyaW5nIiwidG9TdHJpbmdUYWciLCJmcm9tIiwidGhpbmciLCJmaXJzdCIsImNvbXB1dGVkIiwidGFyZ2V0IiwiYWNjZXNzb3IiLCJpbnRlcm5hbHMiLCJhY2Nlc3NvcnMiLCJwcm90b3R5cGUiLCJkZWZpbmVBY2Nlc3NvciIsImZyZWV6ZU1ldGhvZHMiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIkF4aW9zSGVhZGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgcGFyc2VIZWFkZXJzIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzJztcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmNvbnN0IGlzVmFsaWRIZWFkZXJOYW1lID0gKHN0cikgPT4gL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChzdHIudHJpbSgpKTtcblxuZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShjb250ZXh0LCB2YWx1ZSwgaGVhZGVyLCBmaWx0ZXIsIGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICBpZiAodXRpbHMuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICAgIHZhbHVlID0gaGVhZGVyO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSlcbiAgICB9IGVsc2UgaWYodXRpbHMuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIobWF0Y2hlcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlciwgdHJ1ZSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbnV0aWxzLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSk7XG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQ0EsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQTtBQUViLElBQUFDLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzRCxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFMLE9BQUEsRUFBQUssR0FBQTtBQUV0RCxNQUFNRSxVQUFVLEdBQUdDLE1BQU0sQ0FBQyxXQUFXLENBQUM7QUFFdEMsU0FBU0MsZUFBZUEsQ0FBQ0MsTUFBTSxFQUFFO0VBQy9CLE9BQU9BLE1BQU0sSUFBSUMsTUFBTSxDQUFDRCxNQUFNLENBQUMsQ0FBQ0UsSUFBSSxFQUFFLENBQUNDLFdBQVcsRUFBRTtBQUN0RDtBQUVBLFNBQVNDLGNBQWNBLENBQUNmLEtBQUssRUFBRTtFQUM3QixJQUFJQSxLQUFLLEtBQUssS0FBSyxJQUFJQSxLQUFLLElBQUksSUFBSSxFQUFFO0lBQ3BDLE9BQU9BLEtBQUs7RUFDZDtFQUVBLE9BQU9nQixjQUFLLENBQUNDLE9BQU8sQ0FBQ2pCLEtBQUssQ0FBQyxHQUFHQSxLQUFLLENBQUNrQixHQUFHLENBQUNILGNBQWMsQ0FBQyxHQUFHSCxNQUFNLENBQUNaLEtBQUssQ0FBQztBQUN6RTtBQUVBLFNBQVNtQixXQUFXQSxDQUFDQyxHQUFHLEVBQUU7RUFDeEIsTUFBTUMsTUFBTSxHQUFHeEIsTUFBTSxDQUFDeUIsTUFBTSxDQUFDLElBQUksQ0FBQztFQUNsQyxNQUFNQyxRQUFRLEdBQUcsa0NBQWtDO0VBQ25ELElBQUlDLEtBQUs7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