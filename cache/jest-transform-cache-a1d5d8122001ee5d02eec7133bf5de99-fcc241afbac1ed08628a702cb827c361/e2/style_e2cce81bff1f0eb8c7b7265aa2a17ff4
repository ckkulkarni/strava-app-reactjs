02541c339074df0cd44b8d44d5459dff
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
exports.getPath = getPath;
exports.getStyleValue = getStyleValue;
var _utils = require("@mui/utils");
var _responsivePropType = _interopRequireDefault(require("./responsivePropType"));
var _breakpoints = require("./breakpoints");
function getPath(obj, path, checkVars = true) {
  if (!path || typeof path !== 'string') {
    return null;
  }

  // Check if CSS variables are used
  if (obj && obj.vars && checkVars) {
    const val = `vars.${path}`.split('.').reduce((acc, item) => acc && acc[item] ? acc[item] : null, obj);
    if (val != null) {
      return val;
    }
  }
  return path.split('.').reduce((acc, item) => {
    if (acc && acc[item] != null) {
      return acc[item];
    }
    return null;
  }, obj);
}
function getStyleValue(themeMapping, transform, propValueFinal, userValue = propValueFinal) {
  let value;
  if (typeof themeMapping === 'function') {
    value = themeMapping(propValueFinal);
  } else if (Array.isArray(themeMapping)) {
    value = themeMapping[propValueFinal] || userValue;
  } else {
    value = getPath(themeMapping, propValueFinal) || userValue;
  }
  if (transform) {
    value = transform(value, userValue, themeMapping);
  }
  return value;
}
function style(options) {
  const {
    prop,
    cssProperty = options.prop,
    themeKey,
    transform
  } = options;

  // false positive
  // eslint-disable-next-line react/function-component-definition
  const fn = props => {
    if (props[prop] == null) {
      return null;
    }
    const propValue = props[prop];
    const theme = props.theme;
    const themeMapping = getPath(theme, themeKey) || {};
    const styleFromPropValue = propValueFinal => {
      let value = getStyleValue(themeMapping, transform, propValueFinal);
      if (propValueFinal === value && typeof propValueFinal === 'string') {
        // Haven't found value
        value = getStyleValue(themeMapping, transform, `${prop}${propValueFinal === 'default' ? '' : (0, _utils.unstable_capitalize)(propValueFinal)}`, propValueFinal);
      }
      if (cssProperty === false) {
        return value;
      }
      return {
        [cssProperty]: value
      };
    };
    return (0, _breakpoints.handleBreakpoints)(props, propValue, styleFromPropValue);
  };
  fn.propTypes = process.env.NODE_ENV !== 'production' ? {
    [prop]: _responsivePropType.default
  } : {};
  fn.filterProps = [prop];
  return fn;
}
var _default = style;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImdldFBhdGgiLCJnZXRTdHlsZVZhbHVlIiwiX3V0aWxzIiwiX3Jlc3BvbnNpdmVQcm9wVHlwZSIsIl9icmVha3BvaW50cyIsIm9iaiIsInBhdGgiLCJjaGVja1ZhcnMiLCJ2YXJzIiwidmFsIiwic3BsaXQiLCJyZWR1Y2UiLCJhY2MiLCJpdGVtIiwidGhlbWVNYXBwaW5nIiwidHJhbnNmb3JtIiwicHJvcFZhbHVlRmluYWwiLCJ1c2VyVmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJzdHlsZSIsIm9wdGlvbnMiLCJwcm9wIiwiY3NzUHJvcGVydHkiLCJ0aGVtZUtleSIsImZuIiwicHJvcHMiLCJwcm9wVmFsdWUiLCJ0aGVtZSIsInN0eWxlRnJvbVByb3BWYWx1ZSIsInVuc3RhYmxlX2NhcGl0YWxpemUiLCJoYW5kbGVCcmVha3BvaW50cyIsInByb3BUeXBlcyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImZpbHRlclByb3BzIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJzdHlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuZXhwb3J0cy5nZXRQYXRoID0gZ2V0UGF0aDtcbmV4cG9ydHMuZ2V0U3R5bGVWYWx1ZSA9IGdldFN0eWxlVmFsdWU7XG52YXIgX3V0aWxzID0gcmVxdWlyZShcIkBtdWkvdXRpbHNcIik7XG52YXIgX3Jlc3BvbnNpdmVQcm9wVHlwZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcmVzcG9uc2l2ZVByb3BUeXBlXCIpKTtcbnZhciBfYnJlYWtwb2ludHMgPSByZXF1aXJlKFwiLi9icmVha3BvaW50c1wiKTtcbmZ1bmN0aW9uIGdldFBhdGgob2JqLCBwYXRoLCBjaGVja1ZhcnMgPSB0cnVlKSB7XG4gIGlmICghcGF0aCB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIENTUyB2YXJpYWJsZXMgYXJlIHVzZWRcbiAgaWYgKG9iaiAmJiBvYmoudmFycyAmJiBjaGVja1ZhcnMpIHtcbiAgICBjb25zdCB2YWwgPSBgdmFycy4ke3BhdGh9YC5zcGxpdCgnLicpLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgJiYgYWNjW2l0ZW1dID8gYWNjW2l0ZW1dIDogbnVsbCwgb2JqKTtcbiAgICBpZiAodmFsICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoLnNwbGl0KCcuJykucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICBpZiAoYWNjICYmIGFjY1tpdGVtXSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gYWNjW2l0ZW1dO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgb2JqKTtcbn1cbmZ1bmN0aW9uIGdldFN0eWxlVmFsdWUodGhlbWVNYXBwaW5nLCB0cmFuc2Zvcm0sIHByb3BWYWx1ZUZpbmFsLCB1c2VyVmFsdWUgPSBwcm9wVmFsdWVGaW5hbCkge1xuICBsZXQgdmFsdWU7XG4gIGlmICh0eXBlb2YgdGhlbWVNYXBwaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFsdWUgPSB0aGVtZU1hcHBpbmcocHJvcFZhbHVlRmluYWwpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhlbWVNYXBwaW5nKSkge1xuICAgIHZhbHVlID0gdGhlbWVNYXBwaW5nW3Byb3BWYWx1ZUZpbmFsXSB8fCB1c2VyVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBnZXRQYXRoKHRoZW1lTWFwcGluZywgcHJvcFZhbHVlRmluYWwpIHx8IHVzZXJWYWx1ZTtcbiAgfVxuICBpZiAodHJhbnNmb3JtKSB7XG4gICAgdmFsdWUgPSB0cmFuc2Zvcm0odmFsdWUsIHVzZXJWYWx1ZSwgdGhlbWVNYXBwaW5nKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBzdHlsZShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wLFxuICAgIGNzc1Byb3BlcnR5ID0gb3B0aW9ucy5wcm9wLFxuICAgIHRoZW1lS2V5LFxuICAgIHRyYW5zZm9ybVxuICB9ID0gb3B0aW9ucztcblxuICAvLyBmYWxzZSBwb3NpdGl2ZVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZnVuY3Rpb24tY29tcG9uZW50LWRlZmluaXRpb25cbiAgY29uc3QgZm4gPSBwcm9wcyA9PiB7XG4gICAgaWYgKHByb3BzW3Byb3BdID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICBjb25zdCB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICAgIGNvbnN0IHRoZW1lTWFwcGluZyA9IGdldFBhdGgodGhlbWUsIHRoZW1lS2V5KSB8fCB7fTtcbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBwcm9wVmFsdWVGaW5hbCA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBnZXRTdHlsZVZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBwcm9wVmFsdWVGaW5hbCk7XG4gICAgICBpZiAocHJvcFZhbHVlRmluYWwgPT09IHZhbHVlICYmIHR5cGVvZiBwcm9wVmFsdWVGaW5hbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSGF2ZW4ndCBmb3VuZCB2YWx1ZVxuICAgICAgICB2YWx1ZSA9IGdldFN0eWxlVmFsdWUodGhlbWVNYXBwaW5nLCB0cmFuc2Zvcm0sIGAke3Byb3B9JHtwcm9wVmFsdWVGaW5hbCA9PT0gJ2RlZmF1bHQnID8gJycgOiAoMCwgX3V0aWxzLnVuc3RhYmxlX2NhcGl0YWxpemUpKHByb3BWYWx1ZUZpbmFsKX1gLCBwcm9wVmFsdWVGaW5hbCk7XG4gICAgICB9XG4gICAgICBpZiAoY3NzUHJvcGVydHkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtjc3NQcm9wZXJ0eV06IHZhbHVlXG4gICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuICgwLCBfYnJlYWtwb2ludHMuaGFuZGxlQnJlYWtwb2ludHMpKHByb3BzLCBwcm9wVmFsdWUsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH07XG4gIGZuLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gICAgW3Byb3BdOiBfcmVzcG9uc2l2ZVByb3BUeXBlLmRlZmF1bHRcbiAgfSA6IHt9O1xuICBmbi5maWx0ZXJQcm9wcyA9IFtwcm9wXTtcbiAgcmV0dXJuIGZuO1xufVxudmFyIF9kZWZhdWx0ID0gc3R5bGU7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBOEMsQ0FBQztBQUNwRkMsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDeEJGLE9BQU8sQ0FBQ0csT0FBTyxHQUFHQSxPQUFPO0FBQ3pCSCxPQUFPLENBQUNJLGFBQWEsR0FBR0EsYUFBYTtBQUNyQyxJQUFJQyxNQUFNLEdBQUdSLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDbEMsSUFB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