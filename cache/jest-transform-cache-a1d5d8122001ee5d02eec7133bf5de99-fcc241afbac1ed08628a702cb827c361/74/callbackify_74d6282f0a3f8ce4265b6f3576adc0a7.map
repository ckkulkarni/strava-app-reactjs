{"version":3,"names":["_utils","_interopRequireDefault","require","obj","__esModule","default","callbackify","fn","reducer","utils","isAsyncFn","args","cb","pop","apply","then","value","err","_default","exports"],"sources":["callbackify.js"],"sourcesContent":["import utils from \"../utils.js\";\n\nconst callbackify = (fn, reducer) => {\n  return utils.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n}\n\nexport default callbackify;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,WAAW,GAAGA,CAACC,EAAE,EAAEC,OAAO,KAAK;EACnC,OAAOC,cAAK,CAACC,SAAS,CAACH,EAAE,CAAC,GAAG,UAAU,GAAGI,IAAI,EAAE;IAC9C,MAAMC,EAAE,GAAGD,IAAI,CAACE,GAAG,EAAE;IACrBN,EAAE,CAACO,KAAK,CAAC,IAAI,EAAEH,IAAI,CAAC,CAACI,IAAI,CAAEC,KAAK,IAAK;MACnC,IAAI;QACFR,OAAO,GAAGI,EAAE,CAAC,IAAI,EAAE,GAAGJ,OAAO,CAACQ,KAAK,CAAC,CAAC,GAAGJ,EAAE,CAAC,IAAI,EAAEI,KAAK,CAAC;MACzD,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZL,EAAE,CAACK,GAAG,CAAC;MACT;IACF,CAAC,EAAEL,EAAE,CAAC;EACR,CAAC,GAAGL,EAAE;AACR,CAAC;AAAA,IAAAW,QAAA,GAEcZ,WAAW;AAAAa,OAAA,CAAAd,OAAA,GAAAa,QAAA"}