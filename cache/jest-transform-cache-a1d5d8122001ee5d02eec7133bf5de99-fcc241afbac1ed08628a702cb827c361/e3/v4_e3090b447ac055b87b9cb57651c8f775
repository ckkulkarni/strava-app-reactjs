6f3bb983936c1b20f9ad8ccbb1898b4a
"use strict";

var rng = require('./lib/rng');
var bytesToUuid = require('./lib/bytesToUuid');
function v4(options, buf, offset) {
  var i = buf && offset || 0;
  if (typeof options == 'string') {
    buf = options === 'binary' ? new Array(16) : null;
    options = null;
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)();

  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80;

  // Copy bytes to buffer, if provided
  if (buf) {
    for (var ii = 0; ii < 16; ++ii) {
      buf[i + ii] = rnds[ii];
    }
  }
  return buf || bytesToUuid(rnds);
}
module.exports = v4;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJybmciLCJyZXF1aXJlIiwiYnl0ZXNUb1V1aWQiLCJ2NCIsIm9wdGlvbnMiLCJidWYiLCJvZmZzZXQiLCJpIiwiQXJyYXkiLCJybmRzIiwicmFuZG9tIiwiaWkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidjQuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDOUIsSUFBSUMsV0FBVyxHQUFHRCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFFOUMsU0FBU0UsRUFBRUEsQ0FBQ0MsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRTtFQUNoQyxJQUFJQyxDQUFDLEdBQUdGLEdBQUcsSUFBSUMsTUFBTSxJQUFJLENBQUM7RUFFMUIsSUFBSSxPQUFPRixPQUFRLElBQUksUUFBUSxFQUFFO0lBQy9CQyxHQUFHLEdBQUdELE9BQU8sS0FBSyxRQUFRLEdBQUcsSUFBSUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUk7SUFDakRKLE9BQU8sR0FBRyxJQUFJO0VBQ2hCO0VBQ0FBLE9BQU8sR0FBR0EsT0FBTyxJQUFJLENBQUMsQ0FBQztFQUV2QixJQUFJSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQ00sTUFBTSxJQUFJLENBQUNOLE9BQU8sQ0FBQ0osR0FBRyxJQUFJQSxHQUFHLEdBQUc7O0VBRW5EO0VBQ0FTLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSUEsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBSSxJQUFJO0VBQ2pDQSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUlBLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUksSUFBSTs7RUFFakM7RUFDQSxJQUFJSixHQUFHLEVBQUU7SUFDUCxLQUFLLElBQUlNLEVBQUUsR0FBRyxDQUFDLEVBQUVBLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRUEsRUFBRSxFQUFFO01BQzlCTixHQUFHLENBQUNFLENBQUMsR0FBR0ksRUFBRSxDQUFDLEdBQUdGLElBQUksQ0FBQ0UsRUFBRSxDQUFDO0lBQ3hCO0VBQ0Y7RUFFQSxPQUFPTixHQUFHLElBQUlILFdBQVcsQ0FBQ08sSUFBSSxDQUFDO0FBQ2pDO0FBRUFHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVixFQUFFIn0=