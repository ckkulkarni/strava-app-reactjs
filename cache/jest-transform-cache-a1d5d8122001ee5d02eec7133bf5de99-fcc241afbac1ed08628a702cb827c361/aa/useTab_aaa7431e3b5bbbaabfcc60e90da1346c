85350222c0b894ff9b6cfd13034b8685
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));
var _TabsUnstyled = require("../TabsUnstyled");
var _useButton2 = _interopRequireDefault(require("../useButton"));
const _excluded = ["getRootProps"];
/**
 *
 * Demos:
 *
 * - [Unstyled Tabs](https://mui.com/base/react-tabs/#hooks)
 *
 * API:
 *
 * - [useTab API](https://mui.com/base/api/use-tab/)
 */
function useTab(parameters) {
  var _getPanelId, _getTabId;
  const {
    value: valueProp,
    onChange,
    onClick,
    onFocus
  } = parameters;
  const _useButton = (0, _useButton2.default)(parameters),
    {
      getRootProps: getRootPropsButton
    } = _useButton,
    otherButtonProps = (0, _objectWithoutPropertiesLoose2.default)(_useButton, _excluded);
  const context = (0, _TabsUnstyled.useTabContext)();
  if (context === null) {
    throw new Error('No TabContext provided');
  }
  const value = valueProp != null ? valueProp : 0;
  const selected = context.value === value;
  const selectionFollowsFocus = context.selectionFollowsFocus;
  const a11yAttributes = {
    role: 'tab',
    'aria-controls': (_getPanelId = (0, _TabsUnstyled.getPanelId)(context, value)) != null ? _getPanelId : undefined,
    id: (_getTabId = (0, _TabsUnstyled.getTabId)(context, value)) != null ? _getTabId : undefined,
    'aria-selected': selected,
    disabled: otherButtonProps.disabled
  };
  const createHandleFocus = otherHandlers => event => {
    var _otherHandlers$onFocu;
    (_otherHandlers$onFocu = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);
    if (event.defaultPrevented) {
      return;
    }
    if (selectionFollowsFocus && !selected) {
      if (onChange) {
        onChange(event, value);
      }
      context.onSelected(event, value);
    }
    if (onFocus) {
      onFocus(event);
    }
  };
  const createHandleClick = otherHandlers => event => {
    var _otherHandlers$onClic;
    (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);
    if (event.defaultPrevented) {
      return;
    }
    if (!selected) {
      if (onChange) {
        onChange(event, value);
      }
      context.onSelected(event, value);
    }
    if (onClick) {
      onClick(event);
    }
  };
  const getRootProps = (otherHandlers = {}) => {
    const buttonResolvedProps = getRootPropsButton((0, _extends2.default)({}, otherHandlers, {
      onClick: createHandleClick(otherHandlers),
      onFocus: createHandleFocus(otherHandlers)
    }));
    return (0, _extends2.default)({}, buttonResolvedProps, a11yAttributes);
  };
  return (0, _extends2.default)({
    getRootProps
  }, otherButtonProps, {
    selected
  });
}
var _default = useTab;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9leHRlbmRzMiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlMiIsIl9UYWJzVW5zdHlsZWQiLCJfdXNlQnV0dG9uMiIsIl9leGNsdWRlZCIsInVzZVRhYiIsInBhcmFtZXRlcnMiLCJfZ2V0UGFuZWxJZCIsIl9nZXRUYWJJZCIsInZhbHVlUHJvcCIsIm9uQ2hhbmdlIiwib25DbGljayIsIm9uRm9jdXMiLCJfdXNlQnV0dG9uIiwiZ2V0Um9vdFByb3BzIiwiZ2V0Um9vdFByb3BzQnV0dG9uIiwib3RoZXJCdXR0b25Qcm9wcyIsImNvbnRleHQiLCJ1c2VUYWJDb250ZXh0IiwiRXJyb3IiLCJzZWxlY3RlZCIsInNlbGVjdGlvbkZvbGxvd3NGb2N1cyIsImExMXlBdHRyaWJ1dGVzIiwicm9sZSIsImdldFBhbmVsSWQiLCJ1bmRlZmluZWQiLCJpZCIsImdldFRhYklkIiwiZGlzYWJsZWQiLCJjcmVhdGVIYW5kbGVGb2N1cyIsIm90aGVySGFuZGxlcnMiLCJldmVudCIsIl9vdGhlckhhbmRsZXJzJG9uRm9jdSIsImNhbGwiLCJkZWZhdWx0UHJldmVudGVkIiwib25TZWxlY3RlZCIsImNyZWF0ZUhhbmRsZUNsaWNrIiwiX290aGVySGFuZGxlcnMkb25DbGljIiwiYnV0dG9uUmVzb2x2ZWRQcm9wcyIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsidXNlVGFiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX2V4dGVuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpKTtcbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIikpO1xudmFyIF9UYWJzVW5zdHlsZWQgPSByZXF1aXJlKFwiLi4vVGFic1Vuc3R5bGVkXCIpO1xudmFyIF91c2VCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdXNlQnV0dG9uXCIpKTtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImdldFJvb3RQcm9wc1wiXTtcbi8qKlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW1Vuc3R5bGVkIFRhYnNdKGh0dHBzOi8vbXVpLmNvbS9iYXNlL3JlYWN0LXRhYnMvI2hvb2tzKVxuICpcbiAqIEFQSTpcbiAqXG4gKiAtIFt1c2VUYWIgQVBJXShodHRwczovL211aS5jb20vYmFzZS9hcGkvdXNlLXRhYi8pXG4gKi9cbmZ1bmN0aW9uIHVzZVRhYihwYXJhbWV0ZXJzKSB7XG4gIHZhciBfZ2V0UGFuZWxJZCwgX2dldFRhYklkO1xuICBjb25zdCB7XG4gICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICBvbkNoYW5nZSxcbiAgICBvbkNsaWNrLFxuICAgIG9uRm9jdXNcbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGNvbnN0IF91c2VCdXR0b24gPSAoMCwgX3VzZUJ1dHRvbjIuZGVmYXVsdCkocGFyYW1ldGVycyksXG4gICAge1xuICAgICAgZ2V0Um9vdFByb3BzOiBnZXRSb290UHJvcHNCdXR0b25cbiAgICB9ID0gX3VzZUJ1dHRvbixcbiAgICBvdGhlckJ1dHRvblByb3BzID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlMi5kZWZhdWx0KShfdXNlQnV0dG9uLCBfZXhjbHVkZWQpO1xuICBjb25zdCBjb250ZXh0ID0gKDAsIF9UYWJzVW5zdHlsZWQudXNlVGFiQ29udGV4dCkoKTtcbiAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFRhYkNvbnRleHQgcHJvdmlkZWQnKTtcbiAgfVxuICBjb25zdCB2YWx1ZSA9IHZhbHVlUHJvcCAhPSBudWxsID8gdmFsdWVQcm9wIDogMDtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBjb250ZXh0LnZhbHVlID09PSB2YWx1ZTtcbiAgY29uc3Qgc2VsZWN0aW9uRm9sbG93c0ZvY3VzID0gY29udGV4dC5zZWxlY3Rpb25Gb2xsb3dzRm9jdXM7XG4gIGNvbnN0IGExMXlBdHRyaWJ1dGVzID0ge1xuICAgIHJvbGU6ICd0YWInLFxuICAgICdhcmlhLWNvbnRyb2xzJzogKF9nZXRQYW5lbElkID0gKDAsIF9UYWJzVW5zdHlsZWQuZ2V0UGFuZWxJZCkoY29udGV4dCwgdmFsdWUpKSAhPSBudWxsID8gX2dldFBhbmVsSWQgOiB1bmRlZmluZWQsXG4gICAgaWQ6IChfZ2V0VGFiSWQgPSAoMCwgX1RhYnNVbnN0eWxlZC5nZXRUYWJJZCkoY29udGV4dCwgdmFsdWUpKSAhPSBudWxsID8gX2dldFRhYklkIDogdW5kZWZpbmVkLFxuICAgICdhcmlhLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgZGlzYWJsZWQ6IG90aGVyQnV0dG9uUHJvcHMuZGlzYWJsZWRcbiAgfTtcbiAgY29uc3QgY3JlYXRlSGFuZGxlRm9jdXMgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25Gb2N1O1xuICAgIChfb3RoZXJIYW5kbGVycyRvbkZvY3UgPSBvdGhlckhhbmRsZXJzLm9uRm9jdXMpID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbkZvY3UuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNlbGVjdGlvbkZvbGxvd3NGb2N1cyAmJiAhc2VsZWN0ZWQpIHtcbiAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICBvbkNoYW5nZShldmVudCwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5vblNlbGVjdGVkKGV2ZW50LCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChvbkZvY3VzKSB7XG4gICAgICBvbkZvY3VzKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUNsaWNrID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQ2xpYztcbiAgICAoX290aGVySGFuZGxlcnMkb25DbGljID0gb3RoZXJIYW5kbGVycy5vbkNsaWNrKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25DbGljLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2VsZWN0ZWQpIHtcbiAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICBvbkNoYW5nZShldmVudCwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5vblNlbGVjdGVkKGV2ZW50LCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICBvbkNsaWNrKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldFJvb3RQcm9wcyA9IChvdGhlckhhbmRsZXJzID0ge30pID0+IHtcbiAgICBjb25zdCBidXR0b25SZXNvbHZlZFByb3BzID0gZ2V0Um9vdFByb3BzQnV0dG9uKCgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIG90aGVySGFuZGxlcnMsIHtcbiAgICAgIG9uQ2xpY2s6IGNyZWF0ZUhhbmRsZUNsaWNrKG90aGVySGFuZGxlcnMpLFxuICAgICAgb25Gb2N1czogY3JlYXRlSGFuZGxlRm9jdXMob3RoZXJIYW5kbGVycylcbiAgICB9KSk7XG4gICAgcmV0dXJuICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIGJ1dHRvblJlc29sdmVkUHJvcHMsIGExMXlBdHRyaWJ1dGVzKTtcbiAgfTtcbiAgcmV0dXJuICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe1xuICAgIGdldFJvb3RQcm9wc1xuICB9LCBvdGhlckJ1dHRvblByb3BzLCB7XG4gICAgc2VsZWN0ZWRcbiAgfSk7XG59XG52YXIgX2RlZmF1bHQgPSB1c2VUYWI7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBOEMsQ0FBQztBQUNwRkMsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDeEIsSUFBSUMsU0FBUyxHQUFHUCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7QUFDakYsSUFBSU8sOEJBQThCLEdBQUdSLHNCQUFzQixDQUFDQyxPQUFPLENBQUMscURBQXFELENBQUMsQ0FBQztBQUMzSCxJQUFJUSxhQUFhLEdBQUdSLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUM5QyxJQUFJUyxXQUFXLEdBQUdWLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDakUsTUFBTVUsU0FBUyxHQUFHLENBQUMsY0FBYyxDQUFDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0MsTUFBTUEsQ0FBQ0MsVUFBVSxFQUFFO0VBQzFCLElBQUlDLFdBQVcsRUFBRUMsU0FBUztFQUMx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